(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+uwM":function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n("gvJE"),s=n("gdse"),a=n("4SMR"),o=n("fXoL"),r=n("3zhW"),c=n("tyNb"),l=n("NCOs"),d=n("ofXK"),g=n("oQEw"),u=n("4Y2v"),h=n("knll"),p=n("SOpw");function m(t,e){if(1&t&&(o.jc(0,"div",12),o.fd(1),o.wc(2,"t"),o.ic()),2&t){const t=o.vc();o.Mb(1),o.gd(o.xc(2,1,t.translations.bestAnswer))}}function _(t,e){if(1&t&&(o.jc(0,"div",13),o.ec(1,"activities-stream-rating",14),o.ic()),2&t){const t=o.vc();o.Mb(1),o.Dc("params",t.ratingParams())}}const b=function(t){return[t]},f=function(t){return{length:"medium",relativeMaxDaysDifference:t}};let w=(()=>{class t{constructor(){this.translations={bestAnswer:i.a.t("app7020","Best Answer")}}ratingParams(){return{commentType:s.a.answer,item:{id:this.comment.id,title:this.comment.content,is_best:this.comment.isBestAnswer,read_only:this.comment.isReadOnly,created_at:this.comment.time,rating:{likes:this.comment.ratings.likes,dislikes:this.comment.ratings.dislikes},owner:{id:this.comment.author.id,short_name:this.comment.author.initials,full_name:this.comment.author.fullName,avatar:this.comment.author.avatar,is_expert:this.comment.author.isExpert},voted:this.comment.voted},type:void 0!==this.comment.ratings.dislikes?a.a.likedislike:a.a.vote}}showRating(){return null!==this.comment.ratings.dislikes||null!==this.comment.ratings.likes||null!==this.comment.ratings.vote}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xb({type:t,selectors:[["activities-stream-item-asset-comments-subitem"]],inputs:{comment:"comment",params:"params"},decls:17,vars:23,consts:[[1,"root"],[1,"avatar-container"],[3,"initials","image_url","size"],[1,"wrapper"],[1,"heading"],[1,"author-name","text-main",3,"routerLink"],[1,"content"],[3,"content","lines","removeHtml"],[1,"meta"],["class","best-answer",4,"ngIf"],["class","ratings-container",4,"ngIf"],[1,"time"],[1,"best-answer"],[1,"ratings-container"],[1,"rating",3,"params"]],template:function(t,e){1&t&&(o.jc(0,"div",0),o.jc(1,"div",1),o.ec(2,"avatar",2),o.ic(),o.jc(3,"div",3),o.jc(4,"div",4),o.jc(5,"a",5),o.fd(6),o.ic(),o.ic(),o.jc(7,"div",6),o.ec(8,"line-limiter",7),o.wc(9,"sanitizeHtml"),o.wc(10,"discoverMention"),o.ic(),o.jc(11,"div",8),o.dd(12,m,3,3,"div",9),o.dd(13,_,2,1,"div",10),o.jc(14,"div",11),o.fd(15),o.wc(16,"dateTime"),o.ic(),o.ic(),o.ic(),o.ic()),2&t&&(o.Mb(2),o.Dc("initials",e.comment.author.initials)("image_url",e.comment.author.avatar)("size",30),o.Mb(3),o.Dc("routerLink",o.Ic(19,b,"/share/personalChannel/"+e.comment.author.uuid)),o.Mb(1),o.gd(e.comment.author.fullName),o.Mb(2),o.Dc("content",o.xc(9,11,o.yc(10,13,e.comment.content,e.comment.mentions)))("lines",3)("removeHtml",!1),o.Mb(4),o.Dc("ngIf",e.comment.isBestAnswer),o.Mb(1),o.Dc("ngIf",e.showRating()),o.Mb(2),o.gd(o.yc(16,16,e.comment.time,o.Ic(21,f,-1))))},directives:[r.a,c.k,l.a,d.p,g.a],pipes:[u.a,h.a,p.a,i.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.root[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:1em}.avatar-container[_ngcontent-%COMP%]{font-weight:600}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .avatar-container{padding:0 10px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .avatar-container{padding:0 0 0 10px}.wrapper[_ngcontent-%COMP%]{width:100%}.wrapper[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:0 0 2px;font-size:.825em}.wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{font-weight:600}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 0 8px;font-size:.825em}[_nghost-%COMP%]     .wrapper .content p{line-height:140%}.wrapper[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;flex-direction:row}.best-answer[_ngcontent-%COMP%]{padding:1px 8px;font-size:.7em;font-weight:700;text-transform:uppercase;color:#fff;background-color:var(--ui-color-typography-success)}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .best-answer{margin:0 25px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .best-answer{margin:0 0 0 25px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .ratings-container{margin:0 15px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .ratings-container{margin:0 0 0 15px}.ratings-container[_ngcontent-%COMP%]   activities-stream-rating[_ngcontent-%COMP%]{font-size:1em}.time[_ngcontent-%COMP%]{font-size:.8em;color:var(--ui-color-typography-secondary)}"]}),t})()},"/Kda":function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"4","sequence":"0","widgets":[{"id":"","type":"customcontentbox","name":{"en":"CustomContentBox","fa":"CustomContentBox","fi":"CustomContentBox","it":"CustomContentBox"},"settings":{}}]},{"size":"8","sequence":"1","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":2,"columns":[{"size":"6","sequence":"0","widgets":[{"id":"","type":"customcontentbox","name":{"en":"CustomContentBox","fa":"CustomContentBox","fi":"CustomContentBox","it":"CustomContentBox"},"settings":{}}]},{"size":"6","sequence":"1","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":3,"columns":[{"size":"8","sequence":"0","widgets":[{"id":"","type":"customcontentbox","name":{"en":"CustomContentBox","fa":"CustomContentBox","fi":"CustomContentBox","it":"CustomContentBox"},"settings":{}}]},{"size":"4","sequence":"1","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":4,"columns":[{"size":"12","sequence":"0","widgets":[{"id":"","type":"customcontentbox","name":{"en":"CustomContentBox","fa":"CustomContentBox","fi":"CustomContentBox","it":"CustomContentBox"},"settings":{}}]}]}]}}')},"/iLL":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("d+dA"),s=n("dRcD");function a(){const{user_initials:t,avatar_url:e,id:n,firstname:a,lastname:o}=s.a.getInstance();return{avatar:e,id:n,initials:t,fullName:(r=a,c=o,i.b.getInstance().settings.show_first_name_first?`${r} ${c}`:`${c} ${r}`)};var r,c}},"/kKY":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.item=0]="item",t[t.subitem=1]="subitem",t}({})},"076Y":function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n("A+3w"),s=n("/76g"),a=n("TrxT"),o=n("1G5W"),r=n("fXoL"),c=n("XNiG"),l=n("Kj3r"),d=n("eIep"),g=n("lJxs"),u=n("wO+i"),h=n("Y9qQ");let p=(()=>{class t{constructor(t){this.backendService=t,this.searchSources$=new c.a,this.searchSuggestions$=this.searchSources$.pipe(Object(l.a)(500),Object(d.a)(t=>this.search(t)))}search(t){return this.backendService.request("/manage/v1/tags","GET",{search_tag:t.query,page:1,page_size:10}).pipe(Object(g.a)(e=>(e.data.items=e.data.items.map(e=>({name:e.name,id:t.mappedToId?e.id:e.name})),e.data.items)))}add(t){return this.backendService.request("/manage/v1/tags","POST",{tag:t}).pipe(Object(u.a)("data"))}}return t.\u0275fac=function(e){return new(e||t)(r.nc(h.a))},t.\u0275prov=r.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=n("+sIT"),_=n("f2BR"),b=n("gvJE");const f=["tagsMultiSelect"];let w=(()=>{class t extends a.a{constructor(t,e){super(),this.assetTags=t,this.docLayoutService=e,this.preselected=[],this.mappedToId=!1,this.multiSelectMode=i.a.AUTOCOMPLETE,this.multiSelectShowLoader=!1,this.multiSelectSource=[],this.multiSelectPreselected=[],this.dictionary={tagsLabel:s.a.t("app7020","Tags"),multiSelectPlaceholder:s.a.t("standard","Type...")},this.assetTags.searchSuggestions$.pipe(Object(o.a)(this.ngUnsubscribe)).subscribe(t=>{this.multiSelectShowLoader=!1,this.multiSelectSource=t})}ngOnInit(){this.preselected&&this.preselected.length&&(this.multiSelectPreselected=this.preselected.map(t=>t.id),this.multiSelectSource=this.preselected)}searchAvailableTags(t){this.multiSelectSource=[],t.length<3||(this.multiSelectShowLoader=!0,this.assetTags.searchSources$.next({query:t,mappedToId:this.mappedToId}))}addNewTag(t){(null==t?void 0:t.length)&&(this.multiSelectShowLoader=!0,this.assetTags.add(t).subscribe(t=>{const e={id:this.mappedToId?t.id:t.tag,name:t.tag};this.multiSelectSource.push(e),this.tagsMultiSelect.select(e),this.multiSelectShowLoader=!1},()=>{this.docLayoutService.toast.showToast({type:"error",message:s.a.t("standard","_OPERATION_FAILURE")}),this.multiSelectShowLoader=!1}))}markControlAsDirty(){this.inputFormControl.markAsTouched(),this.inputFormControl.markAsDirty(),this.inputFormControl.updateValueAndValidity()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(p),r.dc(m.a))},t.\u0275cmp=r.Xb({type:t,selectors:[["app7020-asset-tags"]],viewQuery:function(t,e){if(1&t&&r.md(f,1),2&t){let t;r.Qc(t=r.sc())&&(e.tagsMultiSelect=t.first)}},inputs:{inputFormControl:"inputFormControl",preselected:"preselected",mappedToId:"mappedToId"},features:[r.Jb],decls:4,vars:18,consts:[[3,"showCounter","showRequiredFieldIndicator","applySourceRegex","suggestionsMaxHeight","max_selectable_items","applyLoaderOffset","canEnterItems","showLoader","mode","label","placeholder","inputFormControl","value","source","onChange","onInputKeyEnter","onItemSelection","onItemDeletion"],["tagsMultiSelect",""]],template:function(t,e){1&t&&(r.jc(0,"multi-select",0,1),r.rc("onChange",function(t){return e.searchAvailableTags(t)})("onInputKeyEnter",function(t){return e.addNewTag(null==t?null:t.controlValue)})("onItemSelection",function(){return e.markControlAsDirty()})("onItemDeletion",function(){return e.markControlAsDirty()}),r.wc(2,"t"),r.wc(3,"t"),r.ic()),2&t&&r.Dc("showCounter",!0)("showRequiredFieldIndicator",!1)("applySourceRegex",!1)("suggestionsMaxHeight",130)("max_selectable_items",50)("applyLoaderOffset",!0)("canEnterItems",!0)("showLoader",e.multiSelectShowLoader)("mode",e.multiSelectMode)("label",r.xc(2,14,e.dictionary.tagsLabel))("placeholder",r.xc(3,16,e.dictionary.multiSelectPlaceholder))("inputFormControl",e.inputFormControl)("value",e.multiSelectPreselected)("source",e.multiSelectSource)},directives:[_.a],pipes:[b.b],styles:[""]}),t})()},"0IxS":function(t,e,n){"use strict";n.d(e,"a",function(){return k}),n.d(e,"b",function(){return b}),n.d(e,"d",function(){return A}),n.d(e,"c",function(){return y.a});var i=n("mrSG"),s=n("3Pt+"),a=n("d+dA"),o=n("gvJE"),r=n("bUIS"),c=n("8lF4"),l=n("LC/E"),d=n("Ms56");const g=a.b.getInstance().isPluginActive("SubscriptionCodesApp"),u={name:"subscriptioncode",heading:o.a.t("standard","Subscription codes"),description:o.a.t("admin_webpages","Shows subscription codes for courses"),preview:"/public/images/pages/subscription-code-preview.jpg",conditions:{exists:g},params:[{name:"title",type:"textMultilang",label:o.a.t("standard","Title"),legend:o.a.t("dashboard","Leave blank to hide the title"),settings:{showCounter:!0,maxLength:255}}]};var h=n("zmik");const p={id:"",name:{type:"single_value",value:"",values:null},position:{row:0,column:0,sequence:0},settings:{assignToAll:!1,translationsLocalizableFields:{title:{en:""}}},type:"subscriptioncode"};var m=n("fMkf"),_=n("r0xE");class b extends _.a{constructor(){super(),this.config=this.initConfig(u)}}var f=n("fXoL"),w=n("aHuI"),C=n("l7P3"),O=n("JA8w"),v=n("ofXK"),M=n("u9ID"),y=n("Cbwy"),P=n("ny5d");function S(t,e){if(1&t&&f.ec(0,"widget-title",10),2&t){const t=f.vc(2);f.Dc("widgetTitle",t.widgetTitle)}}function I(t,e){1&t&&(f.jc(0,"div",11),f.jc(1,"div",12),f.jc(2,"i",13),f.fd(3," check "),f.ic(),f.ic(),f.ic())}function x(t,e){if(1&t){const t=f.kc();f.jc(0,"div",14),f.jc(1,"div",15),f.jc(2,"textfield-with-send-button",16),f.rc("buttonClicked",function(e){return f.Uc(t),f.vc(2).postCode(e)}),f.ic(),f.ic(),f.ic()}if(2&t){const t=f.vc(2);f.Mb(2),f.Dc("id",t.id)("label",t.translations.subscriptionCode)("isLoading",t.isPostSubscriptionCodeInProgress)("inputFormControl",t.inputFormControl)}}const E=function(){return["/learn/mycourses"]};function T(t,e){if(1&t){const t=f.kc();f.jc(0,"div",17),f.jc(1,"widget-action-button",18),f.rc("buttonClick",function(){return f.Uc(t),f.vc(2).back()}),f.ic(),f.ec(2,"widget-action-button",19),f.ic()}if(2&t){const t=f.vc(2);f.Mb(1),f.Dc("title",t.translations.insertAnotherCode),f.Mb(1),f.Dc("link",f.Hc(3,E))("title",t.translations.viewAllMyCoursesAndLearningPlans)}}function D(t,e){if(1&t&&(f.jc(0,"div"),f.dd(1,S,1,1,"widget-title",1),f.jc(2,"div",2),f.jc(3,"div",3),f.jc(4,"div",4),f.jc(5,"div",5),f.fd(6),f.wc(7,"t"),f.ic(),f.jc(8,"div",6),f.fd(9),f.wc(10,"t"),f.ic(),f.ic(),f.dd(11,I,4,0,"div",7),f.dd(12,x,3,4,"div",8),f.ic(),f.dd(13,T,3,4,"div",9),f.ic(),f.ic()),2&t){const t=f.vc();f.Mb(1),f.Dc("ngIf",t.widgetTitle),f.Mb(2),f.Vb("message-confirmed",t.isMessageConfirmed),f.Mb(3),f.gd(f.xc(7,8,t.title)),f.Mb(3),f.gd(f.xc(10,10,t.subtitle)),f.Mb(2),f.Dc("ngIf",t.isMessageConfirmed),f.Mb(1),f.Dc("ngIf",!t.isMessageConfirmed),f.Mb(1),f.Dc("ngIf",t.isMessageConfirmed)}}let k=(()=>{let t=class extends r.a{constructor(t,e,n){super(),this.actions=t,this.store=e,this.translationService=n,this.currentState=h.b,this.data=p,this.inputFormControl=new s.e,this.translations={doYouHaveASubscriptionCode:o.a.t("standard","Do you have a subscription code?"),insertAnotherCode:o.a.t("standard","Insert another code"),subscriptionCode:o.a.t("standard","Subscription code"),typeItHereToSubscribeToYourCourses:o.a.t("standard","Type it here to subscribe to your courses!"),yourCodeDoesNotSeemToBeValid:o.a.t("standard","Your code does not seem to be valid"),youCanFindTheNewCourseInMyCoursesAndLearningPlansPage:o.a.t("admin_webpages",'You can find the new course in "My Courses and Learning Plans" page.'),youCanFindTheNewCoursesInMyCoursesAndLearningPlansPage:o.a.t("admin_webpages",'You can find the new courses in "My Courses and Learning Plans" page.'),viewAllMyCoursesAndLearningPlans:o.a.t("admin_webpages","View all my Courses and Learning plans")},this._isMessageConfirmed=!1,this._isPostSubscriptionCodeInProgress=!1,this.store.dispatch(this.actions.init(this.data.id))}ngOnInit(){this.reduxListener(),this.setWidgetTitle(this.translationService.currentLang,a.b.getInstance().default_language),this.inputFormControl.setValidators(s.x.required)}ngOnDestroy(){this.store.dispatch(this.actions.destroy(this.data.id)),this.reduxSubscriber.unsubscribe()}reduxListener(){this.reduxSubscriber=this.store.select(l.j).subscribe(t=>{if(this.data.id in t.widgets&&this.currentState.status!==t.widgets[this.data.id].status)switch(this.currentState=t.widgets[this.data.id],this.currentState.status){case d.a.POST_SUBSCRIPTION_CODE_IN_PROGRESS:this.managePostSubscriptionCodeInProgress();break;case d.a.POST_SUBSCRIPTION_CODE_REJECT:this.managePostSubscriptionCodeReject();break;case d.a.POST_SUBSCRIPTION_CODE_SUCCESS:this.managePostSubscriptionCodeSuccess()}})}get id(){return`send-subscription-code-${this.data.id}`}get isPostSubscriptionCodeInProgress(){return this._isPostSubscriptionCodeInProgress}set isPostSubscriptionCodeInProgress(t){this._isPostSubscriptionCodeInProgress=t}get isMessageConfirmed(){return this._isMessageConfirmed}set isMessageConfirmed(t){this._isMessageConfirmed=t}get title(){return this.isMessageConfirmed?this.yourCodeGiveYouAccessToNCourses:this.translations.doYouHaveASubscriptionCode}get subtitle(){return this.isMessageConfirmed?1===this.currentState.data.enrollments?this.translations.youCanFindTheNewCourseInMyCoursesAndLearningPlansPage:this.translations.youCanFindTheNewCoursesInMyCoursesAndLearningPlansPage:this.translations.typeItHereToSubscribeToYourCourses}get showWidget(){return g}get yourCodeGiveYouAccessToNCourses(){return o.a.t("admin_webpages",1===this.currentState.data.enrollments?"Your code give you access to {count} course":"Your code give you access to {count} courses",{count:this.currentState.data.enrollments})}back(){this.isMessageConfirmed=!1}postCode(t){this.store.dispatch(this.actions.postSubscriptionCode(t,this.data.id))}managePostSubscriptionCodeInProgress(){this.isPostSubscriptionCodeInProgress=!0}managePostSubscriptionCodeReject(){this.isPostSubscriptionCodeInProgress=!1,this.showErrorOnInput()}managePostSubscriptionCodeSuccess(){this.isPostSubscriptionCodeInProgress=!1,this.currentState.data.success?(this.isMessageConfirmed=!0,this.inputFormControl.setValue(""),this.inputFormControl.markAsUntouched()):this.showErrorOnInput()}showErrorOnInput(){setTimeout(()=>this.inputFormControl.setErrors({remote:this.translations.yourCodeDoesNotSeemToBeValid}))}};return t.\u0275fac=function(e){return new(e||t)(f.dc(w.a),f.dc(C.d),f.dc(O.a))},t.\u0275cmp=f.Xb({type:t,selectors:[["subscription-code-widget"]],features:[f.Jb],decls:1,vars:1,consts:[[4,"ngIf"],[3,"widgetTitle",4,"ngIf"],[1,"wrapper","wrapper-shadow"],[1,"content"],[1,"titles-container"],[1,"title"],[1,"subtitle"],["class","check-icon-container",4,"ngIf"],["class","subscription-code-container",4,"ngIf"],["class","widget-actions-container",4,"ngIf"],[3,"widgetTitle"],[1,"check-icon-container"],[1,""],[1,"material-icons","check-icon"],[1,"subscription-code-container"],[1,"subscription-code"],[3,"id","label","isLoading","inputFormControl","buttonClicked"],[1,"widget-actions-container"],["automation-id","",3,"title","buttonClick"],[3,"link","title"]],template:function(t,e){1&t&&f.dd(0,D,14,12,"div",0),2&t&&f.Dc("ngIf",e.showWidget)},directives:[v.p,M.a,y.a,P.a],pipes:[o.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.check-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;font-size:28px;line-height:31px;font-weight:700;text-align:center;color:#fff;background-color:#008767}@media (-ms-high-contrast:none){.check-icon[_ngcontent-%COMP%], .check-icon[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-ms-backdrop{line-height:41px}}.content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:30px 25px}.widgets-column-small[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .widgets-column-small[_nghost-%COMP%]   .content[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex-direction:column;align-items:normal;padding:25px}@media screen and (max-width:640px){.content[_ngcontent-%COMP%], .widgets-column-small[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-direction:column;align-items:normal;padding:25px}}.widgets-column-small[_ngcontent-%COMP%]   .content.message-confirmed[_ngcontent-%COMP%], .widgets-column-small[_nghost-%COMP%]   .content.message-confirmed[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .content.message-confirmed[_ngcontent-%COMP%]{flex-direction:row}@media screen and (max-width:640px){.content.message-confirmed[_ngcontent-%COMP%], .widgets-column-small[_ngcontent-%COMP%]   .content.message-confirmed[_ngcontent-%COMP%]{flex-direction:row}}.subscription-code-container[_ngcontent-%COMP%]{flex:1 1 auto;width:100%}.widgets-column-small[_ngcontent-%COMP%]   .subscription-code-container[_ngcontent-%COMP%], .widgets-column-small[_nghost-%COMP%]   .subscription-code-container[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .subscription-code-container[_ngcontent-%COMP%]{margin:20px 0 0}@media screen and (max-width:640px){.subscription-code-container[_ngcontent-%COMP%], .widgets-column-small[_ngcontent-%COMP%]   .subscription-code-container[_ngcontent-%COMP%]{margin:20px 0 0}}.subtitle[_ngcontent-%COMP%]{margin:2px 0 0;font-size:12px;line-height:17px;color:var(--ui-color-typography-secondary)}.title[_ngcontent-%COMP%]{font-size:14px;line-height:19px;font-weight:600}.titles-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;box-sizing:border-box;width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .titles-container{padding:0 60px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .titles-container{padding:0 0 0 60px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]     .titles-container{padding:0 30px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]     .titles-container{padding:0 0 0 30px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]     .titles-container{padding:0 30px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]     .titles-container{padding:0 0 0 30px}@media screen and (max-width:640px){.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]     .titles-container{padding:0 30px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]     .titles-container{padding:0 0 0 30px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .titles-container{padding:0 30px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .titles-container{padding:0 0 0 30px}}.wrapper[_ngcontent-%COMP%]{background-color:#fff}"]}),t=Object(i.b)([Object(c.a)({name:u.name,module:"pages",settings:b})],t),t})();const A=m},"1FF/":function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":12,"sequence":"0","widgets":[{"id":"2","type":"trending","name":{"en":"Trending 3/3","fa":"Trending 3/3","fi":"Trending 3/3","it":"Trending 3/3"},"position":{"column":0,"row":1,"sequence":0},"settings":{"title":"Trending","show":"topChannels","groupBy":"bestAnswer","showTimeTrend":true,"defaultTimeTrend":"weekly","maxDisplayableItems":"10","showLoadMore":true}}]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":8,"sequence":"0","widgets":[{"id":"2","type":"trending","name":{"en":"Trending 2/3","fa":"Trending 2/3","fi":"Trending 2/3","it":"Trending 2/3"},"position":{"column":0,"row":1,"sequence":0},"settings":{"title":"Trending","show":"topChannels","groupBy":"bestAnswer","showTimeTrend":true,"defaultTimeTrend":"weekly","maxDisplayableItems":"10","showLoadMore":true}}]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":6,"sequence":"0","widgets":[{"id":"2","type":"trending","name":{"en":"Trending 1/2","fa":"Trending 1/2","fi":"Trending 1/2","it":"Trending 1/2"},"position":{"column":0,"row":1,"sequence":0},"settings":{"title":"Trending","show":"topChannels","groupBy":"bestAnswer","showTimeTrend":true,"defaultTimeTrend":"weekly","maxDisplayableItems":"10","showLoadMore":true}}]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":4,"sequence":"0","widgets":[{"id":"2","type":"trending","name":{"en":"Trending 1/3","fa":"Trending 1/3","fi":"Trending 1/3","it":"Trending 1/3"},"position":{"column":0,"row":1,"sequence":0},"settings":{"title":"Trending","show":"topChannels","groupBy":"bestAnswer","showTimeTrend":true,"defaultTimeTrend":"weekly","maxDisplayableItems":"10","showLoadMore":true}}]}]}]}}')},"1cD2":function(t){t.exports=JSON.parse('{"data":{"id_asset":99999,"title":"Pellentesque fringilla leo vitae eros malesuada consectetur","player_type":"embeded","config":{"total_pages":0,"tracking":{"enabled":true},"spent_time":{"enabled":true,"interval":10}},"content":{"name_original":"https://www.youtube.com/watch?v=7X8II6J-6mU","name_converted":"a0013b5628377ec38cbba1bbbde558d0.jpg","filesize":false,"sources":[{"url":"https://www.youtube.com/watch?v=7X8II6J-6mU"}],"thumbnail":[{"small":"/public/images/pages/image4.png"},{"video":"/public/images/pages/image4.png"},{"carousel":"/public/images/pages/image4.png"},{"original":"/public/images/pages/image4.png"}]},"description":"<p>In pharetra enim in orci congue, at lobortis neque bibendum. Nullam ipsum nisi, ornare nec sapien eget, imperdiet eleifend tortor. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Phasellus fringilla ex id orci feugiat volutpat. Nulla sodales nisi est, a fringilla leo suscipit sed.</p>","content_type":20},"version":"1.0.0","_links":[]}')},"2Myo":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{init(e){return{type:t.INIT}}update(e){return{type:t.UPDATE}}loadDataSucces(e){return{type:t.LOAD_DATA_SUCCESS,payload:{data:e}}}loadDataReject(e){return{type:t.LOAD_DATA_REJECT,payload:{status:"error",errorMsg:e}}}loadDemoData(e){return{type:t.LOAD_DEMO_DATA,payload:{data:e}}}}return t.INIT="[WCoursesAndLearningPlansOverview] Init widget",t.UPDATE="[WCoursesAndLearningPlansOverview] Update widget",t.LOAD_DATA_SUCCESS="[WCoursesAndLearningPlansOverview] Load widget data",t.LOAD_DATA_REJECT="[WCoursesAndLearningPlansOverview] Failed loading Custom Widget Page data",t.LOAD_DEMO_DATA="[WCoursesAndLearningPlansOverview] Load widget demo data",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},"31Ws":function(t){t.exports=JSON.parse('{"data":{"items":[{"id":1.5167002850000002e+21,"user_id":13888,"username":"lorem.ipsum","name":"Consectetur adipiscing elit","description":"<p><span style=\\"font-family:\'-apple-system\', \'system-ui\', \'system-ui\';\\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</span></p>","type":"enrollment","status":"enrolled","location_name":null,"webinar_tool":null,"session_date_begin":null,"session_time_begin":null,"session_timezone":null,"lang_code":"en","code":null,"course_begin_date":null,"enroll_date_of_enrollment":"2018-01-19 09:02:25","enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":0,"enrollment_fields":null,"waiting":"0","url":"/learn/course/99999/lorem-ipsum-dolor-sit-amet","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"lorem-ipsum-dolor-sit-amet","is_new":true,"image_url":"/public/images/pages/image1.png","soft_deadline":true,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}],"course_type":"elearning","when":"2018-01-19 09:02:25"},{"id":99994,"type":"question","title":"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>","metadata":{"created_at":"2017-12-14 17:37:35","is_related":true,"related_kind":"coach_share","views":0,"total_items":1,"new_items":1,"is_follow":false,"is_new":true,"read_only":true,"have_last":true,"have_best":false},"owner":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","is_expert":false},"related":{"id":99996,"title":"Cras auctor nulla fermentum tortor ornare, sed iaculis tellus hendrerit.","description":"<p>Phasellus vestibulum rutrum ipsum in imperdiet. Vestibulum cursus libero ac magna viverra, non mattis est pellentesque.</p>","date_created":"2017-01-05 08:49:13","kind":{"general":"link","sub":null},"is_private":false,"views":0,"info":{"history":{"published":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2017-01-06 15:05:07"},"last_edit":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2017-01-06 15:05:07"},"edit":[{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2017-01-06 15:05:07"}]}},"thumbnail":{"small":"/public/images/pages/image1.png","video":"/public/images/pages/image1.png","original":"/public/images/pages/image1.png","carousel":"/public/images/pages/image1.png"},"owner":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png"}},"rating":null,"sub_items":[{"id":57,"type":1,"title":"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>","is_best":true,"read_only":true,"created_at":"2017-12-14 17:38:04","question":139,"rating":{"likes":0,"dislikes":0},"owner":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","is_expert":false},"voted":false}],"best":null,"last":{"id":57,"type":1,"title":"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>","is_best":true,"read_only":true,"created_at":"2017-12-14 17:38:04","question":139,"rating":{"likes":0,"dislikes":0},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"voted":false},"tags":[],"when":"2017-12-14 17:37:35"},{"id":99993,"type":"question","title":"<p>Sed pharetra suscipit tempor</p>","metadata":{"created_at":"2017-12-14 10:31:30","is_related":true,"related_kind":"coach_share","views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":true,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","is_expert":false},"related":{"id":99999,"title":"Nam sit amet bibendum nisl. Interdum et malesuada fames ac ante ipsum primis in faucibus.","description":"<p>Etiam at malesuada tortor. Aenean porta libero velit, et mattis mi semper sed. Vestibulum in sapien pretium, cursus mi sit amet, mollis risus. In eu bibendum sapien, in iaculis eros.</p>","date_created":"2016-10-10 16:01:45","kind":{"general":"video","sub":null},"is_private":false,"views":1,"info":{"duration":408,"duration_unit":"second","history":{"published":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","created_at":"2016-10-10 16:04:57"},"last_edit":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","created_at":"2016-10-10 16:04:57"},"edit":[{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","created_at":"2016-10-10 16:04:57"}]}},"thumbnail":{"small":"/public/images/pages/image2.png","video":"/public/images/pages/image2.png","original":"/public/images/pages/image2.png","carousel":"/public/images/pages/image2.png"},"owner":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png"}},"rating":null,"sub_items":[],"best":null,"last":null,"tags":[],"when":"2017-12-14 10:31:30"},{"id":99992,"type":"question","title":"<p>Dolor et</p>","metadata":{"created_at":"2017-11-29 14:03:12","is_related":true,"related_kind":"coach_share","views":1,"total_items":1,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":true,"have_best":false},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"related":{"id":99996,"title":"Phasellus et eleifend nisi, vel sodales lorem.","description":"<p>Donec eu ligula tortor. Aliquam aliquet non massa ac euismod.</p>","date_created":"2017-01-05 08:49:13","kind":{"general":"link","sub":null},"is_private":false,"views":0,"info":{"history":{"published":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"created_at":"2017-01-06 15:05:07"},"last_edit":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"created_at":"2017-01-06 15:05:07"},"edit":[{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"created_at":"2017-01-06 15:05:07"}]}},"thumbnail":{"small":"/public/images/pages/image1.png","video":"/public/images/pages/image1.png","original":"/public/images/pages/image1.png","carousel":"/public/images/pages/image1.png"},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null}},"rating":null,"sub_items":[{"id":99999,"type":1,"title":"<p>Donec eu?</p>","is_best":false,"read_only":true,"created_at":"2017-12-11 13:44:46","question":99992,"rating":{"likes":0,"dislikes":0},"owner":{"id":99997,"short_name":"S","full_name":"Sit","avatar":"/public/images/pages/profile3.png"},"voted":false}],"best":null,"last":{"id":99999,"type":1,"title":"<p>Donec eu?</p>","is_best":false,"read_only":true,"created_at":"2017-12-11 13:44:46","question":99992,"rating":{"likes":0,"dislikes":0},"owner":{"id":99997,"short_name":"S","full_name":"Sit","avatar":"/public/images/pages/profile3.png"},"voted":false},"tags":[],"when":"2017-11-29 14:03:12"},{"id":99996,"title":"Nam faucibus dapibus dapibus.","description":"<p>Etiam vel tortor ligula. Pellentesque id sagittis felis.</p>","date_created":"2017-01-05 08:49:13","kind":{"general":"link","sub":null},"is_private":false,"views":0,"info":{"history":{"published":{"id":99998,"short_name":"DA","full_name":"Dolor Amet","avatar":"/public/images/pages/profile4.png","created_at":"2017-01-06 15:05:07"},"last_edit":{"id":99998,"short_name":"DA","full_name":"Dolor Amet","avatar":"/public/images/pages/profile4.png","created_at":"2017-01-06 15:05:07"},"edit":[{"id":99998,"short_name":"DA","full_name":"Dolor Amet","avatar":"/public/images/pages/profile4.png","created_at":"2017-01-06 15:05:07"}]}},"thumbnail":{"small":"/public/images/pages/image2.png","video":"/public/images/pages/image2.png","original":"/public/images/pages/image2.png","carousel":"/public/images/pages/image2.png="},"owner":{"id":12368,"short_name":"DA","full_name":"Dolor Amet","avatar":"/public/images/pages/profile4.png"},"channels":[{"channel_id":26,"uid_predefined":null,"is_enabled":true,"ordering":11,"sorting":"Creation","permissions":3,"created":"2016-05-30 15:26:53","name":"Donec sed ullamcorper sapien.","description":"<p>Donec porttitor suscipit augue, in accumsan ante efficitur vel.</p>","icon":{"font":"fa-diamond","color":"#fff","background":"#f4bb1e"}},{"channel_id":23,"uid_predefined":null,"is_enabled":true,"ordering":16,"sorting":"Creation date (ascending/descending)","permissions":1,"created":"2016-05-30 15:26:53","name":"Phasellus blandit pretium odio","description":"<p>Donec pellentesque nisi a nisl lacinia sollicitudin.</p>","icon":{"font":"fa-headphones","color":"#fff","background":"#da3232"}},{"channel_id":41,"uid_predefined":null,"is_enabled":true,"ordering":26,"sorting":"","permissions":1,"created":"2016-10-14 08:02:41","name":"Nulla facilisi.","description":"<p>Interdum et malesuada fames ac ante ipsum primis in faucibus.</p>","icon":{"font":"fa-500px","color":"#fff","background":"#333"}}],"tags":[{"id":385,"name":"Lorem vision"},{"id":386,"name":"Ipsum strategy"},{"id":387,"name":"Ipsum AI"},{"id":388,"name":"Ipsum Chatbot"}],"rating":{"rating":4.6,"can_rate":false},"expert_reviews":[],"related_questions":[{"id":99999,"type":1,"title":"<p>Lorem Ipsum</p>","metadata":{"created_at":"2017-12-14 17:37:35","is_related":false,"related_kind":null,"views":0,"total_items":1,"new_items":1,"is_follow":false,"is_new":true,"read_only":true,"have_last":true,"have_best":false},"owner":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-30 15:51:05"},"related":null,"rating":null,"sub_items":[{"id":99999,"type":1,"title":"<p>Dolor sit amet</p>","is_best":false,"read_only":true,"created_at":"2017-12-09 17:38:04","question":99999,"rating":{"likes":0,"dislikes":0},"owner":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","is_expert":false},"voted":false},{"id":99998,"type":1,"title":"<p>Dolor sit amet</p>","is_best":true,"read_only":true,"created_at":"2017-12-14 17:38:04","question":99999,"rating":{"likes":0,"dislikes":0},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"voted":false},{"id":99997,"type":1,"title":"<p>Dolor sit amet</p>","is_best":false,"read_only":true,"created_at":"2017-12-10 17:38:04","question":99999,"rating":{"likes":0,"dislikes":0},"owner":{"id":99997,"short_name":"S","full_name":"Sit","avatar":"/public/images/pages/profile3.png","is_expert":false},"voted":false}],"best":null,"last":{"id":99997,"type":1,"title":"<p>Dolor sit amet</p>","is_best":false,"read_only":true,"created_at":"2017-12-10 17:38:04","question":99999,"rating":{"likes":0,"dislikes":0},"owner":{"id":99997,"short_name":"S","full_name":"Sit","avatar":"/public/images/pages/profile3.png","is_expert":false},"voted":false},"tags":[]},{"id":99998,"type":2,"title":"<p>Fusce rutrum, sem quis malesuada posuere</p>","metadata":{"created_at":"2017-12-04 17:40:40","is_related":false,"related_kind":null,"views":0,"total_items":2,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":true,"have_best":false},"owner":{"id":99997,"short_name":"S","full_name":"Sit","avatar":"/public/images/pages/profile3.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[{"id":99999,"type":2,"title":"<p>Mauris quam pellentesque erat</p>","is_best":false,"read_only":true,"created_at":"2017-12-11 13:44:09","question":130,"rating":{"likes":0,"dislikes":0},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"voted":false},{"id":99998,"type":2,"title":"<p>Nunc blandit eros vitae diam pellentesque, vel porttitor urna pellentesque.</p>","is_best":false,"read_only":true,"created_at":"2017-12-13 15:09:00","question":130,"rating":{"likes":0,"dislikes":0},"owner":{"id":99997,"short_name":"S","full_name":"Sit","avatar":"/public/images/pages/profile3.png","is_expert":false},"voted":false}],"best":null,"last":{"id":99999,"type":2,"title":"<p>Mauris quam pellentesque erat</p>","is_best":false,"read_only":true,"created_at":"2017-12-11 13:44:09","question":130,"rating":{"likes":0,"dislikes":0},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"voted":false},"tags":[]},{"id":99997,"type":2,"title":"<p>Etiam vel tortor ligula.</p>","metadata":{"created_at":"2017-12-04 17:38:38","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99996,"type":2,"title":"<p>Pellentesque id sagittis felis</p>","metadata":{"created_at":"2017-12-04 17:38:23","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99995,"type":2,"title":"<p>Sed eget justo vel ex ullamcorper auctor</p>","metadata":{"created_at":"2017-12-04 17:35:09","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99994,"type":2,"title":"<p>Morbi luctus arcu ut eros facilisis dignissim</p>","metadata":{"created_at":"2017-12-04 17:33:58","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-30 15:51:05"},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99993,"type":2,"title":"<p>Etiam convallis laoreet dolor</p>","metadata":{"created_at":"2017-12-04 17:33:47","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99998,"short_name":"DA","full_name":"Dolor Amet","avatar":"/public/images/pages/profile4.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99992,"type":2,"title":"<p>Mauris facilisis massa felis, at elementum ligula egestas nec</p>","metadata":{"created_at":"2017-12-04 17:32:42","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99997,"short_name":"S","full_name":"Sit","avatar":"/public/images/pages/profile3.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]}],"actions":["stats","edit","delete"],"type":"asset","when":"2017-01-06 15:05:07"},{"id":99995,"title":"Fusce ut viverra est. Praesent faucibus enim malesuada mauris ornare, et blandit ante viverra","description":"<p>Donec sed ullamcorper sapien</p>","date_created":"2016-12-30 15:02:38","kind":{"general":"video","sub":null},"is_private":false,"views":0,"info":{"duration":4314,"duration_unit":"second","history":{"published":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-30 15:51:05"},"last_edit":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-30 15:51:05"},"edit":[{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-30 15:51:05"}]}},"thumbnail":{"small":"/public/images/pages/image1.png","video":"/public/images/pages/image1.png","original":"/public/images/pages/image1.png","carousel":"/public/images/pages/image1.png"},"owner":{"id":99999,"short_name":"LI","full_name":"Lorem Ipsum","avatar":"/public/images/pages/profile1.png"},"channels":[{"channel_id":99999,"uid_predefined":null,"is_enabled":true,"ordering":10,"sorting":"Creation date (ascending/descending)","permissions":1,"created":"2016-05-30 15:26:53","name":"Lorem Ipsum dolor","description":"<p>Donec porttitor suscipit augue</p>","icon":{"font":"fa-money","color":"#fff","background":"#56b444"}},{"channel_id":99998,"uid_predefined":null,"is_enabled":true,"ordering":12,"sorting":"","permissions":1,"created":"2016-05-30 15:26:53","name":"Lorem Ipsum","description":"<p>Phasellus blandit pretium odio, vitae dignissim massa tristique ac.</p>","icon":{"font":"fa-angellist","color":"#fff","background":"#e64559"}}],"tags":[{"id":99999,"name":"fucse"},{"id":99998,"name":"interdum"}],"rating":{"rating":2,"can_rate":false},"expert_reviews":[],"related_questions":[{"id":99999,"type":2,"title":"<p>Nulla facilisi</p>","metadata":{"created_at":"2017-12-05 09:06:22","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99998,"short_name":"DA","full_name":"Dolor Amet","avatar":"/public/images/pages/profile4.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99998,"type":2,"title":"<p>Interdum et malesuada fames ac ante ipsum primis in faucibus</p>","metadata":{"created_at":"2017-12-05 09:06:16","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99997,"short_name":"S","full_name":"Sit","avatar":"/public/images/pages/profile3.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99997,"type":2,"title":"<p>Aliquam erat volutpat</p>","metadata":{"created_at":"2017-12-05 09:04:15","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99996,"type":2,"title":"<p> Praesent gravida volutpat elit</p>","metadata":{"created_at":"2017-11-30 11:54:56","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99995,"type":2,"title":"<p>Aliquam nunc felis</p>","metadata":{"created_at":"2017-11-30 11:54:29","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99994,"type":1,"title":"<p>Sed tincidunt id ligula ac elementum</p>","metadata":{"created_at":"2017-11-29 14:00:35","is_related":false,"related_kind":null,"views":0,"total_items":2,"new_items":2,"is_follow":false,"is_new":false,"read_only":true,"have_last":true,"have_best":false},"owner":{"id":99999,"short_name":"LI","full_name":"Lorem Ipsum","avatar":null,"is_expert":false},"related":null,"rating":null,"sub_items":[{"id":99999,"type":1,"title":"<p>Cras venenatis libero non mattis tempus</p>","is_best":false,"read_only":true,"created_at":"2017-12-14 11:33:14","question":108,"rating":{"likes":0,"dislikes":0},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"voted":false},{"id":99999,"type":1,"title":"<p>Morbi aliquam interdum porttitor</p>","is_best":false,"read_only":true,"created_at":"2017-12-14 11:36:48","question":108,"rating":{"likes":0,"dislikes":0},"owner":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","is_expert":false},"voted":false}],"best":null,"last":{"id":99999,"type":1,"title":"<p>Cras venenatis libero non mattis tempus</p>","is_best":false,"read_only":true,"created_at":"2017-12-14 11:33:14","question":108,"rating":{"likes":0,"dislikes":0},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"voted":false},"tags":[]}],"actions":["stats","edit","delete","tooltips","download"],"type":"asset","when":"2016-12-30 15:51:05"},{"id":99997,"title":"Aliquam erat volutpat. Nulla sem eros, consectetur ut neque ut, blandit luctus mauris","description":"<p>Phasellus porta gravida ipsum, id congue purus consequat ac. Aenean efficitur justo a eleifend iaculis. Praesent in aliquam nulla, nec tempor ex.</p>","date_created":"2016-12-29 19:53:02","kind":{"general":"video","sub":null},"is_private":false,"views":0,"info":{"duration":95,"duration_unit":"second","history":{"published":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-29 19:53:02"},"last_edit":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-29 19:53:02"},"edit":[{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-29 19:53:02"}]}},"thumbnail":{"small":"/public/images/pages/image3.png","video":"/public/images/pages/image3.png","original":"/public/images/pages/image3.png","carousel":"/public/images/pages/image3.png"},"owner":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png"},"channels":[{"channel_id":99999,"uid_predefined":null,"is_enabled":true,"ordering":13,"sorting":null,"permissions":1,"created":"2016-05-30 15:26:53","name":"Lorem Ipsum Dolor","description":"<p>Sed tincidunt sem a elit luctus</p>","icon":{"font":"fa-users","color":"#fff","background":"#4e96c3"}}],"tags":[{"id":31,"name":"CRM"},{"id":120,"name":"CSM"},{"id":237,"name":"Dolor"}],"rating":{"rating":5,"can_rate":true},"expert_reviews":[],"related_questions":[],"actions":["stats","edit","delete","tooltips","download"],"type":"asset","when":"2016-12-29 19:59:24"},{"id":99998,"title":"Proin vulputate nisl est, nec vehicula sem semper eget","description":"<p>Maecenas ultricies lacus sit amet mi fringilla, eget ornare nunc facilisis. Maecenas quis pretium turpis, ac consectetur elit. Proin nec lorem orci</p>","date_created":"2016-12-28 20:46:41","kind":{"general":"video","sub":null},"is_private":false,"views":0,"info":{"duration":1159,"duration_unit":"second","history":{"published":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-28 20:59:24"},"last_edit":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-28 20:59:24"},"edit":[{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-28 20:59:24"}]}},"thumbnail":{"small":"/public/images/pages/image4.png","video":"/public/images/pages/image4.png","original":"/public/images/pages/image4.png","carousel":"/public/images/pages/image4.png"},"owner":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png"},"channels":[{"channel_id":99999,"uid_predefined":null,"is_enabled":true,"ordering":13,"sorting":null,"permissions":1,"created":"2016-05-30 15:26:53","name":"Lorem Ipsum Dolor","description":"<p>Aenean nec diam sollicitudin</p>","icon":{"font":"fa-users","color":"#fff","background":"#4e96c3"}}],"tags":[{"id":88,"name":"Lorem"},{"id":226,"name":"Ipsum"},{"id":367,"name":"Dolor"}],"rating":{"rating":0,"can_rate":true},"expert_reviews":[],"related_questions":[],"actions":["stats","edit","delete","tooltips","download"],"type":"asset","when":"2016-12-28 20:59:24"},{"id":99991,"type":"question","title":"<p>Fusce scelerisque sed est eu molestie</p>","metadata":{"created_at":"2016-12-28 16:00:47","is_related":true,"related_kind":"coach_share","views":1,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99998,"short_name":"DA","full_name":"Dolor Amet","avatar":"/public/images/pages/profile4.png","is_expert":false},"related":{"id":99998,"title":"Maecenas molestie, massa sit amet porttitor fermentum","description":"<p>Maecenas ullamcorper, massa sit amet consectetur rhoncus, purus erat maximus metus, sit amet pellentesque sem felis ac mauris</p>","date_created":"2016-12-16 09:33:46","kind":{"general":"video","sub":null},"is_private":false,"views":0,"info":{"duration":1928,"duration_unit":"second","history":{"published":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-16 10:17:15"},"last_edit":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-16 10:19:48"},"edit":[{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-16 10:19:48"}]}},"thumbnail":{"small":"/public/images/pages/image2.png","video":"/public/images/pages/image2.png","original":"/public/images/pages/image2.png","carousel":"/public/images/pages/image2.png"},"owner":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png"}},"rating":null,"sub_items":[],"best":null,"last":null,"tags":[],"when":"2016-12-28 16:00:47"},{"id":99999,"title":"Pellentesque fringilla leo vitae eros malesuada consectetur","description":"<p>In pharetra enim in orci congue, at lobortis neque bibendum. Nullam ipsum nisi, ornare nec sapien eget, imperdiet eleifend tortor. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Phasellus fringilla ex id orci feugiat volutpat. Nulla sodales nisi est, a fringilla leo suscipit sed.</p>","date_created":"2016-12-27 10:41:53","kind":{"general":"video","sub":null},"is_private":false,"views":0,"info":{"history":{"published":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-27 10:43:01"},"last_edit":{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-27 10:43:01"},"edit":[{"id":99999,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-12-27 10:43:01"}]}},"thumbnail":{"small":"/public/images/pages/image4.png","video":"/public/images/pages/image4.png","original":"/public/images/pages/image4.png","carousel":"/public/images/pages/image4.png"},"owner":{"id":12368,"short_name":"LI","full_name":"Lorem Ipsum","avatar":"/public/images/pages/profile1.png"},"channels":[{"channel_id":99999,"uid_predefined":null,"is_enabled":true,"ordering":31,"sorting":null,"permissions":1,"created":"2016-12-27 10:39:32","name":"Aliquam sed nisi imperdiet","description":"","icon":{"font":"fa-newspaper-o","color":"#ffffff","background":"#333"}}],"tags":[{"id":99999,"name":"Lorem"},{"id":99998,"name":"Ipsum"},{"id":99997,"name":"Dolor"}],"rating":{"rating":3.5,"can_rate":false},"expert_reviews":[],"related_questions":[{"id":99999,"type":2,"title":"<p>Maecenas congue gravida</p>","metadata":{"created_at":"2017-11-29 14:43:40","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99998,"type":1,"title":"<p>Vivamus ac magna dolor</p>","metadata":{"created_at":"2017-11-29 13:57:17","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99995,"short_name":"MV","full_name":"Minim Veniam","avatar":null,"is_expert":false},"related":null,"rating":null,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99997,"type":2,"title":"<p>Vivamus sed eros fermentum</p>","metadata":{"created_at":"2017-11-29 13:56:30","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99996,"short_name":"CC","full_name":"Commodi Consequatur","avatar":"/public/images/pages/profile2.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99996,"type":2,"title":"<p>Vivamus sed eros fermentum</p>","metadata":{"created_at":"2017-11-29 13:56:30","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99998,"short_name":"DA","full_name":"Dolor Amet","avatar":"/public/images/pages/profile4.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]},{"id":99995,"type":2,"title":"<p>Vivamus sed eros fermentum</p>","metadata":{"created_at":"2017-11-29 13:56:29","is_related":false,"related_kind":null,"views":0,"total_items":0,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":false,"have_best":false},"owner":{"id":99998,"short_name":"DA","full_name":"Dolor Amet","avatar":"/public/images/pages/profile4.png","is_expert":false},"related":null,"rating":{"likes":0,"dislikes":0},"voted":false,"sub_items":[],"best":null,"last":null,"tags":[]}],"actions":["stats","edit","delete"],"type":"asset","when":"2016-12-27 10:43:01"},{"id":99990,"type":"question","title":"<p>Phasellus ornare libero semper aliquet gravida. Suspendisse pulvinar hendrerit tempor. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae</p>","metadata":{"created_at":"2016-12-22 09:37:17","is_related":true,"related_kind":"coach_share","views":1,"total_items":1,"new_items":0,"is_follow":false,"is_new":false,"read_only":true,"have_last":true,"have_best":false},"owner":{"id":13427,"short_name":"LI","full_name":"Lorem Ipsum","avatar":"/public/images/pages/profile1.png","is_expert":false},"related":{"id":165,"title":"Ut id elementum est","description":"Mauris quis sem a justo condimentum tristique","date_created":"2016-05-04 20:44:51","kind":{"general":"video","sub":null},"is_private":false,"views":0,"info":{"duration":100,"duration_unit":"second","history":{"published":null,"last_edit":{"id":12368,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-05-06 13:00:44"},"edit":[{"id":12368,"full_name":"Lorem Ipsum","short_name":"LI","avatar":"/public/images/pages/profile1.png","created_at":"2016-05-06 13:00:44"}]}},"thumbnail":{"small":"/public/images/pages/image3.png","video":"/public/images/pages/image3.png","original":"/public/images/pages/image3.png","carousel":"/public/images/pages/image3.png"},"owner":{"id":13525,"short_name":"LI","full_name":"Lorem Ipsum","avatar":"/public/images/pages/profile1.png"}},"rating":null,"sub_items":[{"id":48,"type":1,"title":"<p>Quisque sapien nisl, feugiat in ullamcorper ac, tempor a eros</p>","is_best":false,"read_only":false,"created_at":"2016-12-22 16:03:35","question":95,"rating":{"likes":0,"dislikes":2},"owner":{"id":13558,"short_name":"LI","full_name":"Lorem Ipsum","avatar":"/public/images/pages/profile1.png","is_expert":false},"voted":{"type":2,"created":"2017-11-20 12:12:17"}}],"best":null,"last":{"id":48,"type":1,"title":"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>","is_best":false,"read_only":false,"created_at":"2016-12-22 16:03:35","question":95,"rating":{"likes":0,"dislikes":2},"owner":{"id":13558,"short_name":"LI","full_name":"Lorem Ipsum","avatar":"/public/images/pages/profile1.png","is_expert":false},"voted":{"type":2,"created":"2017-11-20 12:12:17"}},"tags":[],"when":"2016-12-22 09:37:17"}]},"extra_data":{"asset":{"lastId":99999,"count":15,"current_page":1,"has_more_data":true},"enrollment":{"lastId":99999,"count":15,"current_page":1,"has_more_data":true},"question":{"lastId":99999,"count":15,"current_page":1,"has_more_data":true}},"_links":{"self":{"href":"http://lorem.ipsum.com/loki/widget/v1/activity_stream?page_assets=1&page_questions=1"},"next":{"href":"http://lorem.ipsum.com/loki/widget/v1/activity_stream?page_assets=2&page_questions=2"},"goto":{"href":"http://lorem.ipsum.com/loki/widget/v1/activity_stream?page_assets=__page__&page_questions=__page__"},"first":{"href":"http://lorem.ipsum.com/loki/widget/v1/activity_stream?page_assets=1&page_questions=1"},"last":{"href":"http://lorem.ipsum.com/loki/widget/v1/activity_stream?page_assets=37&page_questions=9"}}}')},"3Ys6":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("fXoL"),s=n("mJ9n"),a=n("IfWP"),o=n("ofXK"),r=n("Gnvh");function c(t,e){if(1&t&&i.ec(0,"tile",7),2&t){const t=i.vc().$implicit;i.Dc("data",t)}}function l(t,e){if(1&t&&(i.jc(0,"div",5),i.dd(1,c,1,1,"tile",6),i.ic()),2&t){const t=e.index;i.Mb(1),i.Dc("ngIf",t<3)}}function d(t,e){if(1&t&&i.ec(0,"tile",7),2&t){const t=i.vc().$implicit;i.Dc("data",t)}}function g(t,e){if(1&t&&(i.jc(0,"div",5),i.dd(1,d,1,1,"tile",6),i.ic()),2&t){const t=e.index;i.Mb(1),i.Dc("ngIf",t<3)}}function u(t,e){if(1&t&&i.ec(0,"tile",7),2&t){const t=i.vc().$implicit;i.Dc("data",t)}}function h(t,e){if(1&t&&(i.jc(0,"div",5),i.dd(1,u,1,1,"tile",6),i.ic()),2&t){const t=e.index;i.Mb(1),i.Dc("ngIf",t<3)}}let p=(()=>{class t{constructor(){this.notStartedCourses=[],this.inProgressCourses=[],this.completedCourses=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xb({type:t,selectors:[["courses-overview-resume"]],inputs:{notStartedCourses:"notStartedCourses",inProgressCourses:"inProgressCourses",completedCourses:"completedCourses"},decls:13,vars:6,consts:[[3,"title"],["class","course-tile",4,"ngFor","ngForOf"],["href","#MYACTIVITIES","title","View all my Courses and Lps not started",1,"mdl-button","mdl-js-button","text-main"],["href","#MYACTIVITIES","title","View all my Courses and Lps in progress",1,"mdl-button","mdl-js-button","text-main"],["href","#MYACTIVITIES","title","View all my completed Courses and Lps",1,"mdl-button","mdl-js-button","text-main"],[1,"course-tile"],["class","tile-el",3,"data",4,"ngIf"],[1,"tile-el",3,"data"]],template:function(t,e){1&t&&(i.jc(0,"tabs-manager"),i.jc(1,"tab",0),i.dd(2,l,2,1,"div",1),i.jc(3,"a",2),i.fd(4," View all my Courses and Lps not started "),i.ic(),i.ic(),i.jc(5,"tab",0),i.dd(6,g,2,1,"div",1),i.jc(7,"a",3),i.fd(8," View all my Courses and Lps in progress "),i.ic(),i.ic(),i.jc(9,"tab",0),i.dd(10,h,2,1,"div",1),i.jc(11,"a",4),i.fd(12," View all my completed Courses and Lps "),i.ic(),i.ic(),i.ic()),2&t&&(i.Mb(1),i.Dc("title","Not started"),i.Mb(1),i.Dc("ngForOf",e.notStartedCourses),i.Mb(3),i.Dc("title","In progress"),i.Mb(1),i.Dc("ngForOf",e.inProgressCourses),i.Mb(3),i.Dc("title","Completed"),i.Mb(1),i.Dc("ngForOf",e.completedCourses))},directives:[s.a,a.a,o.o,o.p,r.b],encapsulation:2}),t})()},"4SMR":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.dislikes=0]="dislikes",t[t.likedislike=1]="likedislike",t[t.likes=2]="likes",t[t.vote=3]="vote",t}({})},"5EG7":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("fXoL"),s=n("ofXK"),a=n("nUpK");function o(t,e){1&t&&i.ec(0,"ui-icon",2),2&t&&i.Dc("name","check")("size","sm")}let r=(()=>{class t{constructor(){this.selected=new i.q}onClick(){this.selected.emit(this.skill)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xb({type:t,selectors:[["skill-chip"]],hostAttrs:[1,"bg-grey-light"],hostBindings:function(t,e){1&t&&i.rc("click",function(){return e.onClick()})},inputs:{skill:"skill"},outputs:{selected:"selected"},decls:3,vars:2,consts:[["class","skill-chip-icon",3,"name","size",4,"ngIf"],[1,"skill-chip-label"],[1,"skill-chip-icon",3,"name","size"]],template:function(t,e){1&t&&(i.dd(0,o,1,2,"ui-icon",0),i.jc(1,"span",1),i.fd(2),i.ic()),2&t&&(i.Dc("ngIf",e.skill.isSelected),i.Mb(2),i.gd(e.skill.name))},directives:[s.p,a.Bb],styles:[".color-gm__red{color:#de352e}.color-gm__yellow{color:#f5a623}.color-gm__green{color:#64c763}.color-gm__blue{color:#0c509c}.color-gm__light-blue{color:#4861b0}skill-chip{position:relative;font-size:14px;line-height:20px;display:inline-flex;padding:5px 12px 6px;border-radius:2px;cursor:pointer}.router-outlet:not(.direction-rtl):not(.heracles-root) skill-chip{margin:0 8px 8px 0}.router-outlet.direction-rtl:not(.heracles-root) skill-chip{margin:0 0 8px 8px}"],encapsulation:2,changeDetection:0}),t})()},"5tGi":function(t,e,n){"use strict";n.d(e,"a",function(){return M});var i=n("LC/E"),s=n("TrxT"),a=n("1G5W"),o=n("yRWM"),r=n("/76g"),c=n("fXoL"),l=n("l7P3"),d=n("KVSa"),g=n("tyNb"),u=n("c0oN"),h=n("ofXK"),p=n("nUpK"),m=n("6oCT"),_=n("Vqln"),b=n("gvJE");function f(t,e){1&t&&(c.jc(0,"div",3),c.jc(1,"div",4),c.ec(2,"ui-spinner"),c.ic(),c.ic())}function w(t,e){if(1&t){const t=c.kc();c.hc(0),c.jc(1,"checklist-element",8),c.rc("click",function(){c.Uc(t);const n=e.$implicit;return c.vc(2).onElementClick(n.id)}),c.ic(),c.gc()}if(2&t){const t=e.$implicit;c.Mb(1),c.Dc("avatar",t.avatar)("subAvatar",t.subAvatar)("title",t.title)("details",t.details)("subDetail",t.subDetail)("label",t.status)}}function C(t,e){if(1&t){const t=c.kc();c.jc(0,"div",9),c.jc(1,"a",10),c.rc("click",function(){return c.Uc(t),c.vc(2).goToPage()}),c.fd(2),c.wc(3,"t"),c.ic(),c.ic()}2&t&&(c.Mb(2),c.gd(c.xc(3,1,"View all")))}function O(t,e){if(1&t&&(c.hc(0),c.jc(1,"div",5),c.dd(2,w,2,6,"ng-container",6),c.ic(),c.dd(3,C,4,3,"div",7),c.gc()),2&t){const t=c.vc();c.Mb(2),c.Dc("ngForOf",t.data.items),c.Mb(1),c.Dc("ngIf",(null==t.data||null==t.data.items?null:t.data.items.length)<t.data.total_count)}}function v(t,e){if(1&t&&c.ec(0,"blankslate",11),2&t){const t=c.vc();c.Dc("isVisible",0===t.data.total_count&&!t.showSpinner)("title",t.blankSlateParams.title)("subtitle",t.blankSlateParams.subtitle)("type",t.blankSlateParams.type)}}let M=(()=>{class t extends s.a{constructor(t,e,n,i){super(),this.store=t,this.actions=e,this.router=n,this.otjMyChecklistsService=i,this.data={items:[],total_count:0},this.showSpinner=!0,this.blankSlateParams={headerButtons:[],type:o.a.HAPPY006,title:r.a.t("standard","Well Done."),subtitle:r.a.t("standard","Nothing\u2019s happening here right now. Take a well-deserved break.")}}ngOnInit(){this.store.select(i.k).pipe(Object(a.a)(this.ngUnsubscribe)).subscribe(t=>{this.showSpinner="FIRST_UPDATE_SUCCESS"!==t.status,this.data=t.customTabData[this.widgetId][this.tabName],this.data.items=this.otjMyChecklistsService.modulateChecklistData(this.data.items)})}onElementClick(t){this.router.navigate([`/otj/assignments/${t}`,{context:"my-checklists"}])}goToPage(){this.router.navigate(["/otj/my-checklists"])}}return t.\u0275fac=function(e){return new(e||t)(c.dc(l.d),c.dc(d.a),c.dc(g.h),c.dc(u.a))},t.\u0275cmp=c.Xb({type:t,selectors:[["her-task-checklist-list"]],inputs:{widgetId:"widgetId",tabName:"tabName",isInstructor:"isInstructor"},features:[c.Jb],decls:3,vars:3,consts:[["class","spinner_outter bg-white",4,"ngIf"],[4,"ngIf"],[3,"isVisible","title","subtitle","type",4,"ngIf"],[1,"spinner_outter","bg-white"],[1,"spinner_wrapp"],[1,"checklists","bg-white"],[4,"ngFor","ngForOf"],["class","task-list-tiles-cta-btn cta-link-wrapper border-grey-light",4,"ngIf"],[3,"avatar","subAvatar","title","details","subDetail","label","click"],[1,"task-list-tiles-cta-btn","cta-link-wrapper","border-grey-light"],[1,"text-main","bolded","cta-link",3,"click"],[3,"isVisible","title","subtitle","type"]],template:function(t,e){1&t&&(c.dd(0,f,3,0,"div",0),c.dd(1,O,4,2,"ng-container",1),c.dd(2,v,1,4,"blankslate",2)),2&t&&(c.Dc("ngIf",e.showSpinner),c.Mb(1),c.Dc("ngIf",0!==e.data.total_count&&!e.showSpinner),c.Mb(1),c.Dc("ngIf",0===e.data.total_count&&!e.showSpinner))},directives:[h.p,p.bd,h.o,m.a,_.a],pipes:[b.b],styles:[".spinner_outter[_ngcontent-%COMP%]{display:block;position:relative;width:100%;height:200px}checklist-element[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},"5wz/":function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},"692j":function(t){t.exports=JSON.parse('{"data":{"id_asset":99997,"title":"Aliquam erat volutpat. Nulla sem eros, consectetur ut neque ut, blandit luctus mauris","player_type":"flowplayer","config":{"total_pages":0,"tracking":{"enabled":true},"keyboard":false,"fullscreen":true,"embed":false,"brand":false,"wmode":"opaque","autoplay":false,"seekable":true,"key":"$607851074442244","splash":"/public/images/pages/image3.png","tooltips":[],"spent_time":{"enabled":false,"interval":10},"cuepoints":[],"subtitles":[],"bookmark":0},"content":{"name_original":"Aliquam erat volutpat.mov","name_converted":"o_1b56294t51qhc7ln1eld1n6m17qra.mov","filesize":0,"sources":[{"type":"application/x-mpegurl","src":"//example.com/video.m3u8"},{"type":"video/mp4","src":"//example.com/video.mp4"}],"thumbnails":[{"small":"/public/images/pages/image3.png"},{"video":"/public/images/pages/image3.png"},{"carousel":"/public/images/pages/image3.png"},{"original":"/public/images/pages/image3.png"}]},"description":"<p>Phasellus porta gravida ipsum, id congue purus consequat ac. Aenean efficitur justo a eleifend iaculis. Praesent in aliquam nulla, nec tempor ex.</p>","content_type":1},"version":"1.0.0","_links":[]}')},"6CNT":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("fXoL"),s=n("A+3w"),a=n("/76g"),o=n("TrxT"),r=n("1G5W"),c=n("XNiG"),l=n("Kj3r"),d=n("eIep"),g=n("lJxs"),u=n("Y9qQ");let h=(()=>{class t{constructor(t){this.backendService=t,this.searchSources$=new c.a,this.searchSuggestions$=this.searchSources$.pipe(Object(l.a)(500),Object(d.a)(t=>this.search(t)))}search(t){return this.backendService.request("/manage/v1/workforce/skills","GET",{search:t.query,size:10,skip_skillgroup:!0}).pipe(Object(g.a)(e=>(e.data.items=e.data.items.map(e=>({name:e.name,id:t.mappedToId?e.code:e.name})),e.data.items)))}}return t.\u0275fac=function(e){return new(e||t)(i.nc(u.a))},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=n("f2BR"),m=n("gvJE");const _=["skillsMultiSelect"];let b=(()=>{class t extends o.a{constructor(t,e){super(),this.assetSkillsService=t,this.changeDetectorRef=e,this.preselected=[],this.mappedToId=!1,this.maxSelectableItems=50,this.itemSelected=new i.q,this.itemDeselected=new i.q,this.selectedItemsChanged=new i.q,this.multiSelectMode=s.a.AUTOCOMPLETE,this.multiSelectShowLoader=!1,this.multiSelectSource=[],this.multiSelectPreselected=[],this.dictionary={skillsLabel:a.a.t("standard","Skills"),multiSelectPlaceholder:a.a.t("standard","Type...")},this.assetSkillsService.searchSuggestions$.pipe(Object(r.a)(this.ngUnsubscribe)).subscribe(t=>{this.multiSelectShowLoader=!1,this.multiSelectSource=t,this.changeDetectorRef.detectChanges()})}ngOnInit(){this.preselected&&this.preselected.length&&(this.multiSelectPreselected=this.preselected.map(t=>t.id),this.multiSelectSource=this.preselected)}searchAvailableSkills(t){this.multiSelectSource=[],t.length<3||(this.multiSelectShowLoader=!0,this.assetSkillsService.searchSources$.next({query:t,mappedToId:this.mappedToId}))}onItemSelected(t){this._manageSelected(),this.itemSelected.emit(t.id),this._markControlAsDirty()}onItemDeselected(t){this._manageSelected(),this.itemDeselected.emit(t.id),this._markControlAsDirty()}toggleElement(t){this.skillsMultiSelect.select(t,!0)}_manageSelected(){this.selectedItemsChanged.emit(this.skillsMultiSelect.selectedItems)}_markControlAsDirty(){this.inputFormControl.markAsTouched(),this.inputFormControl.markAsDirty(),this.inputFormControl.updateValueAndValidity()}}return t.\u0275fac=function(e){return new(e||t)(i.dc(h),i.dc(i.i))},t.\u0275cmp=i.Xb({type:t,selectors:[["app7020-asset-skills"]],viewQuery:function(t,e){if(1&t&&i.md(_,1),2&t){let t;i.Qc(t=i.sc())&&(e.skillsMultiSelect=t.first)}},inputs:{inputFormControl:"inputFormControl",preselected:"preselected",mappedToId:"mappedToId",maxSelectableItems:"maxSelectableItems"},outputs:{itemSelected:"itemSelected",itemDeselected:"itemDeselected",selectedItemsChanged:"selectedItemsChanged"},features:[i.Jb],decls:4,vars:18,consts:[[3,"showCounter","showRequiredFieldIndicator","applySourceRegex","suggestionsMaxHeight","max_selectable_items","applyLoaderOffset","canEnterItems","showLoader","mode","label","placeholder","inputFormControl","value","source","onChange","onItemSelection","onItemDeletion"],["skillsMultiSelect",""]],template:function(t,e){1&t&&(i.jc(0,"multi-select",0,1),i.rc("onChange",function(t){return e.searchAvailableSkills(t)})("onItemSelection",function(t){return e.onItemSelected(t)})("onItemDeletion",function(t){return e.onItemDeselected(t)}),i.wc(2,"t"),i.wc(3,"t"),i.ic()),2&t&&i.Dc("showCounter",!0)("showRequiredFieldIndicator",!1)("applySourceRegex",!1)("suggestionsMaxHeight",130)("max_selectable_items",e.maxSelectableItems)("applyLoaderOffset",!0)("canEnterItems",!1)("showLoader",e.multiSelectShowLoader)("mode",e.multiSelectMode)("label",i.xc(2,14,e.dictionary.skillsLabel))("placeholder",i.xc(3,16,e.dictionary.multiSelectPlaceholder))("inputFormControl",e.inputFormControl)("value",e.multiSelectPreselected)("source",e.multiSelectSource)},directives:[p.a],pipes:[m.b],styles:[""]}),t})()},"6NlR":function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"4_8","sequence":1,"columns":[{"size":"4","sequence":"0","widgets":[{"id":"1","type":"mykpis","name":{"en":"MyKPIs","fa":"MyKPIs","fi":"MyKPIs","it":"MyKPIs"},"data":{},"settings":{"users":[{"label":{"query":"My answers marked as \'Best answer\'","args":{"category":"widgets"},"category":"widgets"},"position":1,"checked":true,"name":"best_answer"},{"label":{"query":"Best score in an E-Learning course","args":{"category":"widgets"},"category":"widgets"},"position":2,"checked":true,"name":"score_elearning"},{"label":{"query":"Best score in a Classroom course","args":{"category":"widgets"},"category":"widgets"},"position":3,"checked":true,"name":"score_classroom"}],"super_admin":[{"label":{"query":"Assets loaded to Coach & Share for current day","args":{"category":"widgets"},"category":"widgets"},"position":1,"checked":true,"name":"assets_day"},{"label":{"query":"Assets loaded to Coach & Share for last 7 days","args":{"category":"widgets"},"category":"widgets"},"position":2,"checked":true,"name":"assets_7days"},{"label":{"query":"Q&A in coach&share for current day","args":{"category":"widgets"},"category":"widgets"},"position":3,"checked":true,"name":"qa_day"},{"label":{"query":"Q&A in coach&share for last seven days","args":{"category":"widgets"},"category":"widgets"},"position":4,"checked":true,"name":"qa_7days"},{"label":{"query":"Users recently active in courses","args":{"category":"admin_webpages"},"category":"admin_webpages"},"position":5,"checked":true,"name":"logged_users"}],"power_user":[{"label":{"query":"Assets loaded to Coach & Share for current day","args":{"category":"widgets"},"category":"widgets"},"position":1,"checked":true,"name":"assets_day"},{"label":{"query":"Assets loaded to Coach & Share for last 7 days","args":{"category":"widgets"},"category":"widgets"},"position":2,"checked":true,"name":"assets_7days"},{"label":{"query":"Q&A in coach&share for current day","args":{"category":"widgets"},"category":"widgets"},"position":3,"checked":true,"name":"qa_day"},{"label":{"query":"Q&A in coach&share for last seven days","args":{"category":"widgets"},"category":"widgets"},"position":4,"checked":true,"name":"qa_7days"},{"label":{"query":"Users recently active in courses","args":{"category":"admin_webpages"},"category":"admin_webpages"},"position":5,"checked":true,"name":"logged_users"},{"label":{"query":"Managed courses","args":{"category":"widgets"},"category":"widgets"},"position":6,"checked":true,"name":"managed_courses"},{"label":{"query":"Managed users","args":{"category":"widgets"},"category":"widgets"},"position":7,"checked":true,"name":"managed_users"}],"experts":[{"label":{"query":"Answered questions","args":{"category":"widgets"},"category":"widgets"},"position":1,"checked":true,"name":"answered_questions"},{"label":{"query":"Reviewed/approved assets","args":{"category":"widgets"},"category":"widgets"},"position":2,"checked":true,"name":"reviewed_approved_assets"}]}}]},{"size":"8","sequence":"0","widgets":[{"id":"2","type":"mykpis","name":{"en":"MyKPIs","fa":"MyKPIs","fi":"MyKPIs","it":"MyKPIs"},"data":{},"settings":{"users":[{"label":{"query":"My answers marked as \'Best answer\'","args":{"category":"widgets"},"category":"widgets"},"position":1,"checked":true,"name":"best_answer"},{"label":{"query":"Best score in an E-Learning course","args":{"category":"widgets"},"category":"widgets"},"position":2,"checked":true,"name":"score_elearning"},{"label":{"query":"Best score in a Classroom course","args":{"category":"widgets"},"category":"widgets"},"position":3,"checked":true,"name":"score_classroom"}],"super_admin":[{"label":{"query":"Assets loaded to Coach & Share for current day","args":{"category":"widgets"},"category":"widgets"},"position":1,"checked":true,"name":"assets_day"},{"label":{"query":"Assets loaded to Coach & Share for last 7 days","args":{"category":"widgets"},"category":"widgets"},"position":2,"checked":true,"name":"assets_7days"},{"label":{"query":"Q&A in coach&share for current day","args":{"category":"widgets"},"category":"widgets"},"position":3,"checked":true,"name":"qa_day"},{"label":{"query":"Q&A in coach&share for last seven days","args":{"category":"widgets"},"category":"widgets"},"position":4,"checked":true,"name":"qa_7days"},{"label":{"query":"Users recently active in courses","args":{"category":"admin_webpages"},"category":"admin_webpages"},"position":5,"checked":true,"name":"logged_users"}],"power_user":[{"label":{"query":"Assets loaded to Coach & Share for current day","args":{"category":"widgets"},"category":"widgets"},"position":1,"checked":true,"name":"assets_day"},{"label":{"query":"Assets loaded to Coach & Share for last 7 days","args":{"category":"widgets"},"category":"widgets"},"position":2,"checked":true,"name":"assets_7days"},{"label":{"query":"Q&A in coach&share for current day","args":{"category":"widgets"},"category":"widgets"},"position":3,"checked":true,"name":"qa_day"},{"label":{"query":"Q&A in coach&share for last seven days","args":{"category":"widgets"},"category":"widgets"},"position":4,"checked":true,"name":"qa_7days"},{"label":{"query":"Users recently active in courses","args":{"category":"admin_webpages"},"category":"admin_webpages"},"position":5,"checked":true,"name":"logged_users"},{"label":{"query":"Managed courses","args":{"category":"widgets"},"category":"widgets"},"position":6,"checked":true,"name":"managed_courses"},{"label":{"query":"Managed users","args":{"category":"widgets"},"category":"widgets"},"position":7,"checked":true,"name":"managed_users"}],"experts":[{"label":{"query":"Answered questions","args":{"category":"widgets"},"category":"widgets"},"position":1,"checked":true,"name":"answered_questions"},{"label":{"query":"Reviewed/approved assets","args":{"category":"widgets"},"category":"widgets"},"position":2,"checked":true,"name":"reviewed_approved_assets"}]}}]}]}]}}')},"6UD4":function(t){t.exports=JSON.parse('{"data":{"ncourses":1,"success":true,"message":""},"version":"1.0.0","_links":[]}')},"6jbJ":function(t){t.exports=JSON.parse('{"data":{"sessions":[{"month":"2016-09","count":"32"},{"month":"2016-10","count":"7"},{"month":"2016-11","count":"50"},{"month":"2016-12","count":"2"},{"month":"2017-01","count":"1"},{"month":"2017-02","count":"8"},{"month":"2017-03","count":"12"},{"month":"2017-04","count":"12"},{"month":"2017-05","count":0},{"month":"2017-06","count":0},{"month":"2017-07","count":0},{"month":"2017-08","count":0}],"enrollments":[{"month":"2016-10","count":"7"},{"month":"2016-11","count":"1"},{"month":"2017-02","count":"14"},{"month":"2017-03","count":"14"},{"month":"2016-12","count":0},{"month":"2017-01","count":0},{"month":"2017-04","count":0},{"month":"2017-05","count":0},{"month":"2017-06","count":0},{"month":"2017-07","count":0},{"month":"2017-08","count":0}],"course_enrollments":{"not_started":"24","in_progress":"6","completed":"6"}},"version":"1.0.0","_links":[]}')},"79na":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("/76g");const s={blankSlates:{noResults:{title:i.a.t("standard","Whoops, No results found!"),description:i.a.t("standard","Please try again using different search/filters criteria")},noContent:{title:i.a.t("standard","Whoops, there's nothing here"),description:i.a.t("mobile","Looks like there is nothing for you to do in this area right now")}},dataBrowser:{viewOptionLabel:i.a.t("standard","SORT BY"),item:i.a.t("standard","item"),items:i.a.t("standard","items"),filters:{search:i.a.t("standard","Search..."),searchPlaceholder:i.a.t("standard","Search...")}},uiDataBrowser:{filtersLabel:i.a.t("standard","Filters"),clearFiltersLabel:i.a.t("standard","Clear filters"),closeFiltersLabel:i.a.t("standard","Close"),activeFiltersCountLabelSingular:i.a.t("standard","Active Filter"),activeFiltersCountLabelPlural:i.a.t("standard","Active Filters"),search:i.a.t("standard","Search..."),searchPlaceholder:i.a.t("standard","Search...")}}},"7Zvt":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{deleteQuestion(e){return{type:t.DELETE_QUESTION,payload:{data:e}}}editQuestion(e){return{type:t.EDIT_QUESTION,payload:{data:e}}}init(e){return{type:t.INIT,payload:{extradata:e.extradata}}}loadAssetPlayer(e){return{type:t.LOAD_ASSET_PLAYER,payload:{data:e}}}loadAssetPlayerDemoData(e){return{type:t.LOAD_ASSET_PLAYER_DEMO_DATA,payload:{data:e}}}loadAssetPlayerReject(e,n){return{type:t.LOAD_ASSET_PLAYER_REJECT,payload:{status:"error",errorMsg:e,data:{assetId:n}}}}loadAssetPlayerSuccess(e){return{type:t.LOAD_ASSET_PLAYER_SUCCESS,payload:{data:e}}}loadDataReject(e){return{type:t.LOAD_DATA_REJECT,payload:{status:"error",errorMsg:e}}}loadDataSucces(e,n){return{type:t.LOAD_DATA_SUCCESS,payload:{data:e,extradata:n}}}loadDataByRemovingDeletedQuestion(e){return{type:t.LOAD_DATA_BY_REMOVING_DELETED_QUESTION,payload:{data:e}}}loadDataByEditingEditedQuestion(e){return{type:t.LOAD_DATA_BY_UPDATING_EDITED_QUESTION,payload:{data:e}}}loadDemoData(e,n){return{type:t.LOAD_DEMO_DATA,payload:{data:e,extradata:n}}}loadSubmittedContent(e){return{type:t.LOAD_SUBMITTED_CONTENT,payload:{data:e}}}submitContent(e,n,i){return{type:t.SUBMIT_CONTENT,payload:{endpoint:e,params:n,type:i}}}update(e){return{type:t.UPDATE,payload:{extradata:e.extradata}}}}return t.DELETE_QUESTION="[WActivitiesStream] Delete question",t.EDIT_QUESTION="[WActivitiesStream] Edit question",t.INIT="[WActivitiesStream] Init widget",t.LOAD_ASSET_PLAYER="[WActivitiesStream] Load asset player",t.LOAD_ASSET_PLAYER_DEMO_DATA="[WActivitiesStream] Load asset player demo data",t.LOAD_ASSET_PLAYER_REJECT="[WActivitiesStream] Load asset player failed",t.LOAD_ASSET_PLAYER_SUCCESS="[WActivitiesStream] Load asset player success",t.LOAD_DATA_SUCCESS="[WActivitiesStream] Load widget data",t.LOAD_DATA_REJECT="[WActivitiesStream] Failed loading Custom Widget Page data",t.LOAD_DATA_BY_REMOVING_DELETED_QUESTION="[WActivitiesStream] Load data by removing deleted question",t.LOAD_DATA_BY_UPDATING_EDITED_QUESTION="[WActivitiesStream] Load data by updating edited question",t.LOAD_DEMO_DATA="[WActivitiesStream] Load widget demo data",t.LOAD_RATE_VALUE="[WActivitiesStream] Load rate value submitted",t.LOAD_SUBMITTED_CONTENT="[WActivitiesStream] Load submitted content",t.SUBMIT_CONTENT="[WActivitiesStream] Submit content",t.UPDATE="[WActivitiesStream] Update widget",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},"8kTK":function(t,e,n){"use strict";n.d(e,"a",function(){return j});var i=n("R0Ic"),s=n("fYJ8"),a=n("dRcD"),o=n("L+gB"),r=n("7vd5"),c=n("aWaq"),l=n("I/za"),d=n("xI2x"),g=n("fXoL"),u=n("l7P3"),h=n("Gql0"),p=n("a37g"),m=n("ofXK"),_=n("tyNb"),b=n("nUpK"),f=n("2YCl"),w=n("3zhW"),C=n("gvJE"),O=n("4Y2v");const v=["contestBody"];function M(t,e){1&t&&g.ec(0,"ui-spinner",23)}function y(t,e){if(1&t&&g.ec(0,"btn-ellipsis",24),2&t){const t=g.vc(),e=g.Rc(2);g.Dc("treeBody",e)("ellipsisType","inline")("actions",t.contestEllipsis)}}function P(t,e){1&t&&(g.jc(0,"span",25),g.fd(1),g.wc(2,"t"),g.ic()),2&t&&(g.Mb(1),g.hd(" ",g.xc(2,1,"In progress")," "))}const S=function(){return{category:"configuration"}};function I(t,e){1&t&&(g.jc(0,"span",26),g.fd(1),g.wc(2,"t"),g.ic()),2&t&&(g.Mb(1),g.hd(" ",g.yc(2,1,"Completed",g.Hc(4,S))," "))}function x(t,e){if(1&t&&g.ec(0,"avatar",27),2&t){const t=g.vc();g.Dc("initials",null==t.currentUserInformation?null:t.currentUserInformation.initials)("image_url",null==t.currentUserInformation?null:t.currentUserInformation.avatar)("size",t.avatarSize)}}const E=function(){return{category:"gamification"}};function T(t,e){if(1&t&&(g.jc(0,"li",28),g.ec(1,"avatar",29),g.jc(2,"div",30),g.jc(3,"span",17),g.fd(4),g.wc(5,"t"),g.ic(),g.ec(6,"i",31),g.jc(7,"span",32),g.fd(8),g.ic(),g.ic(),g.ic()),2&t){const t=g.vc();g.Dc("@fadeInOut",void 0),g.Mb(1),g.Dc("properties",t.badgeAvatarParams)("image_url",null==t.displayContest?null:t.displayContest.icon)("size",t.avatarSize),g.Mb(3),g.hd(" ",g.yc(5,6,"Awarded badge",g.Hc(9,E))," "),g.Mb(4),g.hd(" ",null==t.displayContest?null:t.displayContest.rank," ")}}function D(t,e){if(1&t&&(g.jc(0,"li",38),g.ec(1,"span",39),g.wc(2,"sanitizeHtml"),g.jc(3,"span",40),g.fd(4),g.ic(),g.ic()),2&t){const t=e.$implicit,n=g.vc(2);g.Mb(1),g.Dc("innerHtml",g.xc(2,2,null==t?null:t.name),g.Vc),g.Mb(3),g.hd(" ",n.showPeriodDate(t)," ")}}function k(t,e){if(1&t&&(g.jc(0,"ul",33),g.jc(1,"li",34),g.jc(2,"span",35),g.fd(3),g.wc(4,"t"),g.ic(),g.jc(5,"span",36),g.fd(6),g.wc(7,"t"),g.ic(),g.ic(),g.dd(8,D,5,4,"li",37),g.ic()),2&t){const t=g.vc();g.Mb(3),g.hd(" ",g.yc(4,3,"Upcoming contests",g.Hc(9,E))," "),g.Mb(3),g.hd(" ",g.yc(7,6,"Period",g.Hc(10,E))," "),g.Mb(2),g.Dc("ngForOf",t.upcomingContest)}}const A=function(t){return{"absolute-position":t}},L=function(){return["/legacy/lms/index.php?r=GamificationApp/GamificationApp/MyBadges&tab=contests"]};let j=(()=>{class t extends d.a{constructor(t,e,n,i){super(t,e),this.store=t,this.changeDetection=e,this.formatter=n,this.actions=i,this.avatarSize=36,this.badgeAvatarParams={bg_color_class:"bg-grey",text_color_class:"text-white",icon_class:""},this.sessionInstance=a.a.getInstance()}ngOnInit(){this.reduxChangesSubscriber(),this.onSessionReady()}ngAfterViewInit(){this.updateWidgetHeight(this.contestBodyChildren,this.actions)}onSessionReady(){if(this.sessionInstance.isLoaded())this.setUpLoggedInUserInformation();else{const t=o.a.singleton.subscribe("UserSessionReady",()=>{t.unsubscribe(),this.onSessionReady()})}}setUpLoggedInUserInformation(){this.currentUserInformation={avatar:this.sessionInstance.avatar_url,name:this.sessionInstance.getFullName(),initials:this.sessionInstance.user_initials}}onReduxSliceUpdateView(){if(!this.childData||!this.childData[this.tabName])return;const t=this.childData[this.tabName].items;t.sort((t,e)=>new Date(t.to_date).getTime()-new Date(e.to_date).getTime()),t>1&&t[0].to_date===t[1].to_date&&t.sort((t,e)=>t.params.score-e.params.score);let e=0;this.contestEllipsis&&this.contestEllipsis.length>0&&(e=this.contestEllipsis.findIndex(t=>t.active)),this.displayContest=t[e],this.contestEllipsis=t.map(t=>({id:t.id,title:t.name,action:this.changeContestView.bind(this),params:t})),0!==this.contestEllipsis.length&&(this.contestEllipsis[e].active=!0),Array.isArray(this.childData[this.tabName].extra_data)&&(this.upcomingContest=this.childData[this.tabName].extra_data,this.changeDetection.detectChanges())}isDateInTheFuture(t){return s.a.valueUndefined(t)?"":Object(l.a)(t,this.formatter)}showPeriodDate(t){if(s.a.valueUndefined(t))return"";const e=t.timezone;return this.convertContestDateToUserTimezone(t.from_date,e)+" | "+this.convertContestDateToUserTimezone(t.to_date,e)}convertContestDateToUserTimezone(t,e){const n=this.formatter.convertTimeToUTC(t,e);return Object(r.d)(new c.a(n))}changeContestView(t){this.displayContest=t,this.updateWidgetHeight(this.contestBodyChildren,this.actions)}}return t.\u0275fac=function(e){return new(e||t)(g.dc(u.d),g.dc(g.i),g.dc(h.b),g.dc(p.a))},t.\u0275cmp=g.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(g.md(v,1),g.md(v,1)),2&t){let t;g.Qc(t=g.sc())&&(e.contestBody=t.first),g.Qc(t=g.sc())&&(e.contestBodyChildren=t)}},inputs:{minHeight:"minHeight"},features:[g.Jb],decls:29,vars:29,consts:[["class","gamification-spinner",4,"ngIf"],[1,"badges-tab__wrapper"],["contestBody",""],[1,"ellipsis-wrapper","text-main","border-grey-light"],[3,"treeBody","ellipsisType","actions",4,"ngIf"],[1,"choosen-contest-info"],[1,"contest-information"],[1,"contest-goal","text-basic-size","bolded",3,"innerHtml"],[1,"progress-status","bolded","text-white",3,"ngSwitch"],["class","in-progress text-small",4,"ngSwitchCase"],["class","concluded text-small bg-positive-green",4,"ngSwitchCase"],[1,"progress-dates"],[1,"user-achievement"],[1,"achievement-list"],[1,"achieved-position"],[3,"initials","image_url","size",4,"ngIf"],[1,"position-label"],[1,"static-label"],[1,"name-n-position","bolded"],["class","achieved-score",4,"ngIf"],["class","upcoming-contests",4,"ngIf"],[1,"view-all-btn","border-grey-light",3,"ngClass"],[1,"text-main","bolded",3,"routerLink"],[1,"gamification-spinner"],[3,"treeBody","ellipsisType","actions"],[1,"in-progress","text-small"],[1,"concluded","text-small","bg-positive-green"],[3,"initials","image_url","size"],[1,"achieved-score"],[3,"properties","image_url","size"],[1,"score-label"],[1,"zmdi","zmdi-star","text-yellow"],[1,"points-label","bolded"],[1,"upcoming-contests"],[1,"upcoming-header-bar","bg-grey-superlight"],[1,"header-col-name","title-normal"],[1,"header-col-date","title-normal"],["class","upcoming-dates border-grey-light",4,"ngFor","ngForOf"],[1,"upcoming-dates","border-grey-light"],[1,"name-of-contest","title-normal-regular",3,"innerHtml"],[1,"date-of-contest","title-normal-regular"]],template:function(t,e){1&t&&(g.dd(0,M,1,0,"ui-spinner",0),g.jc(1,"div",1,2),g.jc(3,"div",3),g.dd(4,y,1,3,"btn-ellipsis",4),g.ic(),g.jc(5,"div",5),g.jc(6,"div",6),g.ec(7,"div",7),g.jc(8,"div",8),g.dd(9,P,3,3,"span",9),g.dd(10,I,3,5,"span",10),g.ic(),g.jc(11,"div",11),g.fd(12),g.ic(),g.ic(),g.jc(13,"div",12),g.jc(14,"ul",13),g.jc(15,"li",14),g.dd(16,x,1,3,"avatar",15),g.jc(17,"div",16),g.jc(18,"span",17),g.fd(19),g.wc(20,"t"),g.ic(),g.jc(21,"span",18),g.fd(22),g.ic(),g.ic(),g.ic(),g.dd(23,T,9,10,"li",19),g.ic(),g.ic(),g.ic(),g.dd(24,k,9,11,"ul",20),g.jc(25,"div",21),g.jc(26,"a",22),g.fd(27),g.wc(28,"t"),g.ic(),g.ic(),g.ic()),2&t&&(g.Dc("ngIf",e.showSpinner()),g.Mb(1),g.cd("min-height",e.minHeight-53),g.Mb(3),g.Dc("ngIf",e.contestEllipsis),g.Mb(3),g.Dc("innerHtml",null==e.displayContest?null:e.displayContest.goal,g.Vc),g.Mb(1),g.Dc("ngSwitch",e.isDateInTheFuture(e.displayContest)),g.Mb(1),g.Dc("ngSwitchCase","in-progress"),g.Mb(1),g.Dc("ngSwitchCase","concluded"),g.Mb(2),g.hd(" ",e.showPeriodDate(e.displayContest)," "),g.Mb(4),g.Dc("ngIf",e.currentUserInformation),g.Mb(3),g.hd(" ",g.yc(20,18,"My position",g.Hc(24,E))," "),g.Mb(3),g.id(" ",null==e.displayContest?null:e.displayContest.rank," - ",null==e.currentUserInformation?null:e.currentUserInformation.name," "),g.Mb(1),g.Dc("ngIf",null==e.displayContest?null:e.displayContest.score),g.Mb(1),g.Dc("ngIf",e.upcomingContest),g.Mb(1),g.Dc("ngClass",g.Ic(25,A,e.minHeight&&e.minHeight>=460)),g.Mb(1),g.Dc("routerLink",g.Hc(27,L)),g.Mb(1),g.hd(" ",g.yc(28,21,"View all contests",g.Hc(28,E))," "))},directives:[m.p,m.r,m.s,m.n,_.k,b.bd,f.a,w.a,m.o],pipes:[C.b,O.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]     btn-ellipsis{font-size:16px;display:block;height:1.2em}[_nghost-%COMP%]   .ellipsis-wrapper[_ngcontent-%COMP%]{display:block;padding:12px 25px;border-width:0 0 1px;border-style:solid}[_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:flex-start;padding:25px 25px 60px;width:100%;box-sizing:border-box}[_nghost-%COMP%]   .achieved-position[_ngcontent-%COMP%], [_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .contest-goal[_ngcontent-%COMP%]{line-height:19px;width:100%}[_nghost-%COMP%]   .progress-status[_ngcontent-%COMP%]{text-transform:uppercase;display:inline-block;box-sizing:border-box}[_nghost-%COMP%]   .progress-status[_ngcontent-%COMP%]   .concluded[_ngcontent-%COMP%], [_nghost-%COMP%]   .progress-status[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]{padding:1px 8px}[_nghost-%COMP%]   .progress-status[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]{background-color:#f5a623}[_nghost-%COMP%]   .progress-dates[_ngcontent-%COMP%]{display:inline-block;text-indent:7px}[_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]{width:50%}[_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]   .achieved-position[_ngcontent-%COMP%]   .position-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]   .achieved-position[_ngcontent-%COMP%]   avatar[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]   .achieved-score[_ngcontent-%COMP%]   avatar[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}[_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]   .achieved-position[_ngcontent-%COMP%]   .position-label[_ngcontent-%COMP%]{line-height:18px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]   .achieved-position[_ngcontent-%COMP%]   .position-label[_ngcontent-%COMP%]{padding-left:20px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]   .achieved-position[_ngcontent-%COMP%]   .position-label[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]   .achieved-position[_ngcontent-%COMP%]   .static-label[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]{font-size:0}[_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;font-size:14px;max-width:50%}[_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:only-child{width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:10%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:10%}[_nghost-%COMP%]   .achieved-score[_ngcontent-%COMP%]   .static-label[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .achieved-score[_ngcontent-%COMP%]   .points-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .achieved-score[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .achieved-score[_ngcontent-%COMP%]   i.zmdi[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}[_nghost-%COMP%]   .achieved-score[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{line-height:16px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .achieved-score[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{padding-left:20px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .achieved-score[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{padding-right:20px}[_nghost-%COMP%]   .achieved-score[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]   i.zmdi[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]   .upcoming-contests[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:100%;padding:10px 23px;font-size:0;line-height:0;box-sizing:border-box;vertical-align:middle}[_nghost-%COMP%]   .upcoming-contests[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:18px;display:inline-block;width:50%;vertical-align:middle}[_nghost-%COMP%]   .upcoming-contests[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span.name-of-contest[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .upcoming-contests[_ngcontent-%COMP%] > li.upcoming-dates[_ngcontent-%COMP%]{border-width:1px 0 0;border-style:solid}[_nghost-%COMP%]   .upcoming-contests[_ngcontent-%COMP%]   .header-col-date[_ngcontent-%COMP%], [_nghost-%COMP%]   .upcoming-contests[_ngcontent-%COMP%]   .header-col-name[_ngcontent-%COMP%]{text-transform:uppercase}.widgets-column-small   [_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%]{display:inline-block;padding:15px 25px}.widgets-column-small   [_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]{width:100%}.widgets-column-small   [_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:18px;justify-content:space-between;align-content:space-between;align-items:flex-start}.widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]{font-size:0}.widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:flex-start;align-content:flex-start;align-items:flex-start;max-width:50%;font-size:14px}.widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:only-child{max-width:100%;width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:0}.widgets-column-small   [_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%]{display:inline-block;padding:15px 25px}.widgets-column-small   [_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]{width:100%}.widgets-column-small   [_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:18px;justify-content:space-between;align-content:space-between;align-items:flex-start}.widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]{font-size:0}.widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:flex-start;align-content:flex-start;align-items:flex-start;max-width:50%;font-size:14px}.widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:only-child{max-width:100%;width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:0}@media screen and (max-width:640px){.widgets-column-small   [_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%]{display:inline-block;padding:15px 25px}.widgets-column-small   [_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]{width:100%}.widgets-column-small   [_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:18px;justify-content:space-between;align-content:space-between;align-items:flex-start}.widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]{font-size:0}.widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:flex-start;align-content:flex-start;align-items:flex-start;max-width:50%;font-size:14px}.widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:only-child{max-width:100%;width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:0}[_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%]{display:inline-block;padding:15px 25px}[_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:18px;justify-content:space-between;align-content:space-between;align-items:flex-start}[_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]{font-size:0}[_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:flex-start;align-content:flex-start;align-items:flex-start;max-width:50%;font-size:14px}[_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:only-child{max-width:100%;width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .achievement-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:0}}.widgets-column-half   [_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%]{display:inline-block;padding:15px 25px}.widgets-column-half   [_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], .widgets-column-half   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]{width:100%}.widgets-column-half   [_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%]{width:100%;margin-top:18px}.widgets-column-half   [_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%]{display:inline-block;padding:15px 25px}.widgets-column-half   [_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], .widgets-column-half   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]{width:100%}.widgets-column-half   [_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%]{width:100%;margin-top:18px}@media screen and (max-width:768px){.widgets-column-half   [_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%]{display:inline-block;padding:15px 25px}.widgets-column-half   [_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], .widgets-column-half   [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]{width:100%}.widgets-column-half   [_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%]{width:100%;margin-top:18px}[_nghost-%COMP%]   .choosen-contest-info[_ngcontent-%COMP%]{display:inline-block;padding:15px 25px}[_nghost-%COMP%]   .contest-information[_ngcontent-%COMP%], [_nghost-%COMP%]   .user-achievement[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   ul.achievement-list[_ngcontent-%COMP%]{width:100%;margin-top:18px}}"],data:{animation:[Object(i.n)("fadeInOut",[Object(i.m)(":enter",[Object(i.l)({opacity:0}),Object(i.e)(300,Object(i.l)({opacity:1}))]),Object(i.m)(":leave",[Object(i.e)(300,Object(i.l)({opacity:0}))])])]}}),t})()},"8u6t":function(t){t.exports=JSON.parse('{"data":{"items":[{"id_trans":"1827","date_creation":"2017-10-31 14:34:22","date_activated":"2017-10-31 14:34:44","payment_type":"stripe","done_by":"User","payment_currency":"USD","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","email":"someone@some.com","id_user":"13010","id":1827,"status":"Successful","username":"staff.support","total_paid":18,"actions":["view_details","cancel","test"]},{"id_trans":"1826","date_creation":"2017-10-31 14:32:39","date_activated":"0000-00-00 00:00:00","payment_type":"stripe","done_by":"User","payment_currency":"USD","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","email":"someone@some.com","id_user":"13010","id":1826,"status":"Failed","username":"staff.support","total_paid":18,"actions":["view_details"]},{"id_trans":"1825","date_creation":"2017-10-31 14:31:07","date_activated":"0000-00-00 00:00:00","payment_type":"stripe","done_by":"User","payment_currency":"USD","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","email":"someone@some.com","id_user":"13010","id":1825,"status":"Pending","username":"staff.support","total_paid":18,"actions":["view_details"]},{"id_trans":"1824","date_creation":"2017-10-31 14:24:13","date_activated":"2017-10-31 14:24:46","payment_type":"stripe","done_by":"User","payment_currency":"USD","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","email":"someone@some.com","id_user":"13010","id":1824,"status":"Successful","username":"staff.support","total_paid":123,"actions":["view_details"]},{"id_trans":"1821","date_creation":"2017-10-31 13:56:55","date_activated":"2017-10-31 13:57:26","payment_type":"stripe","done_by":"User","payment_currency":"USD","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","email":"someone@some.com","id_user":"13010","id":1821,"status":"Successful","username":"staff.support","total_paid":324,"actions":["view_details"]},{"id_trans":"1820","date_creation":"2017-10-31 13:55:06","date_activated":"0000-00-00 00:00:00","payment_type":"stripe","done_by":"User","payment_currency":"USD","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","email":"someone@some.com","id_user":"13010","id":1820,"status":"Failed","username":"staff.support","total_paid":123,"actions":["view_details"]},{"id_trans":"1819","date_creation":"2017-10-31 13:50:54","date_activated":"2017-10-31 13:51:29","payment_type":"stripe","done_by":"User","payment_currency":"USD","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","email":"someone@some.com","id_user":"13010","id":1819,"status":"Successful","username":"staff.support","total_paid":123,"actions":["view_details"]},{"id_trans":"1818","date_creation":"2017-10-31 13:42:56","date_activated":"2017-10-31 13:43:32","payment_type":"stripe","done_by":"User","payment_currency":"USD","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","email":"someone@some.com","id_user":"13010","id":1818,"status":"Successful","username":"staff.support","total_paid":123,"actions":["view_details"]},{"id_trans":"1817","date_creation":"2017-10-31 10:59:14","date_activated":"2017-10-31 10:59:33","payment_type":"tr_payment","done_by":"User","payment_currency":"USD","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","email":"someone@some.com","id_user":"13010","id":1817,"status":"Successful","username":"staff.support","total_paid":1.9,"actions":["view_details"]}],"count":8,"has_more_data":true,"cursor":"de6522811d28243634ed8d6a6e8f301886d0aaa2","current_page":1,"current_page_size":8,"total_page_count":44,"total_count":10,"sort":[{"sort_attr":"id_trans","sort_dir":"asc"}]}}')},"8ybL":function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"4","sequence":"0","widgets":[{"id":"","type":"image","name":{"en":"Image","fa":"Image","fi":"Image","it":"Image"},"settings":{}}]},{"size":"8","sequence":"1","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":2,"columns":[{"size":"6","sequence":"0","widgets":[{"id":"","type":"image","name":{"en":"Image","fa":"Image","fi":"Image","it":"Image"},"settings":{}}]},{"size":"6","sequence":"1","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":3,"columns":[{"size":"8","sequence":"0","widgets":[{"id":"","type":"image","name":{"en":"Image","fa":"Image","fi":"Image","it":"Image"},"settings":{}}]},{"size":"4","sequence":"1","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":4,"columns":[{"size":"12","sequence":"0","widgets":[{"id":"","type":"image","name":{"en":"Image","fa":"Image","fi":"Image","it":"Image"},"settings":{}}]}]}]}}')},"9lTW":function(t,e,n){"use strict";var i=n("MgzW");function s(t,e){if(t===e)return 0;for(var n=t.length,i=e.length,s=0,a=Math.min(n,i);s<a;++s)if(t[s]!==e[s]){n=t[s],i=e[s];break}return n<i?-1:i<n?1:0}function a(t){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=n("dXPX"),r=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l="foo"===(function(){}).name;function d(t){return Object.prototype.toString.call(t)}function g(t){return!a(t)&&"function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}var u=t.exports=f,h=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(o.isFunction(t)){if(l)return t.name;var e=t.toString().match(h);return e&&e[1]}}function m(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function _(t){if(l||!o.isFunction(t))return o.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function b(t,e,n,i,s){throw new u.AssertionError({message:n,actual:t,expected:e,operator:i,stackStartFunction:s})}function f(t,e){t||b(t,!0,e,"==",u.ok)}function w(t,e,n,i){if(t===e)return!0;if(a(t)&&a(e))return 0===s(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(g(t)&&g(e)&&d(t)===d(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===s(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(a(t)!==a(e))return!1;var r=(i=i||{actual:[],expected:[]}).actual.indexOf(t);return-1!==r&&r===i.expected.indexOf(e)||(i.actual.push(t),i.expected.push(e),function(t,e,n,i){if(null==t||null==e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var s=C(t),a=C(e);if(s&&!a||!s&&a)return!1;if(s)return w(t=c.call(t),e=c.call(e),n);var r,l,d=M(t),g=M(e);if(d.length!==g.length)return!1;for(d.sort(),g.sort(),l=d.length-1;l>=0;l--)if(d[l]!==g[l])return!1;for(l=d.length-1;l>=0;l--)if(!w(t[r=d[l]],e[r],n,i))return!1;return!0}(t,e,n,i))}return n?t===e:t==e}function C(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function O(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function v(t,e,n,i){var s;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),s=function(t){var e;try{t()}catch(n){e=n}return e}(e),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),t&&!s&&b(s,n,"Missing expected exception"+i);var a="string"==typeof i,r=!t&&s&&!n;if((!t&&o.isError(s)&&a&&O(s,n)||r)&&b(s,n,"Got unwanted exception"+i),t&&s&&n&&!O(s,n)||!t&&s)throw s}u.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=m(_(this.actual),128)+" "+this.operator+" "+m(_(this.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var i=n.stack,s=p(e),a=i.indexOf("\n"+s);if(a>=0){var o=i.indexOf("\n",a+1);i=i.substring(o+1)}this.stack=i}}},o.inherits(u.AssertionError,Error),u.fail=b,u.ok=f,u.equal=function(t,e,n){t!=e&&b(t,e,n,"==",u.equal)},u.notEqual=function(t,e,n){t==e&&b(t,e,n,"!=",u.notEqual)},u.deepEqual=function(t,e,n){w(t,e,!1)||b(t,e,n,"deepEqual",u.deepEqual)},u.deepStrictEqual=function(t,e,n){w(t,e,!0)||b(t,e,n,"deepStrictEqual",u.deepStrictEqual)},u.notDeepEqual=function(t,e,n){w(t,e,!1)&&b(t,e,n,"notDeepEqual",u.notDeepEqual)},u.notDeepStrictEqual=function t(e,n,i){w(e,n,!0)&&b(e,n,i,"notDeepStrictEqual",t)},u.strictEqual=function(t,e,n){t!==e&&b(t,e,n,"===",u.strictEqual)},u.notStrictEqual=function(t,e,n){t===e&&b(t,e,n,"!==",u.notStrictEqual)},u.throws=function(t,e,n){v(!0,t,e,n)},u.doesNotThrow=function(t,e,n){v(!1,t,e,n)},u.ifError=function(t){if(t)throw t},u.strict=i(function t(e,n){e||b(e,!0,n,"==",t)},u,{equal:u.strictEqual,deepEqual:u.deepStrictEqual,notEqual:u.notStrictEqual,notDeepEqual:u.notDeepStrictEqual}),u.strict.strict=u.strict;var M=Object.keys||function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e}},BVXN:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("gvJE"),s=n("fXoL");let a=(()=>{class t{constructor(){this.sampleDataMessage=i.a.t("admin_webpages","The data you see in the preview of these widgets is sample data.")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xb({type:t,selectors:[["fake-data-warning-message"]],decls:8,vars:3,consts:[[1,"mdl-wrapper"],[1,"widget-render-row","mdl-grid"],[1,"widget-render-column","mdl-cell","mdl-cell--12-col"],[1,"widget-render-preview-warning"],[1,"zmdi","zmdi-alert-triangle","widget-render-preview-warning-icon"],[1,"widget-render-preview-warning-text"]],template:function(t,e){1&t&&(s.jc(0,"div",0),s.jc(1,"div",1),s.jc(2,"div",2),s.jc(3,"div",3),s.ec(4,"i",4),s.jc(5,"span",5),s.fd(6),s.wc(7,"t"),s.ic(),s.ic(),s.ic(),s.ic(),s.ic()),2&t&&(s.Mb(6),s.gd(s.xc(7,1,e.sampleDataMessage)))},pipes:[i.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.widget-render-preview-warning[_ngcontent-%COMP%]{display:flex;align-self:center;padding:20px;color:#fff;background-color:var(--ui-color-semantic-alert);margin-top:25px}.widget-render-preview-warning[_ngcontent-%COMP%]   .widget-render-preview-warning-text[_ngcontent-%COMP%]{font-weight:600}.widget-render-preview-warning[_ngcontent-%COMP%]   .widget-render-preview-warning-icon[_ngcontent-%COMP%]{font-size:20px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .widget-render-preview-warning .widget-render-preview-warning-icon{margin:0 16px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .widget-render-preview-warning .widget-render-preview-warning-icon{margin:0 0 0 16px}"]}),t})()},BvzM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.download_player=0]="download_player",t[t.flowplayer=1]="flowplayer",t[t.google_player=2]="google_player",t[t.image=3]="image",t[t.link_player=4]="link_player",t[t.cc_player=5]="cc_player",t[t.embeded=6]="embeded",t}({})},C8kt:function(t,e,n){"use strict";n.d(e,"a",function(){return T});var i=n("3TUO"),s=n("LRne"),a=n("j5TW"),o=n("Al+D"),r=n("LC/E"),c=n("fXoL"),l=n("Y9qQ"),d=n("l7P3"),g=n("Ww7d"),u=n("35q8"),h=n("Gql0"),p=n("ofXK"),m=n("nhDY"),_=n("gvJE"),b=n("3RMk");const f=function(){return{category:"coupon"}};function w(t,e){if(1&t&&(c.jc(0,"ul"),c.jc(1,"li"),c.jc(2,"span",10),c.fd(3),c.wc(4,"t"),c.ic(),c.fd(5),c.ic(),c.jc(6,"li"),c.jc(7,"span",10),c.fd(8),c.wc(9,"t"),c.ic(),c.fd(10),c.ic(),c.jc(11,"li"),c.jc(12,"span",10),c.fd(13),c.wc(14,"t"),c.ic(),c.fd(15),c.ic(),c.jc(16,"li"),c.jc(17,"span",10),c.fd(18),c.wc(19,"t"),c.ic(),c.fd(20),c.wc(21,"price"),c.ic(),c.jc(22,"li"),c.jc(23,"span",10),c.fd(24),c.wc(25,"t"),c.ic(),c.fd(26),c.wc(27,"HDateTime"),c.ic(),c.ic()),2&t){const t=c.vc();c.Mb(3),c.hd("",c.xc(4,10,"Username"),":"),c.Mb(2),c.hd(" ",t.buyerData.username," "),c.Mb(3),c.hd("",c.xc(9,12,"First Name"),":"),c.Mb(2),c.hd(" ",t.buyerData.firstname," "),c.Mb(3),c.hd("",c.xc(14,14,"Last Name"),":"),c.Mb(2),c.hd(" ",t.buyerData.lastname," "),c.Mb(3),c.hd("",c.yc(19,16,"Total paid",c.Hc(25,f)),":"),c.Mb(2),c.hd(" ",c.xc(21,19,t.getTotal())," "),c.Mb(4),c.hd("",c.xc(25,21,"Date"),":"),c.Mb(2),c.hd(" ",c.xc(27,23,t.buyerData.date_completed)," ")}}function C(t,e){if(1&t&&(c.jc(0,"ul"),c.jc(1,"li"),c.fd(2),c.ic(),c.jc(3,"li"),c.fd(4),c.ic(),c.jc(5,"li"),c.fd(6),c.ic(),c.jc(7,"li"),c.fd(8),c.ic(),c.ic()),2&t){const t=c.vc();c.Mb(2),c.gd(t.billing_data.company_name),c.Mb(2),c.gd(t.billing_data.address),c.Mb(2),c.gd(t.billing_data.zip),c.Mb(2),c.gd(t.billing_data.country)}}const O=function(){return{category:"ecommerce"}},v=function(){return{category:"configuration"}},M=function(){return{category:"report"}};function y(t,e){if(1&t&&(c.jc(0,"div",3),c.jc(1,"h4",4),c.fd(2),c.wc(3,"t"),c.ic(),c.jc(4,"ul"),c.jc(5,"li"),c.jc(6,"span",10),c.fd(7),c.wc(8,"t"),c.ic(),c.fd(9),c.ic(),c.jc(10,"li"),c.jc(11,"span",10),c.fd(12),c.wc(13,"t"),c.ic(),c.fd(14),c.ic(),c.ic(),c.ic()),2&t){const t=c.vc();c.Mb(2),c.gd(c.yc(3,5,"Transactions",c.Hc(14,O))),c.Mb(5),c.hd("",c.yc(8,8,"Payment Gateway",c.Hc(15,v)),":"),c.Mb(2),c.hd(" ",t.transactionInfo.payment_method," "),c.Mb(3),c.hd("",c.yc(13,11,"Transaction ID",c.Hc(16,M)),":"),c.Mb(2),c.hd(" ",t.transactionInfo.payment_txn_id," ")}}function P(t,e){if(1&t&&c.ec(0,"core-table",11),2&t){const t=c.vc();c.Dc("calc_height",t.tableParams.calc_height)("columns",t.tableParams.columns)("massive_actions",t.tableParams.massive_actions)("source",t.tableParams.source)("enable_massive_actions",t.tableParams.enable_massive_actions)}}function S(t,e){if(1&t&&(c.jc(0,"div"),c.fd(1),c.wc(2,"t"),c.wc(3,"price"),c.ic()),2&t){const t=c.vc(2);c.Qb(t.rtlClasses.TEXT_ALIGN_RIGHT),c.Mb(1),c.id(" ",c.yc(2,5,"Discount",c.Hc(10,O)),": ",c.xc(3,8,t.transactionInfo.coupon_data.discount)," ")}}const I=function(){return{category:"transaction"}};function x(t,e){if(1&t&&(c.jc(0,"div",12),c.jc(1,"div"),c.fd(2),c.wc(3,"t"),c.wc(4,"price"),c.ic(),c.dd(5,S,4,11,"div",13),c.jc(6,"div"),c.fd(7),c.wc(8,"t"),c.wc(9,"price"),c.ic(),c.ic()),2&t){const t=c.vc();c.Mb(1),c.Qb(t.rtlClasses.TEXT_ALIGN_RIGHT),c.Mb(1),c.id(" ",c.yc(3,11,"Subtotal",c.Hc(21,I)),": ",c.xc(4,14,null==t.transactionInfo?null:t.transactionInfo.total_price)," "),c.Mb(3),c.Dc("ngIf",null==t.transactionInfo?null:t.transactionInfo.coupon_data),c.Mb(1),c.Rb("bolded ",t.rtlClasses.TEXT_ALIGN_RIGHT,""),c.Mb(1),c.id(" ",c.yc(8,16,"Total",c.Hc(22,O)),": ",c.xc(9,19,t.getTotal())," ")}}const E=function(){return{category:"billing"}};let T=(()=>{class t{constructor(t,e,n,s,a){this.backendService=t,this.store=e,this.actions=n,this.pageService=s,this.formatter=a,this.rtlClasses=i.a}ngOnInit(){this.store.dispatch(this.actions.update(this.transactionID));const t=this.pageService.dialog.onClose.subscribe(()=>{this.store.dispatch(this.actions.update({})),t.unsubscribe()});this.reduxListener()}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(r.i).subscribe(t=>{switch(this.currentState=t,this.currentState.status){case"DATA_LOADED":t.customPageData&&(this.buyerData=t.customPageData.buyer_data,this.billing_data=t.customPageData.billing_data,this.transactionInfo=t.customPageData,t.customPageData.items&&(this.transactionDetailsItem=t.customPageData.items,this.tableData=Object(s.a)(t.customPageData),this.tableData&&(this.tableParams={calc_height:!1,columns:this.getColumns(),source:new D(1,[],t.customPageData.items.length,this.backendService,this.getColumns(),this.tableData),enable_massive_actions:!1,massive_actions:[]})));break;case"DEMO_DATA_LOADED":this.buyerData=t.customPageData.buyer_data,this.billing_data=t.customPageData.billing_data,this.transactionInfo=t.customPageData,t.customPageData.items&&(this.transactionDetailsItem=t.customPageData.items,this.tableData=Object(s.a)(t.customPageData),this.tableParams={calc_height:!1,columns:this.getColumns(),source:new D(1,[],this.tableData.value.items.length,this.backendService,this.getColumns(),this.tableData),enable_massive_actions:!1,massive_actions:[]});break;default:return}}))}getTotal(){return this.transactionInfo.total_price+0-(this.transactionInfo.coupon_data?this.transactionInfo.coupon_data.discount:0)}getColumns(){return[{id:"item_id",name:"ID",is_sortable:!1},{id:"item_code",name:"Code",is_sortable:!1},{id:"item_type",name:"Type",is_sortable:!1},{id:"item_title",name:"Title",is_sortable:!1},{id:"item_price",name:"Price",is_sortable:!1,renderer:t=>new o.a(this.formatter).transform(t)}]}ngOnDestroy(){this.reduxSubscriber.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.dc(l.a),c.dc(d.d),c.dc(g.a),c.dc(u.a),c.dc(h.b))},t.\u0275cmp=c.Xb({type:t,selectors:[["transaction-details"]],inputs:{transactionID:"transactionID"},decls:17,vars:13,consts:[[1,"transaction-details-wrapper"],[1,"mdl-wrapper"],[1,"mdl-grid"],[1,"mdl-cell","mdl-cell--4-col"],[1,"title-normal"],[4,"ngIf"],["class","mdl-cell mdl-cell--4-col",4,"ngIf"],[1,"details-table"],[3,"calc_height","columns","massive_actions","source","enable_massive_actions",4,"ngIf"],["class","transaction-total-price text-ltr-right text-basic-size",4,"ngIf"],[1,"text-grey"],[3,"calc_height","columns","massive_actions","source","enable_massive_actions"],[1,"transaction-total-price","text-ltr-right","text-basic-size"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(c.jc(0,"div",0),c.jc(1,"div",1),c.jc(2,"div",2),c.jc(3,"div",3),c.jc(4,"h4",4),c.fd(5),c.wc(6,"t"),c.ic(),c.dd(7,w,28,26,"ul",5),c.ic(),c.jc(8,"div",3),c.jc(9,"h4",4),c.fd(10),c.wc(11,"t"),c.ic(),c.dd(12,C,9,4,"ul",5),c.ic(),c.dd(13,y,15,17,"div",6),c.ic(),c.ic(),c.jc(14,"div",7),c.dd(15,P,1,5,"core-table",8),c.ic(),c.dd(16,x,10,23,"div",9),c.ic()),2&t&&(c.Mb(5),c.gd(c.xc(6,7,"General Information")),c.Mb(2),c.Dc("ngIf",e.buyerData),c.Mb(3),c.gd(c.yc(11,9,"_BILLING_INFORMATION",c.Hc(12,E))),c.Mb(2),c.Dc("ngIf",e.billing_data),c.Mb(1),c.Dc("ngIf",e.transactionInfo),c.Mb(2),c.Dc("ngIf",null==e.tableParams?null:e.tableParams.source),c.Mb(1),c.Dc("ngIf",e.buyerData))},directives:[p.p,m.a],pipes:[_.b,o.a,b.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]{display:block;max-height:418px;position:relative}[_nghost-%COMP%]     .transaction-details-wrapper{height:100%}[_nghost-%COMP%]     .transaction-details-wrapper .mdl-wrapper{padding:0}[_nghost-%COMP%]     .transaction-details-wrapper .details-table{margin:25px -25px 0;height:calc(100% - 255px)}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .header-table{position:relative}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner{height:calc(100% - 69px)!important;overflow-y:auto}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner p{margin-bottom:0}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner::-webkit-scrollbar{width:6px;height:6px}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner::-webkit-scrollbar-button{width:0;height:0}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner::-webkit-scrollbar-thumb{background:#ccc;border:0 transparent;border-radius:50px}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner::-webkit-scrollbar-corner, [_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner::-webkit-scrollbar-track{background:transparent;border:0 transparent}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner::-webkit-scrollbar-thumb:active{background:var(--ui-color-typography-secondary)}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner::-webkit-scrollbar-track:active{background:var(--ui-color-badge-background-light)}@media (-ms-high-contrast:none),(hover:hover),screen and (-ms-high-contrast:active){[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner::-webkit-scrollbar-track:hover{background:transparent;border:0 transparent}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .wrap-table-inner::-webkit-scrollbar-thumb:hover{background:var(--ui-color-typography-secondary)}}[_nghost-%COMP%]     .transaction-details-wrapper .details-table .footer-table{display:none!important}[_nghost-%COMP%]     .transaction-details-wrapper .transaction-total-price span{display:block}"]}),t})();class D extends a.b{constructor(t=0,e,n,i,s,a){super(t,e,n,i,s),this.dataSource=a,this.total_count=10}fetchData(t){return this.dataSource}}},CTgS:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return r});var i=function(t){return t[t.PENDING_USERS="pending_users"]="PENDING_USERS",t[t.REWARD_SHOP_REQUESTS="reward_shop_requests"]="REWARD_SHOP_REQUESTS",t[t.ECCOMERCE_TRANSACTIONS="ecommerce_transactions"]="ECCOMERCE_TRANSACTIONS",t[t.COURSE_ENROLLMENT_APPROVALS="pending_enrollment_approvals"]="COURSE_ENROLLMENT_APPROVALS",t[t.ASSIGNMENTS_EVALUATION="assignments_evaluation"]="ASSIGNMENTS_EVALUATION",t[t.OVERDUE_COURSES="overdue_courses"]="OVERDUE_COURSES",t[t.REVIEW_APPROVE_ASSETS="review_assets"]="REVIEW_APPROVE_ASSETS",t[t.QUESTIONS_TO_ANSWER="questions_to_answer"]="QUESTIONS_TO_ANSWER",t[t.UPCOMING_ILT_WEBINARS="upcoming_ilt_webinars"]="UPCOMING_ILT_WEBINARS",t[t.TEST_TO_EVALUATE="test_to_evaluate"]="TEST_TO_EVALUATE",t[t.ASSIGNMENTS_TO_EVALUATE="assignments_to_evaluate"]="ASSIGNMENTS_TO_EVALUATE",t[t.UPCOMING_DEADLINE="upcoming_deadline"]="UPCOMING_DEADLINE",t[t.ASSIGNMENTS_TO_CHECK="assignments_to_check"]="ASSIGNMENTS_TO_CHECK",t[t.COURSES_NOT_STARTED="not_started"]="COURSES_NOT_STARTED",t[t.COURSES_IN_PROGRESS="in_progress"]="COURSES_IN_PROGRESS",t[t.CHECKLIST_REQUIRING_ACTION="checklist_requiring_action"]="CHECKLIST_REQUIRING_ACTION",t}({}),s=function(t){return t[t.ASSETS="asset"]="ASSETS",t[t.COURSES="my-course"]="COURSES",t[t.SESSION_BASED="session-based-course"]="SESSION_BASED",t[t.ASSIGNMENTS_USER="assignment-list"]="ASSIGNMENTS_USER",t[t.ASSIGNMENT_INST="simple-list-2"]="ASSIGNMENT_INST",t[t.SIMPLE_LIST="simple-list"]="SIMPLE_LIST",t[t.QUESTIONS="question-preview"]="QUESTIONS",t}({}),a=function(t){return t[t.ASSETS="assets"]="ASSETS",t[t.COURSE_VIEW="course-view"]="COURSE_VIEW",t[t.ASSIGNMENTS_USER="course-lo-view"]="ASSIGNMENTS_USER",t[t.ASSIGNMENT_INST="legacy-report-inst"]="ASSIGNMENT_INST",t[t.TESTS="legacy-report-test"]="TESTS",t[t.QUESTIONS="question-preview"]="QUESTIONS",t}({}),o=function(t){return t[t.APPROVE="approve"]="APPROVE",t[t.VIEW="view"]="VIEW",t[t.REJECT="reject"]="REJECT",t[t.RESEND="resend"]="RESEND",t}({}),r=function(t){return t.LEARNER="learner",t.INSTRUCTOR="instructor",t.TUTOR="tutor",t}({})},Cbwy:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n("fXoL"),s=n("3Pt+"),a=n("Z/On"),o=n("gvJE"),r=n("Jc1x"),c=n("ofXK");function l(t,e){if(1&t){const t=i.kc();i.jc(0,"span",5),i.rc("click",function(){return i.Uc(t),i.vc().onButtonClick()}),i.jc(1,"i",6),i.fd(2," send "),i.ic(),i.ic()}if(2&t){const t=i.vc();i.Mb(1),i.Vb("send-error",t.hasError)}}function d(t,e){if(1&t&&(i.jc(0,"span"),i.jc(1,"i",7),i.fd(2," send "),i.ic(),i.ic()),2&t){const t=i.vc();i.Mb(1),i.Vb("send-error",t.hasError)}}let g=(()=>{class t{constructor(){this.inputFormControl=new s.e,this.buttonClicked=new i.q,this.type=a.a.TEXT,this.translations={send:o.a.t("standard","Send")}}get showClickableButton(){return!1===this.isLoading&&!1===this.isSendButtonDisabled}get showDisabledButton(){return!1===this.isLoading&&!0===this.isSendButtonDisabled}ngOnInit(){this.initializeInputViewStyle()}ngOnChanges(t){t.isLoading.currentValue!==t.isLoading.previousValue&&setTimeout(()=>this.checkError())}checkError(){this.hasError=!this.inputFormControl.valid&&this.inputFormControl.touched}onButtonClick(){this.buttonClicked.emit(this.inputFormControl.value)}onInputChange(t){this.isSendButtonDisabled=0===t.length,this.checkError()}initializeInputViewStyle(){this.isSendButtonDisabled=!this.inputFormControl.value,this.checkError()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xb({type:t,selectors:[["textfield-with-send-button"]],inputs:{id:"id",inputFormControl:"inputFormControl",isLoading:"isLoading",label:"label",value:"value"},outputs:{buttonClicked:"buttonClicked"},features:[i.Kb],decls:5,vars:9,consts:[[1,"textfield-button-container"],[3,"floating_label","id","inputFormControl","isLoading","label","name","type","onChange","focusout","focusin"],[1,"textfield-button"],["class","mdl-button mdl-js-button mdl-button--icon",3,"click",4,"ngIf"],[4,"ngIf"],[1,"mdl-button","mdl-js-button","mdl-button--icon",3,"click"],[1,"material-icons","send-icon"],[1,"material-icons","send-icon","send-disabled"]],template:function(t,e){1&t&&(i.jc(0,"div",0),i.jc(1,"textfield",1),i.rc("onChange",function(t){return e.onInputChange(t)})("focusout",function(){return e.checkError()})("focusin",function(){return e.checkError()}),i.ic(),i.jc(2,"div",2),i.dd(3,l,3,2,"span",3),i.dd(4,d,3,2,"span",4),i.ic(),i.ic()),2&t&&(i.Mb(1),i.Dc("floating_label",!0)("id",e.id)("inputFormControl",e.inputFormControl)("isLoading",e.isLoading)("label",e.label)("name","subscription-code")("type",e.type),i.Mb(2),i.Dc("ngIf",e.showClickableButton),i.Mb(1),i.Dc("ngIf",e.showDisabledButton))},directives:[r.a,c.p],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.textfield-button-container[_ngcontent-%COMP%]{position:relative}.textfield-button-container[_ngcontent-%COMP%]   .textfield-button[_ngcontent-%COMP%]{position:absolute;top:16px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .textfield-button-container .textfield-button{right:-8px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .textfield-button-container .textfield-button{left:-8px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .textfield-button-container .textfield-button{transform:rotate(0deg)}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .textfield-button-container .textfield-button{transform:rotate(180deg)}.textfield-button-container[_ngcontent-%COMP%]   .textfield-button[_ngcontent-%COMP%]   .send-icon[_ngcontent-%COMP%]{font-size:18px;color:#008767}.textfield-button-container[_ngcontent-%COMP%]   .textfield-button[_ngcontent-%COMP%]   .send-icon.send-disabled[_ngcontent-%COMP%]{padding:7px;color:#ccc;cursor:default}.textfield-button-container[_ngcontent-%COMP%]   .textfield-button[_ngcontent-%COMP%]   .send-icon.send-error[_ngcontent-%COMP%]{color:var(--ui-color-semantic-error-default);cursor:default}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     textfield   .docebo-input-text{padding:0 30px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     textfield   .docebo-input-text{padding:0 0 0 30px}textfield[_ngcontent-%COMP%]     .docebo-textfield .field-error-text{display:none}"]}),t})()},Cz1B:function(t,e,n){"use strict";n.d(e,"a",function(){return H});var i=n("R0Ic"),s=n("fYJ8"),a=n("gvJE"),o=n("yRWM"),r=n("HDdC"),c=n("LC/E"),l=n("myMj"),d=n("Hp0J"),g=n("CTgS"),u=n("wI8q"),h=n("dRcD"),p=n("d+dA"),m=n("Karm"),_=n("QXP6"),b=n("LVoI"),f=n("S2Qf"),w=n("AytR"),C=n("pcX1"),O=function(t){return t.trainingMaterial="trainingMaterial",t.sessions="sessions",t.statistic="statistic",t.reports="reports",t}({});function v(t,e,n=!1){let i=new f.g;switch(t){case g.c.COURSE_VIEW:return e.url;case g.c.ASSIGNMENTS_USER:return`/learn/course/${e.id_course}/play/${e.id_lo}/${e.slug_name}`;case g.c.TESTS:const t=e.course.course_type===m.f.CLASSROOM;return i.isOn(f.f.TOGGLE_VILT)&&t&&n?`/learn/instructor/course/${e.course.id_course}/user/${e.id_user}`:`/legacy/lms/index.php?r=player/report/byUser&course_id=${e.course.id_course}&user_id=${e.id_user}`;case g.c.ASSIGNMENT_INST:{const t=h.a.getInstance().isCurrentUserA(h.a.LEVEL_SUPERADMIN),n=e.course_type===m.f.ELEARNING,s=e.course_type===m.f.CLASSROOM,a=e.level;return i.isOn(f.f.TOGGLE_VILT)&&s&&a===g.a.INSTRUCTOR?`/learn/instructor/course/${e.id_course}`:t?`/course/edit/${e.id_course}`:n&&a===g.a.INSTRUCTOR?`/learn/course/${e.id_course}/instructor-overview`:`/legacy/lms/index.php?r=player/report&course_id=${e.id_course}`}case g.c.ASSETS:return u.e.editAssetPageUrl(e.asset_id);case g.c.QUESTIONS:return`/share/question/${e.question_id}`;default:return""}}function M(t,e,n,i=!1){let s,o,r=new f.g;switch(t){case g.d.COURSES:switch(e.status){case"enrolled":o=a.a.t("standard","Enrolled");break;case"in_progress":o=a.a.t("standard","In progress");break;case"done":case"completed":o=a.a.t("standard","Done");break;case"suspended":o=a.a.t("standard","_SUSPENDED");break;default:o=a.a.t("standard",e.status)}const t=null!==e.enroll_end_date?e.enroll_end_date:e.course_end_date,c=p.b.getInstance().getLangByShortCode(e.lang_code);let l={expiration_date:t,type:e.type,language:c?c.label:"",can_enter:e.can_enter,can_enter_reason:Object(b.h)(e.can_enter_reason),level:h.a.getTranslatedUserLevel(e.level,n.translation,n.changeDetection)};return o&&(l=Object.assign({status_label:o},l)),l;case g.d.SESSION_BASED:return{type:e.type,date:e.session_date_begin,time:e.session_time_begin,location:e.location_name};case g.d.ASSIGNMENTS_USER:return{related_course:e.course_name,evaluated:0!==Number(e.status),score:e.score,passed:1===Number(e.status),max_score:100,action:()=>{n.router.navigate([v(g.c.ASSIGNMENTS_USER,e)])}};case g.d.QUESTIONS:return{related_to_label:e.related_to,time_ago:e.created_on,question:(new _.a).transform(e.question_text),mentions:(null==e?void 0:e.mentions)||[],action:()=>{n.router.navigate([v(g.c.QUESTIONS,e),{is_answer:!0}])}};case g.d.ASSIGNMENT_INST:return{related_course:e.course_name,action:()=>{let t=[v(g.c.ASSIGNMENT_INST,e,i)];const a=h.a.getInstance().isCurrentUserA(h.a.LEVEL_SUPERADMIN),o=e.course_type===m.f.CLASSROOM,c=e.level;a||e.course_type===m.f.ELEARNING&&c===g.a.INSTRUCTOR?t.push({tab:C.a.REPORTS}):r.isOn(f.f.TOGGLE_VILT)&&o&&c===g.a.INSTRUCTOR&&(s={queryParams:{tab:O.reports}}),n.router.navigate(t,s)}};case g.d.SIMPLE_LIST:let d=[];if(e&&void 0!==e.course){d=[v(g.c.TESTS,e,i)];const t=e.course.course_type===m.f.CLASSROOM;r.isOn(f.f.TOGGLE_VILT)&&t&&i&&(s={queryParams:{tab:O.reports}})}else{d=[v(g.c.ASSIGNMENT_INST,e,i)];const t=h.a.getInstance().isCurrentUserA(h.a.LEVEL_SUPERADMIN),n=e.course_type===m.f.ELEARNING,a=e.course_type===m.f.CLASSROOM,o=e.level;t||n&&o===g.a.INSTRUCTOR?d.push({tab:C.a.REPORTS}):r.isOn(f.f.TOGGLE_VILT)&&a&&o===g.a.INSTRUCTOR&&(s={queryParams:{tab:O.reports}})}return{related_course:e.course?e.course.name:e.course_name,related_user:e.fullname?e.fullname:null,action:()=>{n.router.navigate(d,s)}};case g.d.ASSETS:return{author:e.owner_fullname?e.owner_fullname:e.owner_username,publish_date:e.update_date,type:e.asset_type,cssClassAuthorName:"text-grey-dark"};default:return{}}}var y=n("LvDl"),P=n.n(y),S=n("fXoL"),I=n("l7P3"),x=n("KVSa"),E=n("tyNb"),T=n("Gql0"),D=n("JA8w"),k=n("+sIT"),A=n("jg0+"),L=n("ofXK"),j=n("nUpK"),N=n("Gnvh"),R=n("49CU"),F=n("Vqln");function U(t,e){1&t&&(S.jc(0,"div",2),S.jc(1,"div",3),S.ec(2,"ui-spinner"),S.ic(),S.ic())}const z=function(t){return[t]};function q(t,e){if(1&t){const t=S.kc();S.jc(0,"tile",8),S.rc("@growShrinkStaticStart.done",function(){return S.Uc(t),S.vc(2).animationInitialized=!0}),S.ic()}if(2&t){const t=e.$implicit,n=S.vc(2);S.Dc("@growShrinkStaticStart",n.animationInitialized.toString())("ngClass",S.Ic(4,z,t.type_id))("data",t)("skipTileWrapperLink",n.disableTileClick(t))}}function B(t,e){if(1&t&&(S.hc(0),S.jc(1,"div",9),S.ec(2,"lazy-loader",10),S.ic(),S.gc()),2&t){const t=S.vc(2);S.Mb(2),S.Dc("trigger","click")("handler",t.lazyLoaderHandler)("showNoItemsMessage",!1)}}function V(t,e){if(1&t){const t=S.kc();S.jc(0,"div",11),S.jc(1,"a",12),S.rc("click",function(e){return S.Uc(t),S.vc(2).navigateTo(e)}),S.fd(2),S.wc(3,"t"),S.ic(),S.ic()}if(2&t){const t=S.vc(2);S.Mb(2),S.gd(S.xc(3,1,"upcoming_deadline"==t.tabName?"View all courses":"View all"))}}function G(t,e){if(1&t&&(S.jc(0,"div",4),S.dd(1,q,1,6,"tile",5),S.dd(2,B,3,3,"ng-container",6),S.dd(3,V,4,3,"div",7),S.ic()),2&t){const t=S.vc();S.cd("min-height",t.widgetHeight),S.Mb(1),S.Dc("ngForOf",t.tileArray),S.Mb(1),S.Dc("ngIf",t.showLazyLoadComponent()),S.Mb(1),S.Dc("ngIf",t.showViewAllButton())}}function W(t,e){if(1&t&&(S.jc(0,"div",4),S.ec(1,"blankslate",13),S.ic()),2&t){const t=S.vc();S.cd("min-height",t.widgetHeight),S.Mb(1),S.Dc("isVisible",t.showBlankSlate())("title",t.blankSlateParams.title)("subtitle",t.blankSlateParams.subtitle)("type",t.blankSlateParams.type)}}let H=(()=>{class t{constructor(t,e,n,i,s,a,o,r){this.store=t,this.actions=e,this.router=n,this.formatterService=i,this.translateService=s,this.ch_ref=a,this.docLayoutService=o,this.embeddedService=r,this.animationInitialized=!1,this.showSpinner=!0,this.tileArray=[],this.blankSlateParams={},this.lazyLoaderHandler=this.changePage.bind(this)}ngOnInit(){switch(this.reduxListener(),this.tabName){case g.b.QUESTIONS_TO_ANSWER:this.blankSlateParams={headerButtons:[],type:o.a.HAPPY002,title:a.a.t("standard","Well Done."),subtitle:a.a.t("standard","You have answered all of your questions!")};break;case g.b.REVIEW_APPROVE_ASSETS:this.blankSlateParams={headerButtons:[],type:o.a.HAPPY004,title:a.a.t("standard","Well Done."),subtitle:a.a.t("standard","You have reviewed all of your assets!")};break;default:this.blankSlateParams={headerButtons:[],type:o.a.HAPPY006,title:a.a.t("standard","Well Done."),subtitle:a.a.t("standard","Nothing\u2019s happening here right now. Take a well-deserved break.")}}}ngOnDestroy(){this.reduxSubscriber&&this.reduxSubscriber.unsubscribe(),this.store.dispatch(this.actions.update_page({widgetId:this.widgetId,current_pages:{[this.tabName]:1}}))}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(c.k).subscribe(t=>{if(s.a.keyExistInObject(t,"status"))switch(t.status){case"INITIALIZED":this.showSpinner=!0;break;case"DATA_LOADED":case"DEMO_DATA_LOADED":case"FIRST_UPDATE_SUCCESS":if(this.showSpinner=!1,s.a.valueUndefined(t.customTabData[this.widgetId])||P.a.isEqual(this.listItems,t.customTabData[this.widgetId][this.tabName]))return;if(this.listItems=t.customTabData[this.widgetId][this.tabName],this.pagesCount=t.currentPages,s.a.valueUndefined(this.listItems))return;this.pagination={count:this.listItems.count,current_page:this.listItems.current_page,current_page_size:this.listItems.current_page_size,total_count:this.listItems.total_count,total_page_count:this.listItems.total_page_count,has_more_data:this.listItems.has_more_data},this.initializeTileComponents();break;case"NOT_LOADED":this.listItems={},this.showSpinner=!1}}))}initializeTileComponents(){if(s.a.valueUndefined(this.listItems.items))return;const t={router:this.router,translation:this.translateService,changeDetection:this.ch_ref,docLayoutService:this.docLayoutService},e=this.listItems.items.map(e=>function(t,e,n,i=!1){const s=function(t){switch(t){case g.b.REVIEW_APPROVE_ASSETS:return"asset";case g.b.UPCOMING_DEADLINE:case g.b.COURSES_NOT_STARTED:case g.b.COURSES_IN_PROGRESS:return"my-course";case g.b.TEST_TO_EVALUATE:case g.b.ASSIGNMENTS_TO_EVALUATE:case g.b.ASSIGNMENTS_EVALUATION:return"simple-list";case g.b.ASSIGNMENTS_TO_CHECK:return"assignment-list";case g.b.QUESTIONS_TO_ANSWER:return"question-preview";case g.b.UPCOMING_ILT_WEBINARS:return"session-based-course"}}(t);let o,r={type_id:s,visual_style:"horizontal-card-plain",uri:"",title:"",duration:"",other_fields:{}};switch(s){case String(g.d.COURSES):case String(g.d.SESSION_BASED):o=g.d.COURSES,r=Object.assign(Object.assign({},r),{rating:e.rating,rating_mode:"five_stars",uri:v(g.c.COURSE_VIEW,e),image_url:e.image_url,title:e.name?e.name:e.fullname?e.fullname:e.username,description:e.description,show_waiting:"waiting"===e.status});const t=function(t,e){if(!t.hasOwnProperty("deeplinking"))return;let n=document.location.origin;return void 0!==w.a.subfolder&&(n+="/"+w.a.subfolder),n+="/lms/index.php?r=course/deeplink&course_id=",n+=t.id,n+=`&hash=${t.deeplinking.hash}&generated_by=${t.deeplinking.generated_by}`,{title:a.a.t("course","Get shareable link"),action:()=>{Object(b.g)(n).then(t=>{e.toast.showToast({message:a.a.t("standard","Link copied to your clipboard"),type:"success"})}).catch(t=>{e.toast.showToast({message:a.a.t("standard","Something went wrong. Please, try again later!"),type:"error"})})}}}(e,n.docLayoutService);t&&(r.actions=[],r.actions.push(t));break;case String(g.d.ASSIGNMENTS_USER):o=g.d.ASSIGNMENTS_USER,r=Object.assign(Object.assign({},r),{uri:v(g.c.ASSIGNMENTS_USER,e),title:e.name});break;case String(g.d.QUESTIONS):o=g.d.QUESTIONS,r=Object.assign(Object.assign({},r),{uri:"",title:e.fullname?e.fullname:e.username});break;case String(g.d.ASSIGNMENT_INST):o=g.d.ASSIGNMENT_INST,r=Object.assign(Object.assign({},r),{uri:"",title:e.name});break;case String(g.d.SIMPLE_LIST):o=g.d.SIMPLE_LIST,r=Object.assign(Object.assign({},r),{uri:"",title:e.title?e.title:e.name});break;case String(g.d.ASSETS):o=g.d.ASSETS,r=Object.assign(Object.assign({},r),{image_url:e.thumbnail,uri:v(g.c.ASSETS,e),title:e.title,duration:0!==Number(e.duration)?e.duration:null,rating:e.rating,rating_mode:"five_stars"});break;default:console.warn("A not recognized TileType was passed to the widget!")}return r.other_fields={[s]:M(o,e,n,i)},r}(this.tabName,e,t,this.isInstructor)),n=this.showLazyLoadComponent()||this.tileArray.length+e.length===this.pagination.total_count;this.tileArray=n?this.tileArray.concat(e):e}showBlankSlate(){return!!s.a.valueUndefined(this.listItems)||this.listItems&&0===this.tileArray.length}showLazyLoadComponent(){return!!this.pagination.has_more_data&&l.g.indexOf(this.tabName)>-1}showViewAllButton(){return!!this.pagination.has_more_data&&-1===l.g.indexOf(this.tabName)}changePage(){return new r.a(t=>{if(!this.pagination.has_more_data)return t.next(!1);let e=this.pagesCount[this.widgetId][this.tabName];e+=1;const n={otherParams:Object(d.b)(this.formatterService,this.tabName,{widget_height:this.widgetHeight}),tabName:this.tabName,page:e,skipCPUpdate:!1};Object(d.a)(n,this.widgetId),this.reduxSubscriber=this.store.select(c.k).subscribe(e=>{if(s.a.keyExistInObject(e,"status"))switch(e.status){case"DATA_LOADED":case"DEMO_DATA_LOADED":case"FIRST_UPDATE_SUCCESS":case"NOT_LOADED":return t.next(!0);default:return}})})}disableTileClick(t){return"question-preview"===t.type_id||"simple-list"===t.type_id}navigateTo(t){t.preventDefault();const e=Object(d.f)(this.tabName),n=Object(d.e)(this.tabName);e[0]instanceof Array?this.router.navigate.apply(this.router,e):this.router.navigate(e,n)}}return t.\u0275fac=function(e){return new(e||t)(S.dc(I.d),S.dc(x.a),S.dc(E.h),S.dc(T.b),S.dc(D.a),S.dc(S.i),S.dc(k.a),S.dc(A.a))},t.\u0275cmp=S.Xb({type:t,selectors:[["ng-component"]],inputs:{widgetId:"widgetId",tabName:"tabName",widgetHeight:"widgetHeight",isInstructor:"isInstructor"},decls:3,vars:3,consts:[["class","spinner_outter bg-white",4,"ngIf"],["class","tile-container",3,"minHeight",4,"ngIf"],[1,"spinner_outter","bg-white"],[1,"spinner_wrapp"],[1,"tile-container"],["class","border-grey-light",3,"ngClass","data","skipTileWrapperLink",4,"ngFor","ngForOf"],[4,"ngIf"],["class","task-list-tiles-cta-btn cta-link-wrapper border-grey-light",4,"ngIf"],[1,"border-grey-light",3,"ngClass","data","skipTileWrapperLink"],[1,"task-list-lazyloader-cta-btn","cta-link-wrapper","border-grey-light"],[1,"cta-link",3,"trigger","handler","showNoItemsMessage"],[1,"task-list-tiles-cta-btn","cta-link-wrapper","border-grey-light"],[1,"text-main","bolded","cta-link",3,"click"],[3,"isVisible","title","subtitle","type"]],template:function(t,e){1&t&&(S.dd(0,U,3,0,"div",0),S.dd(1,G,4,5,"div",1),S.dd(2,W,2,6,"div",1)),2&t&&(S.Dc("ngIf",e.showSpinner),S.Mb(1),S.Dc("ngIf",!e.showBlankSlate()&&!e.showSpinner),S.Mb(1),S.Dc("ngIf",e.showBlankSlate()&&!e.showSpinner))},directives:[L.p,j.bd,L.o,N.b,L.n,R.a,F.a],pipes:[a.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%], [_nghost-%COMP%]   .spinner_outter[_ngcontent-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .spinner_outter[_ngcontent-%COMP%]{width:100%;height:200px}[_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]{scrollbar-base-color:#ccc;-ms-scrollbar-base-color:#ccc;scrollbar-shadow-color:#fff;-ms-scrollbar-shadow-color:#fff;scrollbar-track-color:#fff;-ms-scrollbar-track-color:#fff;scrollbar-arrow-color:#ccc;-ms-scrollbar-arrow-color:#ccc;scrollbar-face-color:#ccc;-ms-scrollbar-face-color:#ccc;-ms-overflow-style:-ms-autohiding-scrollbar;display:flex;justify-content:stretch;align-items:stretch;align-content:stretch;flex-direction:column;overflow-y:auto}[_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0;height:0}[_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border:0 transparent;border-radius:50px}[_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner, [_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border:0 transparent}[_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:var(--ui-color-typography-secondary)}[_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]::-webkit-scrollbar-track:active{background:var(--ui-color-badge-background-light)}@media (-ms-high-contrast:none),(hover:hover),screen and (-ms-high-contrast:active){[_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]::-webkit-scrollbar-track:hover{background:transparent;border:0 transparent}[_nghost-%COMP%]   .tile-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--ui-color-typography-secondary)}}[_nghost-%COMP%]   tile[_ngcontent-%COMP%]{border-width:0 0 1px;border-style:solid;display:block}[_nghost-%COMP%]   tile[_ngcontent-%COMP%]:last-of-type{margin-bottom:-1px}[_nghost-%COMP%]   .task-list-tiles-cta-btn[_ngcontent-%COMP%]{border-width:1px 0 0;border-style:solid}"],data:{animation:[Object(i.n)("growShrinkStaticStart",[Object(i.k)("in",Object(i.l)({height:"*","padding-top":"*","padding-bottom":"*","margin-top":"*","margin-bottom":"*"})),Object(i.m)("* => void",[Object(i.l)({height:"*","padding-top":"*","padding-bottom":"*","margin-top":"*","margin-bottom":"*"}),Object(i.e)("0.5s ease",Object(i.l)({height:"0","padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0"}))]),Object(i.m)("void => false",[]),Object(i.m)("void => *",[Object(i.l)({height:"0","padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0"}),Object(i.e)("0.5s ease",Object(i.l)({height:"*","padding-top":"*","padding-bottom":"*","margin-top":"*","margin-bottom":"*"}))])])]}}),t})()},Ed9i:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{}},"F+9e":function(t,e,n){"use strict";n.d(e,"a",function(){return ae});var i=n("ofXK"),s=n("tfGn"),a=n("yoPb"),o=n("nUpK"),r=n("9jGm"),c=n("l7P3"),l=n("mrSG"),d=n("eIep"),g=n("lJxs"),u=n("JIr8"),h=n("LRne"),p=n("hAKv"),m=n("dRcD"),b=n("d+dA");const f=b.b.getInstance().branding_elements.colors.mainColor;function w(t,e){return O()?`${t} ${e}`:`${e} ${t}`}function C(t,e){return O()?`${t.charAt(0)}${e.charAt(0)}`:`${e.charAt(0)}${t.charAt(0)}`}function O(){return b.b.getInstance().settings.show_first_name_first}function v(t){const e={};for(const n in t)t.hasOwnProperty(n)&&void 0!==t[n].label&&void 0!==t[n].type&&(e[n]={label:t[n].label,type:p.a[t[n].type],value:void 0!==t[n].value?t[n].value:""});return e}var M=n("VoiC"),y=n("O8am"),P=n("fXoL"),S=n("h/VL"),I=n("Y9qQ");let x=(()=>{class t{constructor(t){this.backendService=t}getData(){return this.backendService.request(`/loki/widget/v1/user_profile/${m.a.getInstance().id}`,"GET")}getDemoData(){return Object(h.a)(S)}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})();var E=n("+s/G");let T=(()=>{class t{constructor(t,e,n,i){this.actions=t,this.wmyprofileActions=e,this.wmyprofileService=n,this.widgetRenderService=i,this.LoadEvents$=this.actions.pipe(Object(r.f)(y.a.INIT),Object(d.a)(()=>{const t=Object(M.a)(this.widgetRenderService)?"getDemoData":"getData",e=Object(M.a)(this.widgetRenderService)?"loadDemoData":"loadDataSucces";return this.wmyprofileService[t]().pipe(Object(g.a)(t=>this.wmyprofileActions[e](function(t){const{firstName:e,lastName:n,cover:i,avatar:s,email:a,additionalFields:o}=t;return{cover:Object.assign(Object.assign({},i),{color:f}),avatar:s,email:a,additionalFields:v(o),initials:C(e,n),fullName:w(e,n)}}(t.data))),Object(u.a)(t=>Object(h.a)(this.wmyprofileActions.loadDataReject(t))))}))}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(y.a),P.nc(x),P.nc(E.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"LoadEvents$",void 0),t})();var D=n("Ww7d"),k=n("8u6t"),A=n("do78");let L=(()=>{class t{constructor(t){this.src=t}callPagesList(t,e){let n=[];return t&&(n=["get_total_count=1","page="+t.payload.page,"page_size="+t.payload.page_size],t.payload.hasOwnProperty("sort_attr")&&t.payload.hasOwnProperty("sort_dir")&&n.push("sort_attr="+t.payload.sort_attr+"&sort_dir="+t.payload.sort_dir)),this.src.request("/ecommerce/v1/transaction?my_transactions=true&"+n.join("&"),"GET")}getData(t){let e=[];return t.payload&&(e=["get_total_count=1","page="+t.payload.page,"page_size="+t.payload.page_size],t.payload.hasOwnProperty("sort_attr")&&t.payload.hasOwnProperty("sort_dir")&&e.push("sort_attr="+t.payload.sort_attr+"&sort_dir="+t.payload.sort_dir),t.payload.hasOwnProperty("date_from")&&t.payload.hasOwnProperty("date_to")&&e.push("date_from="+t.payload.date_from+"&date_to="+t.payload.date_to),t.payload.hasOwnProperty("row_id")&&(e=t.payload.row_id)),"number"==typeof t.payload?this.src.request("/ecommerce/v1/transaction/get","GET",{transaction_id:t.payload}):this.src.request("/ecommerce/v1/transaction?my_transactions=true&"+e.join("&"),"GET")}getDemoData(t){return"number"==typeof t.payload?Object(h.a)(A):Object(h.a)(k)}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})(),j=(()=>{class t{constructor(t,e,n,i){this.actions$=t,this.wmyTransactionsActions=e,this.wmytransactionsService=n,this.widgetRenderService=i,this.loadMenuPagesInitialize$=this.actions$.pipe(Object(r.f)(D.a.TRANSACTIONS_LIST_INITIALIZE),Object(d.a)(t=>this.wmytransactionsService.callPagesList(t).pipe(Object(g.a)(t=>this.wmyTransactionsActions.loadDataSucces(t)),Object(u.a)(t=>Object(h.a)(this.wmyTransactionsActions.loadDataReject(t)))))),this.LoadEvents$=this.actions$.pipe(Object(r.f)(D.a.INIT,D.a.UPDATE),Object(d.a)(t=>{const e=this.isDemo()?"getDemoData":"getData",n=this.isDemo()?"loadDemoData":"loadDataSucces";return this.wmytransactionsService[e](t).pipe(Object(g.a)(t=>this.wmyTransactionsActions[n](t)),Object(u.a)(t=>Object(h.a)(this.wmyTransactionsActions.loadDataReject(t))))}))}isDemo(){return this.widgetRenderService.getIsDemo()}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(D.a),P.nc(L),P.nc(E.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"loadMenuPagesInitialize$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"LoadEvents$",void 0),t})();var N=n("5+tZ"),R=n("bOdf"),F=n("Orh4"),U=n("UaVD"),z=n("BvzM"),q=n("/iLL");function B(t){switch(t){case"learner":return"_LEVEL_3";case"tutor":return"_LEVEL_4";case"instructor":return"_LEVEL_6";case"coach":return"_LEVEL_8"}}function V(t,e){return t.filter(t=>t.type===e).sort((t,e)=>e.is_best-t.is_best||Object(F.a)(e.created_at,t.created_at)).map(t=>({author:{avatar:t.owner.avatar,fullName:t.owner.full_name,id:t.owner.id,uuid:t.owner.uuid,initials:t.owner.short_name,isExpert:t.owner.is_expert},content:t.title,id:t.id,isBestAnswer:t.is_best,ratings:{dislikes:t.rating&&"number"==typeof t.rating.dislikes?t.rating.dislikes:null,likes:t.rating&&"number"==typeof t.rating.likes?t.rating.likes:null,vote:t.rating&&"number"==typeof t.rating.vote?parseInt(t.rating.vote,10):null},isReadOnly:t.read_only,subItems:void 0!==t.sub_items?V(t.sub_items,e):null,time:void 0!==t.created_at?t.created_at:t.metadata.created_at,voted:t.voted,mentions:t.mentions}))}var G=n("u1MY"),W=n("/kKY"),H=n("7Zvt"),$=n("IzEk"),Q=n("z6cu"),J=n("31Ws"),Y=n("1cD2"),K=n("Hd5Y"),X=n("692j"),Z=n("S7nU"),tt=n("FIME"),et=n("LC/E"),nt=n("lfsz");const it={99999:Y,99998:K,99997:X,99996:Z,99995:tt};let st=(()=>{class t{constructor(t,e){this.src=t,this.store=e}getAssetPlayerData(t){return this.src.request(`/loki/share/v1/assets/${t}/player`,"GET",{},{},I.b,null,t=>403===t.status?Object(Q.a)("Forbidden"):this.src.handleApiErrors(t))}getCurrentState(){let t=null;return this.store.select(et.c).pipe(Object($.a)(1)).subscribe(e=>{t=e.customPageData}),t}getData(t){for(const e in t)t.hasOwnProperty(e)&&0===t[e].current_page&&delete t[e];return void 0!==t.enrollment&&(t.enrollment.id_user=Object(q.a)().id),void 0===t.question||nt.c.getInstance().dcsMention||(t.question.ignore_mentions=!0),this.src.request("/loki/widget/v1/activity_stream","GET",t)}getDemoAssetPlayerData(t){return Object(h.a)(it[t])}getDemoData(t){const e={data:{items:J.data.items}};for(const n in t)t.hasOwnProperty(n)&&0===t[n].current_page&&(e.data.items=e.data.items.filter(t=>t.type!==n));return Object(h.a)(e)}submitContent(t,e){return this.src.request(`/loki/share/v1/${t}`,"POST",e)}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a),P.nc(c.d))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})(),at=(()=>{class t{constructor(t,e,n,i){this.actions=t,this.wactivitiesStreamActions=e,this.wactivitiesStreamService=n,this.widgetRenderService=i,this.DeleteQuestion$=this.actions.pipe(Object(r.f)(H.a.DELETE_QUESTION),Object(g.a)(t=>{const e=this.wactivitiesStreamService.getCurrentState(),n=parseInt(t.payload.data.id,10);return e.activities=function(t,e){return t.filter(t=>t.type!==U.a.question||t.id!==e).map(t=>Object.assign(Object.assign({},t),{questions:t.questions.filter(t=>t.id!==e)}))}(e.activities,n),this.wactivitiesStreamActions.loadDataByRemovingDeletedQuestion(e)})),this.EditQuestion$=this.actions.pipe(Object(r.f)(H.a.EDIT_QUESTION),Object(g.a)(t=>{const e=this.wactivitiesStreamService.getCurrentState(),n=parseInt(t.payload.data.id,10);return e.activities=function(t,e,n){return t.map(t=>(t.type===U.a.asset&&t.questions.map(t=>(t.id===e&&(t.content=n),t)),t))}(e.activities,n,t.payload.data.title),this.wactivitiesStreamActions.loadDataByRemovingDeletedQuestion(e)})),this.LoadActivities$=this.actions.pipe(Object(r.f)(H.a.INIT,H.a.UPDATE),Object(N.b)(t=>{const e=Object(G.a)(this.widgetRenderService)?"getDemoData":"getData",n=Object(G.a)(this.widgetRenderService)?"loadDemoData":"loadDataSucces";return this.wactivitiesStreamService[e](t.payload.extradata).pipe(Object(g.a)(t=>this.wactivitiesStreamActions[n]({activities:t.data.items.map(t=>{var e,n;switch(t.type){case"asset":case"question":return{answers:t.sub_items?V(t.sub_items,1):[],author:{avatar:t.owner.avatar,fullName:t.owner.full_name,id:t.owner.id,uuid:t.owner.uuid,initials:t.owner.short_name,isExpert:t.owner.is_expert},comments:t.related_questions?V(t.related_questions,2):[],enrollmentMetadata:null,id:t.id,metadata:t.metadata,questions:t.related_questions?V(t.related_questions,1):[],mentions:null!==(e=t.mentions)&&void 0!==e?e:[],related:t.related,ratings:{dislikes:0,likes:0,vote:t.rating&&"number"==typeof t.rating.rating?t.rating.rating:null,isRateEnabled:t.rating&&"boolean"==typeof t.rating.can_rate?t.rating.can_rate:null},type:U.a[t.type],what:{link:U.a[t.type]===U.a.asset?`/share/asset/view/${t.id}`:`/share/question/${t.id}`,title:t.title},when:t.when,where:U.a[t.type]===U.a.asset&&t.channels&&t.channels.length>0?t.channels.map(t=>({title:t.name,link:`/learn/dashboard/channel/${t.channel_id}`})):[]};case"enrollment":return{answers:[],author:Object.assign({isExpert:null},Object(q.a)()),comments:[],enrollmentMetadata:{canEnter:t.can_enter,canEnterReason:t.can_enter_reason,isNew:t.is_new,language:"learning_plan"===t.course_type?"":(n=t.lang_code,void 0!==b.b.getInstance().active_languages[n]?b.b.getInstance().active_languages[n].label:b.b.getInstance().active_languages[b.b.getInstance().default_language].label),level:B(t.level),status:t.status,type:t.course_type},id:t.id,metadata:null,questions:[],related:null,ratings:null,type:U.a[t.type],what:{link:t.url,title:t.name},when:t.when,where:[{link:t.url,thumbnail:t.image_url,title:t.name}]}}})},t.extra_data)),Object(u.a)(t=>Object(h.a)(this.wactivitiesStreamActions.loadDataReject(t))))})),this.LoadAssetPlayer$=this.actions.pipe(Object(r.f)(H.a.LOAD_ASSET_PLAYER),Object(R.a)(t=>{const e=Object(G.a)(this.widgetRenderService)?"getDemoAssetPlayerData":"getAssetPlayerData",n=Object(G.a)(this.widgetRenderService)?"loadAssetPlayerDemoData":"loadAssetPlayerSuccess",i=t.payload.data.assetId;return this.wactivitiesStreamService[e](i).pipe(Object(g.a)(t=>{return this.wactivitiesStreamActions[n]({id_asset:(e=t.data).id_asset,type:z.a[e.player_type],filename:e.title,image:e.config.splash,description:e.description,sources:void 0!==e.content&&void 0!==e.content.sources&&e.content.sources.length>=2?e.content.sources.filter(t=>void 0!==t.type).map(t=>({type:t.type,src:t.src})):[],slidesSources:void 0!==e.content&&e.content.sources.length>0?e.content.sources.filter(t=>void 0!==t.url).map(t=>t.url):void 0!==e.config&&e.config.slides.length>0?e.config.slides.filter(t=>void 0!==t.url).map(t=>t.url):[],url:e.content&&e.content.sources&&void 0!==e.content.sources[0]&&void 0!==e.content.sources[0].url?e.content.sources[0].url:null,config:e.config,content:e.content});var e}),Object(u.a)(t=>Object(h.a)(this.wactivitiesStreamActions.loadAssetPlayerReject(t,i))))})),this.LoadSubmittedContent$=this.actions.pipe(Object(r.f)(H.a.SUBMIT_CONTENT),Object(d.a)(t=>this.wactivitiesStreamService.submitContent(t.payload.endpoint,t.payload.params).pipe(Object(g.a)(e=>{const n=this.wactivitiesStreamService.getCurrentState(),i=parseInt(t.payload.params.id_asset,10);switch(t.payload.type){case W.a.item:n.activities=(s=e[0].data,a=i,n.activities.map(t=>t.id===a?Object.assign(Object.assign({},t),{[2===s.type?"comments":"questions"]:[...V([s],s.type),...t[2===s.type?"comments":"questions"]]}):t)),n.lastContentSubmitted={data:e[0].data,id_asset:i};break;case W.a.subitem:const o=parseInt(t.payload.params.id_comment,10);n.activities=function(t,e,n,i,s){return e.map(t=>(t.id===i&&t[2===n.type?"comments":"questions"].map(t=>(t.id===s&&(t.subItems=[...t.subItems,...V([n],n.type)]),t)),t))}(0,n.activities,e[0].data,i,o),n.lastContentSubmitted={data:e[0].data,id_asset:i,id_comment:o}}var s,a;return this.wactivitiesStreamActions.loadSubmittedContent(n)}),Object(u.a)(t=>Object(h.a)(this.wactivitiesStreamActions.loadDataReject(t))))))}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(H.a),P.nc(st),P.nc(E.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"DeleteQuestion$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"EditQuestion$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"LoadActivities$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"LoadAssetPlayer$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"LoadSubmittedContent$",void 0),t})();var ot=n("2Myo"),rt=n("s5cJ");let ct=(()=>{class t{constructor(t){this.src=t}getData(t){return this.src.request("/assets/coursesandlearningplans-data.json","GET")}getDemoData(t){return Object(h.a)(rt)}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t{constructor(t,e,n){this.actions=t,this.wCoursesAndLearningPlansOverviewActions=e,this.wCoursesAndLearningPlansOverviewService=n,this.LoadEvents$=this.actions.pipe(Object(r.f)(ot.a.INIT,ot.a.UPDATE),Object(d.a)(t=>{const e=this.isDemo()?"getDemoData":"getData",n=this.isDemo()?"loadDemoData":"loadDataSucces";return this.wCoursesAndLearningPlansOverviewService[e](t).pipe(Object(g.a)(t=>this.wCoursesAndLearningPlansOverviewActions[n](t)),Object(u.a)(t=>Object(h.a)(this.wCoursesAndLearningPlansOverviewActions.loadDataReject(t))))}))}isDemo(){return!1}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(ot.a),P.nc(ct))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"LoadEvents$",void 0),t})();var dt=n("KVSa"),gt=n("HDdC"),ut=n("FYuI");let ht=(()=>{class t{constructor(t){this.src=t,this.taskListApiData={},this.taskListDemoData={}}getData({payload:t}){const{widgetId:e}=t;return delete t.widgetId,gt.a.create(n=>{this.src.request("/loki/widget/v1/task","GET",t).subscribe(t=>{const i={[e]:Object.assign(Object.assign({},this.taskListApiData[e]),t)};this.taskListApiData=Object.assign(Object.assign(Object.assign({},this.taskListApiData),i),{widgetId:e}),n.next(this.taskListApiData),n.complete()},t=>{n.next(this.taskListApiData),n.complete()})})}getDemoData({payload:t}){const{widgetId:e}=t;delete t.widgetId;const n={[e]:Object.assign(Object.assign({},this.taskListDemoData[e]),ut)};return this.taskListDemoData=Object.assign(Object.assign(Object.assign({},this.taskListDemoData),n),{widgetId:e}),Object(h.a)(this.taskListDemoData)}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})(),pt=(()=>{class t{constructor(t,e,n,i){this.actions$=t,this.wtasklistActions=e,this.wtasklistService=n,this.widgetRenderService=i,this.LoadEvents$=this.actions$.pipe(Object(r.f)(dt.a.UPDATE),Object(N.b)(t=>{const e=t.payload.replace||!1;return this.wtasklistService[this.callService()](t).pipe(Object(g.a)(t=>e?this.wtasklistActions.replaceSuccess(t):this.wtasklistActions[this.triggerAction()](t)),Object(u.a)(t=>Object(h.a)(this.wtasklistActions.loadDataReject(t))))})),this.FirstLoadEvents$=this.actions$.pipe(Object(r.f)(dt.a.FIRST_UPDATE_REQUEST),Object(N.b)(t=>this.wtasklistService[this.callService()](t).pipe(Object(g.a)(t=>this.wtasklistActions[this.triggerAction()](t)),Object(u.a)(t=>Object(h.a)(this.wtasklistActions.loadDataReject(t))))))}isDemo(){return this.widgetRenderService.getIsDemo()}callService(){return this.isDemo()?"getDemoData":"getData"}triggerAction(){return this.isDemo()?"loadDemoData":"firstUpdateSuccess"}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(dt.a),P.nc(ht),P.nc(E.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"LoadEvents$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"FirstLoadEvents$",void 0),t})();var mt=n("Saua"),_t=n("6jbJ");let bt=(()=>{class t{constructor(t){this.src=t,this.apiResponseInitialData={}}getData(t){return gt.a.create(e=>{this.src.request("/loki/widget/v1/activity_overview/"+t.payload.id,"GET",{timeframe:t.payload.timeframe,social:t.payload.social,interval:t.payload.interval}).subscribe(n=>{const i={[t.payload.key]:n.data};this.apiResponseInitialData=Object.assign(Object.assign({},this.apiResponseInitialData),i),e.next(this.apiResponseInitialData),e.complete()},t=>{e.next(this.apiResponseInitialData),e.complete()})})}getDemoData(t){return gt.a.create(e=>{const n=this;setTimeout(i=>{const s={[t.payload.key]:_t.data};this.apiResponseInitialData=Object.assign(Object.assign({},this.apiResponseInitialData),s),e.next(n.apiResponseInitialData),e.complete()})})}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})(),ft=(()=>{class t{constructor(t,e,n,i){this.actions=t,this.wactivityoverviewActions=e,this.wactivityoverviewService=n,this.widgetRenderService=i,this.LoadEvents$=this.actions.pipe(Object(r.f)(mt.a.INIT,mt.a.UPDATE),Object(N.b)(t=>{const e=this.isDemo()?"getDemoData":"getData",n=this.isDemo()?"loadDemoData":"loadDataSucces";return this.wactivityoverviewService[e](t).pipe(Object(g.a)(e=>this.wactivityoverviewActions[n](e,t.payload.key)),Object(u.a)(e=>Object(h.a)(this.wactivityoverviewActions.loadDataReject(e,t.payload.key))))}))}isDemo(){return this.widgetRenderService.getIsDemo()}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(mt.a),P.nc(bt),P.nc(E.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"LoadEvents$",void 0),t})();var wt=n("eRXO"),Ct=n("uW5Q");let Ot=(()=>{class t{constructor(t){this.src=t}getData(t){return this.src.request("/loki/widget/v1/courses/"+m.a.getInstance().id,"GET")}getDemoData(t){return Object(h.a)(Ct)}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})(),vt=(()=>{class t{constructor(t,e,n){this.actions=t,this.wTrendingActions=e,this.wTrendingService=n,this.LoadEvents$=this.actions.pipe(Object(r.f)(wt.a.INIT,wt.a.UPDATE),Object(d.a)(t=>{const e=this.isDemo()?"getDemoData":"getData",n=this.isDemo()?"loadDemoData":"loadDataSucces";return this.wTrendingService[e](t).pipe(Object(g.a)(t=>this.wTrendingActions[n](t)),Object(u.a)(t=>Object(h.a)(this.wTrendingActions.loadDataReject(t))))}))}isDemo(){return!1}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(wt.a),P.nc(Ot))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"LoadEvents$",void 0),t})();var Mt=n("a37g"),yt=n("yh7M"),Pt=n("SUlJ"),St=n("KvkH"),It=n("u95z");let xt=(()=>{class t{constructor(t){this.src=t}getData(t){const{payload:e}=t;return new gt.a(t=>{this.src.request("/loki/widget/v1/gamification","GET",e.params).subscribe(e=>{t.next(e),t.complete()})})}getDemoData(t){const{payload:e}=t;let n="all";switch(1===e.params.tabs.length&&(n=Object.keys(e.params.tabs)[0]),n){case"badges":return Object(h.a)(yt);case"leaderboards":return Object(h.a)(St);case"contests":return Object(h.a)(Pt);default:return Object(h.a)(It)}}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})(),Et=(()=>{class t{constructor(t,e,n,i){this.actions$=t,this.wgamificationActions=e,this.wgamificationService=n,this.widgetRenderService=i,this.LoadEvents$=this.actions$.pipe(Object(r.f)(Mt.a.INIT,Mt.a.UPDATE),Object(N.b)(t=>this.wgamificationService[this.isDemo()?"getDemoData":"getData"](t).pipe(Object(g.a)(e=>this.wgamificationActions[this.isDemo()?"loadDemoData":"loadDataSuccess"](e,t,t.payload.id)),Object(u.a)(t=>Object(h.a)(this.wgamificationActions.loadDataReject(t))))))}isDemo(){return this.widgetRenderService.getIsDemo()}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(Mt.a),P.nc(xt),P.nc(E.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"LoadEvents$",void 0),t})();var Tt=n("bS13"),Dt=n("K/+K");let kt=(()=>{class t{constructor(t){this.src=t,this.mergedData={}}getData(t,e){const n=t.payload.params;return new gt.a(t=>{this.src.request("/loki/widget/v1/my_kpis","GET",n).subscribe(i=>{if(!i.hasOwnProperty("data"))return;this.mergedData[e]={data:[]};const s=Object.keys(n.items);for(const t of s){let n=0,s={name:t,value:n};i.data.forEach(e=>{e.hasOwnProperty("name")&&e.name===t&&(s=_.assign({},s,e),n=Number(e.value))}),s.value=n,this.mergedData[e].data.push(s)}t.next(this.mergedData),t.complete()})})}getDemoData(t,e){return this.mergedData[e]=Dt,this.mergedData[e].data=this.mergedData[e].data.filter(t=>Object.keys(t).length>0),Object(h.a)(this.mergedData)}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})(),At=(()=>{class t{constructor(t,e,n,i){this._actions$=t,this._wmykpisActions=e,this._wmykpisService=n,this.widgetRenderService=i,this.LoadEvents$=this._actions$.pipe(Object(r.f)(Tt.a.INIT),Object(N.b)(t=>this._wmykpisService[this.isDemo()?"getDemoData":"getData"].call(this._wmykpisService,t,t.payload.id).pipe(Object(g.a)(e=>this._wmykpisActions[this.isDemo()?"loadDemoData":"loadDataSucces"].call(this._wmykpisService,e,t.payload.id)),Object(u.a)(e=>Object(h.a)(this._wmykpisActions.loadDataReject(e,t.payload.id))))))}isDemo(){return this.widgetRenderService.getIsDemo()}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(Tt.a),P.nc(kt),P.nc(E.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"LoadEvents$",void 0),t})();var Lt=n("ppmK");function jt(t){const e=[];return t.map(t=>{e.push({id:t.id?t.id:null,widget:"column",type:"parent",name:t.name?t.name:null,settings:{size:t.size?t.size:null,sequence:t.sequence?t.sequence:null},contains:t.widgets})}),e}var Nt=n("EY2u"),Rt=n("fn6i"),Ft=n("tyNb");let Ut=(()=>{class t{constructor(t,e){this.router=t,this.src=e}getData(t){return this.src.request(`/pages/v1/pages/${this.widgetName(t)}`,"GET").pipe(Object(u.a)(t=>401===t.status?(this.router.navigate(["/learn/signin"]),Object(Nt.b)()):Object(Nt.b)()))}getDemoData(t){const e=Object.assign({},Rt.c);return Object(h.a)(e[this.widgetName(t)])}widgetName(t){return"id"in t.payload.initParams?t.payload.initParams.id:"pages"}}return t.\u0275fac=function(e){return new(e||t)(P.nc(Ft.h),P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})();var zt=n("AurG");let qt=(()=>{class t{constructor(t,e,n,i){this.actions=t,this.pagesRendererActions=e,this.pagesRendererService=n,this.widgetRenderActions=i,this.PagesLoadData$=this.actions.pipe(Object(r.f)(Lt.a.INIT),Object(d.a)(t=>this.pagesRendererService.getData(t).pipe(Object(g.a)(t=>this.pagesRendererActions.loadDataSucces(t.data)),Object(u.a)(t=>Object(h.a)(this.pagesRendererActions.loadDataReject(t)))))),this.PagesLoadDataWithNewRender$=this.actions.pipe(Object(r.f)(Lt.a.INIT_PAGE_WITH_NEW_RENDER),Object(d.a)(t=>this.pagesRendererService.getData(t).pipe(Object(g.a)(t=>{const e=function(t){const e=t,n=[];return t.rows.map(t=>{const e={id:t.id,widget:"row",type:"parent",name:t.name?t.name:null,settings:{background:t.background?t.background:null,content_align:t.content_align?t.content_align:null,is_full_height:t.is_full_height?t.is_full_height:null,is_full_width:t.is_full_width?t.is_full_width:null,is_mobile:t.is_mobile?t.is_mobile:null,layout:t.layout?t.layout:null,sequence:t.sequence?t.sequence:null,mode:"boxed"},contains:jt(t.columns)};n.push(e)}),e.widgets=n,e}(t.data);return this.pagesRendererActions.loadDataSucces(e)}),Object(u.a)(t=>Object(h.a)(this.pagesRendererActions.loadDataReject(t)))))),this.PagesLoadDemoData$=this.actions.pipe(Object(r.f)(Lt.a.INIT_DEMO_PAGE),Object(d.a)(t=>this.pagesRendererService.getDemoData(t).pipe(Object(g.a)(t=>this.pagesRendererActions.loadDataSucces(t.data)),Object(u.a)(t=>Object(h.a)(this.pagesRendererActions.loadDataReject(t)))))),this.WidgetRendersLoadData$=this.actions.pipe(Object(r.f)(Lt.a.LOAD_DATA_SUCCESS),Object(g.a)(t=>this.widgetRenderActions.loadPageData(t.payload.data))),this.IsDemoOnSharedStore$=this.actions.pipe(Object(r.f)(Lt.a.IS_DEMO),Object(g.a)(t=>this.widgetRenderActions.isDemo(t.payload.isDemoPage)))}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(Lt.a),P.nc(Ut),P.nc(zt.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"PagesLoadData$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"PagesLoadDataWithNewRender$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"PagesLoadDemoData$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"WidgetRendersLoadData$",void 0),Object(l.b)([Object(r.b)()],t.prototype,"IsDemoOnSharedStore$",void 0),t})();var Bt=n("aHuI"),Vt=n("6UD4"),Gt=n("hNND");let Wt=(()=>{class t{constructor(t){this.src=t}postSubscriptionCode(t){return this.src.request("/loki/widget/v1/subscription_codes/self_enroll","POST",{code:t})}postDemoSubscriptionCode(t){return Object(h.a)(Vt)}postDemoFailSubscriptionCode(t){return Object(h.a)(Gt)}}return t.\u0275fac=function(e){return new(e||t)(P.nc(I.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),t})();const Ht=[qt,T,j,lt,at,pt,ft,vt,Et,At,(()=>{class t{constructor(t,e,n,i){this.actions=t,this.wsubscriptioncodeActions=e,this.wsubscriptioncodeService=n,this.widgetRenderService=i,this.postSubscriptionCode$=this.actions.pipe(Object(r.f)(Bt.a.POST_SUBSCRIPTION_CODE),Object(d.a)(t=>{const e=function(t){return t.getIsDemo()}(this.widgetRenderService)?"postDemoSubscriptionCode":"postSubscriptionCode";return this.wsubscriptioncodeService[e](t.payload.subscriptionCode).pipe(Object(g.a)(e=>{return this.wsubscriptioncodeActions.postSubscriptionCodeSuccess({enrollments:(n=e.data).ncourses,error:{code:"string"!=typeof n.message?n.message.code:null,message:"string"==typeof n.message?n.message:n.message.message[0]},success:n.success},t.payload.widgetId);var n}),Object(u.a)(e=>Object(h.a)(this.wsubscriptioncodeActions.postSubscriptionCodeReject(e,t.payload.widgetId))))}))}}return t.\u0275fac=function(e){return new(e||t)(P.nc(r.a),P.nc(Bt.a),P.nc(Wt),P.nc(E.a))},t.\u0275prov=P.Zb({token:t,factory:t.\u0275fac}),Object(l.b)([Object(r.b)()],t.prototype,"postSubscriptionCode$",void 0),t})()],$t=[Ut,Wt,x,L,ct,st,ht,bt,Ot,xt,kt,Lt.a,Bt.a,y.a,D.a,ot.a,H.a,dt.a,mt.a,wt.a,Mt.a,Tt.a,...Ht];var Qt=n("RyVW"),Jt=(n("zvKk"),n("yT07"),n("3Ys6"),n("lFx+"),n("Wb/8"),n("O/UX")),Yt=n("hU5d"),Kt=(n("+uwM"),n("Ycus")),Xt=(n("SJmp"),n("hcsV"),n("nOmI"),n("oQEw")),Zt=(n("Cz1B"),n("SrXe"),n("5tGi"),n("cIHy"),n("C8kt"),n("G1Bt"),n("IiIP"),n("8kTK"),n("Cbwy"),n("rs4A"),n("oTkX"),n("ef7w"),n("wYOk"),n("rg0p"),n("KuM8"),n("LQhd"),n("xXh+"),n("fCoP"),n("yn+W"),n("mMaQ"),n("0IxS"),n("Fk63"),n("a2IQ"),n("3zhW")),te=n("NCOs"),ee=n("gvJE"),ne=n("4Y2v"),ie=n("knll"),se=n("SOpw");let ae=(()=>{class t{constructor(e){this.initPagesWidgetsService=e,t.widgetsRegistered||(this.initPagesWidgetsService.init(),t.widgetsRegistered=!0)}}return t.widgetsRegistered=!1,t.\u0275fac=function(e){return new(e||t)(P.nc(Qt.a))},t.\u0275mod=P.bc({type:t}),t.\u0275inj=P.ac({providers:[...$t,Qt.a],imports:[[i.c,s.a,o.uc,a.a,c.f.forFeature("pages-widgets",et.a),r.d.forFeature([...Ht])]]}),t})();P.Yc(Yt.a,[Zt.a,Ft.k,te.a,i.p,Xt.a,Jt.a,Kt.a],[ee.b,ne.a,ie.a,se.a])},FIME:function(t){t.exports=JSON.parse('{"data":{"id_asset":99995,"title":"Fusce ut viverra est. Praesent faucibus enim malesuada mauris ornare, et blandit ante viverra","player_type":"flowplayer","config":{"total_pages":0,"tracking":{"enabled":true},"keyboard":false,"fullscreen":true,"embed":false,"brand":false,"wmode":"opaque","autoplay":false,"seekable":true,"key":"$607851074442244","splash":"/public/images/pages/image1.png","tooltips":[],"spent_time":{"enabled":false,"interval":10},"cuepoints":[],"subtitles":[],"bookmark":0},"content":{"name_original":"Fusce_ut_viverra_est.mp4","name_converted":"o_1b584240214pb1s8g14uhsrlaroa.mp4","filesize":0,"sources":[{"type":"application/x-mpegurl","src":"//example.com/video.m3u8"},{"type":"video/mp4","src":"//example.com/video.mp4"}],"thumbnails":[{"small":"/public/images/pages/image1.png"},{"video":"/public/images/pages/image1.png"},{"carousel":"/public/images/pages/image1.png"},{"original":"/public/images/pages/image1.png"}]},"description":"<p>Donec sed ullamcorper sapien</p>","content_type":1},"version":"1.0.0","_links":[]}')},FYuI:function(t){t.exports=JSON.parse('{"pending_users":{"items":[{"user_id":0,"username":"user","first_name":"John","last_name":"Smith","email":"email-n@email.com","uuid":"85ea9b78-72c1-11e7-ae8f-064d67662485","language":"english","confirmed":"1","request_on":"2017-07-27 11:48:35","create_by_admin":"0","field_1":null,"field_2":"","field_3":"","field_4":null,"field_5":null,"field_6":"","field_7":"","field_8":"","encoded_username":"user","multidomains":[],"manager_names":null,"role_id":null,"role_title":null,"actions":["resend_email","view_info"]},{"user_id":0,"username":"user","first_name":"John","last_name":"Smith","email":"email-n@email.com","uuid":"85761116-72c4-11e7-ae8f-064d67662485","language":"english","confirmed":"1","request_on":"2017-07-27 12:10:03","create_by_admin":"0","field_1":null,"field_2":"","field_3":"","field_4":null,"field_5":null,"field_6":"","field_7":"","field_8":"","encoded_username":"user","multidomains":[],"manager_names":null,"role_id":null,"role_title":null,"actions":["resend_email","view_info"]},{"user_id":0,"username":"user","first_name":"John","last_name":"Smith","email":"email-n@email.com","uuid":"a63534bb-72c8-11e7-ae8f-064d67662485","language":"english","confirmed":"1","request_on":"2017-07-27 12:39:36","create_by_admin":"0","field_1":null,"field_2":"","field_3":"","field_4":null,"field_5":null,"field_6":"","field_7":"","field_8":"","encoded_username":"user","multidomains":[],"manager_names":null,"role_id":null,"role_title":null,"actions":["resend_email","view_info"]},{"user_id":0,"username":"user","first_name":"John","last_name":"Smith","email":"email-n@email.com","uuid":"5870a61d-72d5-11e7-ae8f-064d67662485","language":"english","confirmed":"1","request_on":"2017-07-27 14:10:29","create_by_admin":"0","field_1":null,"field_2":"","field_3":"","field_4":null,"field_5":null,"field_6":"","field_7":"","field_8":"","encoded_username":"user","multidomains":[],"manager_names":null,"role_id":null,"role_title":null,"actions":["resend_email","view_info"]},{"user_id":0,"username":"user","first_name":"John","last_name":"Smith","email":"email-n@email.com","uuid":"8b6efd6c-72d7-11e7-ae8f-064d67662485","language":"english","confirmed":"1","request_on":"2017-07-27 14:26:14","create_by_admin":"0","field_1":null,"field_2":"","field_3":"","field_4":null,"field_5":null,"field_6":"","field_7":"","field_8":"","encoded_username":"user","multidomains":[],"manager_names":null,"role_id":null,"role_title":null,"actions":["resend_email","view_info"]},{"user_id":0,"username":"user","first_name":"John","last_name":"Smith","email":"email-n@email.com","uuid":"5a60129d-7358-11e7-ae8f-064d67662485","language":"english","confirmed":"1","request_on":"2017-07-28 05:48:16","create_by_admin":"0","field_1":null,"field_2":"","field_3":"","field_4":null,"field_5":null,"field_6":"","field_7":"","field_8":"","encoded_username":"user","multidomains":[],"manager_names":null,"role_id":null,"role_title":null,"actions":["resend_email","view_info"]}],"current_page":1,"total_count":6,"count":6,"has_more_data":false,"current_page_size":6,"total_page_count":1},"reward_shop_requests":{"items":[{"id_transaction":0,"reward_name":"Lorem ipsum dolor sit amet","request_date":"2018-01-12 11:32:22","status":"waiting","firstname":"John","lastname":"Smith","username":"user","id_user":0},{"id_transaction":0,"reward_name":"Lorem ipsum dolor sit amet","request_date":"2018-01-12 11:36:56","status":"approved","firstname":"John","lastname":"Smith","username":"user","id_user":0},{"id_transaction":0,"reward_name":"Lorem ipsum dolor sit amet","request_date":"2018-01-12 11:40:51","status":"rejected","firstname":"John","lastname":"Smith","username":"user","id_user":0},{"id_transaction":0,"reward_name":"Lorem ipsum dolor sit amet","request_date":"2018-01-12 11:44:03","status":"waiting","firstname":"John","lastname":"Smith","username":"user","id_user":0},{"id_transaction":0,"reward_name":"Lorem ipsum dolor sit amet","request_date":"2018-01-12 11:44:07","status":"waiting","firstname":"John","lastname":"Smith","username":"user","id_user":0},{"id_transaction":0,"reward_name":"Lorem ipsum dolor sit amet","request_date":"2018-01-12 11:44:11","status":"waiting","firstname":"John","lastname":"Smith","username":"user","id_user":0}],"current_page":1,"total_count":6,"count":6,"has_more_data":false,"current_page_size":6,"total_page_count":1},"ecommerce_transactions":{"items":[{"id_trans":0,"date_creation":"2018-01-11 15:57:13","date_activated":"0000-00-00 00:00:00","payment_type":"paypal","done_by":"User","payment_currency":"EUR","firstname":"","lastname":"","email":"email-n@email.com","id_user":0,"id":0,"status":"Cancelled","username":"user","total_paid":479.35,"actions":[]},{"id_trans":0,"date_creation":"2017-08-21 06:19:32","date_activated":"2017-08-21 06:19:47","payment_type":"stripe","done_by":"User","payment_currency":"EUR","firstname":"","lastname":"staff.support","email":"email-n@email.com","id_user":0,"id":0,"status":"Successful","username":"user","total_paid":50,"actions":[]},{"id_trans":0,"date_creation":"2017-08-20 11:06:49","date_activated":"2017-08-20 11:07:04","payment_type":"stripe","done_by":"User","payment_currency":"EUR","firstname":"","lastname":"staff.support","email":"email-n@email.com","id_user":0,"id":0,"status":"Successful","username":"user","total_paid":50,"actions":[]},{"id_trans":0,"date_creation":"2017-08-20 11:03:30","date_activated":"2017-08-20 11:03:45","payment_type":"stripe","done_by":"User","payment_currency":"EUR","firstname":"","lastname":"staff.support","email":"email-n@email.com","id_user":0,"id":0,"status":"Successful","username":"user","total_paid":50,"actions":[]},{"id_trans":0,"date_creation":"2017-08-20 10:57:33","date_activated":"2017-08-20 10:57:47","payment_type":"stripe","done_by":"User","payment_currency":"EUR","firstname":"","lastname":"staff.support","email":"email-n@email.com","id_user":0,"id":0,"status":"Successful","username":"user","total_paid":50,"actions":[]},{"id_trans":0,"date_creation":"2017-08-18 12:08:09","date_activated":"2017-08-18 12:08:24","payment_type":"stripe","done_by":"User","payment_currency":"EUR","firstname":"","lastname":"staff.support","email":"email-n@email.com","id_user":0,"id":0,"status":"Successful","username":"user","total_paid":50,"actions":[]}],"current_page":1,"total_count":6,"count":6,"has_more_data":false,"current_page_size":6,"total_page_count":1},"pending_enrollment_approvals":{"items":[{"user_id":0,"username":"user","course_id":0,"course_name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","course_type":"webinar","subscription_date":"2018-01-11 15:57:13"},{"user_id":0,"username":"user","course_id":0,"course_name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","course_type":"webinar","subscription_date":"2018-01-11 15:57:13"},{"user_id":0,"username":"user","course_id":0,"course_name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","course_type":"classroom","subscription_date":"2018-01-11 15:57:13"},{"user_id":0,"username":"user","course_id":0,"course_name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","course_type":"elearning","subscription_date":"2018-01-11 15:57:13"},{"user_id":0,"username":"user","course_id":0,"course_name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","course_type":"classroom","subscription_date":"2018-01-11 15:57:13"},{"user_id":0,"username":"user","course_id":0,"course_name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","course_type":"webinar","subscription_date":"2018-01-11 15:57:13"}],"current_page":1,"total_count":6,"count":6,"has_more_data":false,"current_page_size":6,"total_page_count":1},"assignments_to_evaluate":{"items":[{"id":0,"name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","course_name":"Elearning admin only can enroll users","id_course":0,"id_lo":0,"id_user":0,"slug_name":"assignment-1"},{"id":0,"name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","course_name":"Elearning admin only can enroll users","id_course":0,"id_lo":0,"id_user":0,"slug_name":"assignment-2"},{"id":0,"name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","course_name":"Elearning admin only can enroll users","id_course":0,"id_lo":0,"id_user":0,"slug_name":"assignment-3"}],"current_page":1,"total_count":3,"count":3,"has_more_data":false,"current_page_size":3,"total_page_count":1},"overdue_courses":{"items":[{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"elearning","status":"enrolled","location_name":null,"webinar_tool":null,"session_date_begin":null,"session_time_begin":null,"session_timezone":null,"lang_code":"en","code":"0000","course_begin_date":"2017-02-01 00:00:00","enroll_date_of_enrollment":"2018-01-11 14:19:28","enroll_begin_date":null,"course_end_date":"2017-04-01 23:59:59","enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"elearning-with-soft-deadline","is_new":true,"image_url":null,"soft_deadline":true,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]}],"current_page":1,"total_count":1,"count":1,"has_more_data":false,"current_page_size":6,"total_page_count":1},"review_assets":{"items":[{"asset_id":6,"asset_type":"7","duration":null,"title":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","owner_id":13103,"update_date":"2017-04-20 13:52:06","thumbnail":"https://picsum.photos/150/82/?image=58&gravity=west","owner_username":"user","owner_fullname":"User 1 C&S"},{"asset_id":12,"asset_type":"7","duration":null,"title":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","owner_id":13103,"update_date":"2017-04-20 14:02:03","thumbnail":"https://picsum.photos/150/82/?image=106&gravity=west","owner_username":"user","owner_fullname":"User 1 C&S"}],"current_page":1,"total_count":2,"count":2,"has_more_data":false,"current_page_size":3,"total_page_count":1},"questions_to_answer":{"items":[{"question_id":0,"question_text":"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur error id incidunt laborum magnam necessitatibus quibusdam sint soluta ut. Cupiditate doloremque ea ipsum nulla sit?","id_user":0,"created_on":"2017-11-06 07:49:21","related_to":"Lorem ipsum dolor sit amet","username":"user","fullname":"Lorem"},{"question_id":0,"question_text":"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur error id incidunt laborum magnam necessitatibus quibusdam sint soluta ut. Cupiditate doloremque ea ipsum nulla sit?","id_user":0,"created_on":"2017-11-06 08:38:27","related_to":"Lorem ipsum dolor sit amet","username":"user","fullname":"Lorem"}],"current_page":1,"total_count":2,"count":0,"has_more_data":false,"current_page_size":3,"total_page_count":0},"upcoming_ilt_webinars":{"items":[{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"classroom","status":"enrolled","location_name":null,"webinar_tool":null,"session_date_begin":null,"session_time_begin":null,"session_timezone":null,"lang_code":"en","code":"zxcvb","course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:08:24","enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"classroom-pending-admin-approval","is_new":true,"image_url":null,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]},{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"classroom","status":"enrolled","location_name":"Location with all fields filled ","webinar_tool":null,"session_date_begin":"2017-04-07","session_time_begin":"09:00:00","session_timezone":"Europe/Rome","lang_code":"en","code":null,"course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:08:24","enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"classroom-for-paid-lp","is_new":true,"image_url":null,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]},{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"classroom","status":"enrolled","location_name":"Location with all fields filled ","webinar_tool":null,"session_date_begin":"2019-05-04","session_time_begin":"09:00:00","session_timezone":"Europe/Rome","lang_code":"en","code":"zxcv","course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:08:24","enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"classroom-admin-can-only-enroll-users","is_new":true,"image_url":null,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]}],"current_page":1,"total_count":3,"count":3,"has_more_data":false,"current_page_size":3,"total_page_count":4},"upcoming_deadline":{"items":[{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"elearning","status":"enrolled","location_name":null,"webinar_tool":null,"session_date_begin":null,"session_time_begin":null,"session_timezone":null,"lang_code":"en","code":null,"course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:20:18","enroll_begin_date":"2018-01-10 22:00:00","course_end_date":null,"enroll_end_date":"2018-03-31 20:59:59","course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"elearning-for-enrollment-rule-lp","is_new":true,"image_url":null,"soft_deadline":false,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]},{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"elearning","status":"enrolled","location_name":null,"webinar_tool":null,"session_date_begin":null,"session_time_begin":null,"session_timezone":null,"lang_code":"en","code":"001","course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:20:17","enroll_begin_date":"2018-01-10 22:00:00","course_end_date":null,"enroll_end_date":"2018-03-31 20:59:59","course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"course-elearning-added-to-free-catalog","is_new":true,"image_url":null,"soft_deadline":false,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]},{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"elearning","status":"enrolled","location_name":null,"webinar_tool":null,"session_date_begin":null,"session_time_begin":null,"session_timezone":null,"lang_code":"en","code":"005","course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:20:17","enroll_begin_date":"2018-01-10 22:00:00","course_end_date":null,"enroll_end_date":"2018-03-31 20:59:59","course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"course-elearning-payed-added-to-mixed-catalog","is_new":true,"image_url":null,"soft_deadline":false,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]}],"current_page":1,"total_count":3,"count":3,"has_more_data":false,"current_page_size":3,"total_page_count":7},"assignments_to_check":{"items":[{"id":0,"name":"Lorem ipsum dolor sit amet.","course_name":"Lorem ipsum dolor sit amet.","score":"0","status":"0","id_course":0,"id_lo":"222","slug_name":"assignment-1"},{"id":0,"name":"Lorem ipsum dolor sit amet.","course_name":"Lorem ipsum dolor sit amet.","score":"20","status":"-1","id_course":0,"id_lo":"223","slug_name":"assignment-2"},{"id":0,"name":"Lorem ipsum dolor sit amet.","course_name":"Lorem ipsum dolor sit amet.","score":"80","status":"1","id_course":0,"id_lo":"224","slug_name":"assignment-3"}],"current_page":1,"total_count":3,"count":3,"has_more_data":false,"current_page_size":4,"total_page_count":1},"not_started":{"items":[{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"classroom","status":"enrolled","location_name":null,"webinar_tool":null,"session_date_begin":null,"session_time_begin":null,"session_timezone":null,"lang_code":"en","code":"zxcvb","course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:08:24","enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"classroom-pending-admin-approval","is_new":true,"image_url":null,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]},{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"classroom","status":"enrolled","location_name":"Location with all fields filled ","webinar_tool":null,"session_date_begin":"2019-05-04","session_time_begin":"09:00:00","session_timezone":"Europe/Rome","lang_code":"en","code":"zxcv","course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:08:24","enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"classroom-admin-can-only-enroll-users","is_new":true,"image_url":null,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]},{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"classroom","status":"enrolled","location_name":"Location with all fields filled ","webinar_tool":null,"session_date_begin":"2029-12-29","session_time_begin":"09:00:00","session_timezone":"Europe/Rome","lang_code":"en","code":null,"course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:08:24","enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"classroom-for-free-learning-plan","is_new":true,"image_url":null,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]}],"current_page":1,"total_count":3,"count":3,"has_more_data":false,"current_page_size":3,"total_page_count":3},"in_progress":{"items":[{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"elearning","status":"in-progress","location_name":null,"webinar_tool":null,"session_date_begin":null,"session_time_begin":null,"session_timezone":null,"lang_code":"en","code":null,"course_begin_date":null,"enroll_date_of_enrollment":null,"enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":1130465,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"e-learning-with-scorm","is_new":false,"image_url":null,"soft_deadline":false,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]},{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"classroom","status":"in-progress","location_name":"Lorem ipsum dolor","webinar_tool":null,"session_date_begin":"2041-07-23","session_time_begin":"09:00:00","session_timezone":"Europe/Sofia","lang_code":"en","code":"8888","course_begin_date":null,"enroll_date_of_enrollment":null,"enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":518203,"score":null,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"classroom-the-average-of-all-scores-taken-by-the-user","is_new":false,"image_url":null,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]},{"id":0,"user_id":0,"username":"user","name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","type":"elearning","status":"in-progress","location_name":null,"webinar_tool":null,"session_date_begin":null,"session_time_begin":null,"session_timezone":null,"lang_code":"en","code":"Final Test","course_begin_date":null,"enroll_date_of_enrollment":"2018-01-11 14:20:17","enroll_begin_date":"2018-01-10 22:00:00","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":10,"score":0,"enrollment_fields":null,"waiting":"0","url":"#","rating_option":"disabled","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"elearning-navigation-policy-final-test","is_new":false,"image_url":null,"soft_deadline":false,"subscription":{"subscribed":false},"actions":[{"type":"AddToPlaylist","label":"Add to Playlist","color":"#333","url":"#"}]}],"current_page":1,"total_count":3,"count":3,"has_more_data":false,"current_page_size":3,"total_page_count":2},"test_to_evaluate":{"items":[{"id":0,"title":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","id_user":0,"course":{"name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","id_course":0}},{"id":0,"title":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","id_user":0,"course":{"name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","id_course":0}},{"id":0,"title":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","id_user":0,"course":{"name":"Lorem ipsum dolor sit amet, consectetur adipisicing elit.","id_course":0}}],"current_page":1,"total_count":3,"count":3,"has_more_data":false,"current_page_size":4,"total_page_count":1}}')},Fk63:function(t,e,n){"use strict";n.d(e,"b",function(){return L}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return j}),n.d(e,"a",function(){return E.a});var i=n("mrSG"),s=n("tyNb"),a=n("GIHc"),o=n("bUIS"),r=n("8lF4"),c=n("pLZG"),l=n("IzEk"),d=n("3Pt+"),g=n("gvJE"),u=n("nsn+"),h=n("d+dA");const p=h.b.getInstance().branding_elements.colors.accentTextColor,m=h.b.getInstance().default_language;function _(){return{name:"customcontentbox",heading:g.a.t("admin_webpages","Custom Content Box"),description:g.a.t("admin_webpages","Shows a content box with optional title, description, button and background"),preview:"/public/images/pages/custom-content-box-widget-preview.jpg",params:[{name:"title",type:"textMultilang",label:g.a.t("standard","Title"),legend:g.a.t("admin_webpages","Leave blank to hide the title"),settings:{showCounter:!0,maxLength:255}},{name:"backgroundOptions",type:"group",title:g.a.t("admin_webpages","Background Options"),subFields:[{name:"backgroundType",type:"radio",defaultValue:"image",options:[{value:"image",label:g.a.t("standard","_IMAGE")},{value:"color",label:g.a.t("standard","Color")}],settings:{inline:!0}},{name:"backgroundImage",type:"image",label:g.a.t("setup","Upload your image"),legend:g.a.t("admin_webpages","The background image will be adapt to the widget size. Maximum file size 4MB"),settings:{maxFileSize:4,allowedExtensions:["png","jpg","jpeg"]},validation:[d.x.required],conditions:{exists:[{name:"backgroundType",value:"image"}]}},{name:"backgroundColor",type:"color",label:g.a.t("standard","Background color"),validation:[d.x.required],defaultValue:p,conditions:{exists:[{name:"backgroundType",value:"color"}]}}]},{name:"contentTitleAndSubtitleOptions",type:"group",title:g.a.t("admin_webpages","Content Title and Subtitle Options"),subFields:[{name:"showContentTitle",type:"switch",label:g.a.t("admin_webpages","Show Content Title"),defaultValue:!0},{name:"showContentSubtitle",type:"switch",label:g.a.t("admin_webpages","Show Content Subtitle"),defaultValue:!0},{name:"contentTitle",type:"textMultilang",label:g.a.t("admin_webpages","Content Title"),validation:[d.x.required],settings:{showCounter:!0,maxLength:150},conditions:{exists:[{name:"showContentTitle",value:!0}]}},{name:"contentSubtitle",type:"textMultilang",label:g.a.t("admin_webpages","Content Subtitle"),validation:[d.x.required],settings:{showCounter:!0,maxLength:700},conditions:{exists:[{name:"showContentSubtitle",value:!0}]}},{name:"titleAndSubtitleColor",type:"color",label:g.a.t("admin_webpages","Title and Subtitle color"),defaultValue:"#ffffff",conditions:{exists:[t=>t.controls.showContentTitle.value||t.controls.showContentSubtitle.value]}}]},{name:"buttonOptions",type:"group",title:g.a.t("admin_webpages","Button Options"),subFields:[{name:"showButton",type:"switch",label:g.a.t("admin_webpages","Show Button"),defaultValue:!0},{name:"text",type:"textMultilang",label:g.a.t("app7020","Text"),validation:[d.x.required],settings:{showCounter:!0,maxLength:40},conditions:{exists:[{name:"showButton",value:!0}]}},{name:"destinationUrl",type:"url",label:g.a.t("admin_webpages","Destination URL"),validation:[d.x.required],conditions:{exists:[{name:"showButton",value:!0}]}},{name:"openInANewTabWindow",type:"switch",label:g.a.t("admin_webpages","Open in a New Tab/Window"),defaultValue:!0,conditions:{exists:[{name:"showButton",value:!0}]}},{name:"buttonTextColor",type:"color",label:g.a.t("admin_webpages","Button Text color"),defaultValue:"#ffffff",conditions:{exists:[{name:"showButton",value:!0}]}},{name:"buttonBackgroundColor",type:"color",label:g.a.t("admin_webpages","Button Background color"),defaultValue:p,conditions:{exists:[{name:"showButton",value:!0}]}}]},{name:"contentAlignment",type:"group",conditions:{exists:[t=>t.controls.showContentTitle.value||t.controls.showContentSubtitle.value||t.controls.showButton.value]},subFields:[{name:"contentHorizontalAlignment",type:"radio",label:g.a.t("admin_webpages","Content Horizontal Alignment"),defaultValue:"left",options:[{value:"left",label:g.a.t("admin_webpages","Left")},{value:"center",label:g.a.t("admin_webpages","Center")},{value:"right",label:g.a.t("coursereport","_RIGHT")}],settings:{inline:!0}},{name:"contentVerticalAlignment",type:"radio",label:g.a.t("admin_webpages","Content Vertical Alignment"),defaultValue:"topAndBottom",options:[{value:"topAndBottom",label:g.a.t("admin_webpages","Top and Bottom"),settings:{thumbnail:"/public/images/pages/vertical-align-top-bottom.png"}},{value:"middle",label:g.a.t("admin_webpages","Middle"),settings:{thumbnail:"/public/images/pages/vertical-align-middle.png"}}]}]},{name:"widgetHeight",type:"group",title:g.a.t("dashboard","Widget height"),subtitle:g.a.t("admin_webpages","If the content of the widget is shorter than minimum height, the value inserted into this field will be applied. If the content is taller than the minimum height, this value will not be applied"),subFields:[{name:"minHeightPx",type:"number",label:g.a.t("admin_webpages","Min-Height px"),legend:g.a.t("admin_webpages","Leave blank to use default height"),validation:[u.a.range(1,1e3)]}]}]}}function b(t,e,n){const i=n.translationsLocalizableFields?n.translationsLocalizableFields[t]:null;if(i&&"string"==typeof i)return i;if(i&&"object"==typeof i){if(i[e]||i[m])return i[e]?i[e]:i[m];if(i.en)return i.en;{const t=Object.keys(i).find(t=>i[t]);if(t)return i[t]}}return n[t]}function f(t){return window.location.hostname===new URL(t,window.location.origin).hostname}var w=n("/Kda"),C=n("r0xE");class O extends C.a{constructor(){super(),this.config=this.initConfig(_())}}var v=n("EnbQ"),M=n("fXoL"),y=n("jhN1"),P=n("JA8w"),S=n("Y9qQ"),I=n("ofXK"),x=n("u9ID"),E=n("rs4A");function T(t,e){if(1&t&&M.ec(0,"widget-title",9),2&t){const t=M.vc();M.Dc("widgetTitle",t.widgetTitle)}}function D(t,e){if(1&t&&(M.jc(0,"div",10),M.fd(1),M.ic()),2&t){const t=M.vc();M.cd("color",t.titleAndSubtitleColor),M.Mb(1),M.gd(t.title)}}function k(t,e){if(1&t&&(M.jc(0,"div",11),M.fd(1),M.ic()),2&t){const t=M.vc();M.cd("color",t.titleAndSubtitleColor),M.Mb(1),M.gd(t.subtitle)}}function A(t,e){if(1&t){const t=M.kc();M.jc(0,"custom-content-box-button",12),M.rc("click",function(e){return M.Uc(t),M.vc().navigateToUrl(e)}),M.fd(1),M.ic()}if(2&t){const t=M.vc();M.Dc("backgroundColor",t.buttonBackgroundColor)("color",t.buttonTextColor),M.Mb(1),M.gd(t.button)}}let L=(()=>{let t=class extends o.a{constructor(t,e,n,i,s,a){super(),this.changeDetectorRef=t,this.router=e,this.sanitizier=n,this.translationService=i,this.uploadService=s,this.backendService=a}ngOnInit(){this.setWidgetTitle(this.translationService.currentLang,m),this.data.settings.backgroundImage&&(this.uploadServiceSubscriber=this.uploadService.getSignedUrl({name:this.data.settings.backgroundImage,type:this.uploadService.getFileMimeType(this.data.settings.backgroundImage)},"uploads","",!0,"read").subscribe(t=>{this.backgroundImageUrl=this.uploadService.stripQuerystring(t.data.url),this.changeDetectorRef.markForCheck()}))}ngOnDestroy(){this.uploadServiceSubscriber&&this.uploadServiceSubscriber.unsubscribe()}get backgroundColor(){return this.data.settings.backgroundColor}get backgroundImage(){return this.sanitizier.bypassSecurityTrustStyle(this.data.settings.backgroundImage&&` url(${this.backgroundImageUrl})`||"")}get button(){return b("text",this.translationService.currentLang,this.data.settings)}get buttonBackgroundColor(){return this.data.settings.buttonBackgroundColor}get buttonTextColor(){return this.data.settings.buttonTextColor}get isHorizontalAlignedCenter(){return"center"===this.data.settings.contentHorizontalAlignment}get isHorizontalAlignedLeft(){return"left"===this.data.settings.contentHorizontalAlignment}get isHorizontalAlignedRight(){return"right"===this.data.settings.contentHorizontalAlignment}get isVerticalAlignedMiddle(){return"middle"===this.data.settings.contentVerticalAlignment}get isVerticalAlignedTopAndBottom(){return"topAndBottom"===this.data.settings.contentVerticalAlignment}get minHeight(){return`${this.data.settings.minHeightPx}px`}get showButton(){return this.data.settings.showButton}get showSubtitle(){return this.data.settings.showContentSubtitle}get showTitle(){return this.data.settings.showContentTitle}get subtitle(){return b("contentSubtitle",this.translationService.currentLang,this.data.settings)}get title(){return b("contentTitle",this.translationService.currentLang,this.data.settings)}get titleAndSubtitleColor(){return this.data.settings.titleAndSubtitleColor}navigateToUrl(t){t.preventDefault();const e=this.data.settings.destinationUrl,n=this.backendService.getSubFolder();this.data.settings.openInANewTabWindow?window.open(e,"_blank"):f(e)&&!function(t,e){let n="";return t.startsWith("http")?(n=t.replace(/^.*\/\/[^\/]+:?[0-9]?\//i,""),n=e?n.replace(`${e}/`,""):n):n=e?t.split("/")[2]:t.split("/")[1],f(t)&&n.startsWith("lms")}(e,n)?(this.router.events.pipe(Object(c.a)(t=>t instanceof s.n&&"/not-found"===t.urlAfterRedirects),Object(l.a)(1)).subscribe(t=>{this.router.navigateByUrl(this.router.url),window.open(e,"_self")}),this.router.navigate([e.split("?")[0]],{queryParams:Object(v.c)(e.split("?")[1]||"")})):window.open(e,"_self")}};return t.\u0275fac=function(e){return new(e||t)(M.dc(M.i),M.dc(s.h),M.dc(y.b),M.dc(P.a),M.dc(a.a),M.dc(S.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["custom-content-box-widget"]],features:[M.Lb([a.a]),M.Jb],decls:9,vars:20,consts:[[1,"root"],[1,"wrapper"],[3,"widgetTitle",4,"ngIf"],["role","img",1,"background-content","wrapper-shadow"],[1,"titles-container"],["class","title",3,"color",4,"ngIf"],["class","subtitle",3,"color",4,"ngIf"],[1,"button-container"],["class","button",3,"backgroundColor","color","click",4,"ngIf"],[3,"widgetTitle"],[1,"title"],[1,"subtitle"],[1,"button",3,"backgroundColor","color","click"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.jc(1,"div",1),M.dd(2,T,1,1,"widget-title",2),M.jc(3,"div",3),M.jc(4,"div",4),M.dd(5,D,2,3,"div",5),M.dd(6,k,2,3,"div",6),M.ic(),M.jc(7,"div",7),M.dd(8,A,2,3,"custom-content-box-button",8),M.ic(),M.ic(),M.ic(),M.ic()),2&t&&(M.Mb(1),M.cd("min-height",e.minHeight),M.Mb(1),M.Dc("ngIf",e.widgetTitle),M.Mb(1),M.cd("background-color",e.backgroundColor)("background-image",e.backgroundImage),M.Vb("horizontal-align-center",e.isHorizontalAlignedCenter)("horizontal-align-left",e.isHorizontalAlignedLeft)("horizontal-align-right",e.isHorizontalAlignedRight)("vertical-align-middle",e.isVerticalAlignedMiddle)("vertical-align-top-bottom",e.isVerticalAlignedTopAndBottom),M.Mb(2),M.Dc("ngIf",e.showTitle),M.Mb(1),M.Dc("ngIf",e.showSubtitle),M.Mb(2),M.Dc("ngIf",e.showButton))},directives:[I.p,x.a,E.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.background-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-basis:auto;padding:24px;overflow:hidden;background-position:50%;background-repeat:no-repeat;background-size:cover}.button[_ngcontent-%COMP%]{display:block;margin:24px 0 0}.horizontal-align-center[_ngcontent-%COMP%]{align-items:center;text-align:center}.horizontal-align-left[_ngcontent-%COMP%]{align-items:flex-start;text-align:left}.horizontal-align-right[_ngcontent-%COMP%]{align-items:flex-end;text-align:right}.root[_ngcontent-%COMP%]{display:flex}.subtitle[_ngcontent-%COMP%]{font-size:16px;line-height:22px;font-weight:600}.subtitle[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{overflow:hidden;word-wrap:break-word}.title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:25px;line-height:34px;font-weight:700}.titles-container[_ngcontent-%COMP%]{width:100%;max-width:100%}.vertical-align-top-bottom[_ngcontent-%COMP%]{justify-content:space-between}.vertical-align-middle[_ngcontent-%COMP%]{justify-content:center}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;max-width:100%}"],changeDetection:0}),t=Object(i.b)([Object(r.a)({name:_().name,module:"pages",settings:O})],t),t})();const j=w},G1Bt:function(t,e,n){"use strict";n.d(e,"a",function(){return k});var i=n("dRcD"),s=n("d+dA"),a=n("fYJ8"),o=n("xI2x"),r=n("fXoL"),c=n("l7P3"),l=n("a37g"),d=n("S2Qf"),g=n("ofXK"),u=n("nUpK"),h=n("tyNb"),p=n("2YCl"),m=n("3zhW"),_=n("UFo5"),b=n("gvJE");const f=["leaderboardBody"],w=["viewAllButton"],C=["leaderBoardTitle"],O=["currentBoardPostions"];function v(t,e){1&t&&r.ec(0,"ui-spinner",2)}function M(t,e){if(1&t&&(r.jc(0,"div",10,11),r.ec(2,"btn-ellipsis",12),r.ic()),2&t){r.vc();const t=r.Rc(1),e=r.vc();r.Mb(2),r.Dc("treeBody",t)("ellipsisType","inline")("actions",e.leaderboardsEllipsis)}}function y(t,e){if(1&t&&r.ec(0,"avatar",19),2&t){const t=r.vc(3);r.Dc("initials",t.avatarInitials(null==t.currentBoard||null==t.currentBoard.my_position?null:t.currentBoard.my_position.user))("size",t.avatarSize)("image_url",null==t.currentBoard||null==t.currentBoard.my_position||null==t.currentBoard.my_position.user?null:t.currentBoard.my_position.user.avatar)}}function P(t,e){if(1&t&&r.ec(0,"progress-bar",20),2&t){const t=r.vc(3);r.Dc("percentage",null==t.currentBoard?null:t.currentBoard.my_position.percentage)("text_blocks",t.returnProgressText(null==t.currentBoard?null:t.currentBoard.my_position))}}function S(t,e){if(1&t&&(r.jc(0,"li",21),r.ec(1,"avatar",19),r.ec(2,"progress-bar",22),r.ic()),2&t){const t=e.$implicit,n=e.index,i=r.vc(3);r.Dc("hidden",n+1>=i.listItemsCount),r.Mb(1),r.Dc("initials",i.avatarInitials(null==t?null:t.user))("size",i.avatarSize)("image_url",null==t||null==t.user?null:t.user.avatar),r.Mb(1),r.Dc("color","leaderboard-chart-blue")("percentage",null==t?null:t.percentage)("text_blocks",i.returnProgressText(t))}}const I=function(){return{category:"gamification"}};function x(t,e){if(1&t&&(r.jc(0,"ol",13),r.jc(1,"li",14),r.jc(2,"h5",15),r.fd(3),r.wc(4,"t"),r.ic(),r.dd(5,y,1,3,"avatar",16),r.dd(6,P,1,2,"progress-bar",17),r.ic(),r.dd(7,S,3,7,"li",18),r.ic()),2&t){const t=r.vc(2);r.cd("height",t.contentMaxHeight),r.Mb(3),r.gd(r.yc(4,6,"My position",r.Hc(9,I))),r.Mb(2),r.Dc("ngIf",null==t.currentBoard?null:t.currentBoard.my_position),r.Mb(1),r.Dc("ngIf",null==t.currentBoard?null:t.currentBoard.my_position),r.Mb(1),r.Dc("ngForOf",null==t.currentBoard?null:t.currentBoard.positions)}}const E=function(t){return{"absolute-position":t}},T=function(){return["/legacy/lms/index.php?r=GamificationApp/GamificationApp/MyBadges&tab=chart"]};function D(t,e){if(1&t&&(r.jc(0,"div",3,4),r.dd(2,M,3,3,"div",5),r.dd(3,x,8,10,"ol",6),r.jc(4,"div",7,8),r.jc(6,"a",9),r.fd(7),r.wc(8,"t"),r.ic(),r.ic(),r.ic()),2&t){const t=r.vc();r.Mb(2),r.Dc("ngIf",t.leaderboardsEllipsis&&0!==(null==t.leaderboardsEllipsis?null:t.leaderboardsEllipsis.length)),r.Mb(1),r.Dc("ngIf",t.readyToShow),r.Mb(1),r.Dc("ngClass",r.Ic(8,E,t.minHeight)),r.Mb(2),r.Dc("routerLink",r.Hc(10,T)),r.Mb(1),r.hd(" ",r.yc(8,5,"View full chart",r.Hc(11,I))," ")}}let k=(()=>{class t extends o.a{constructor(t,e,n,i){super(t,e),this.store=t,this.changeDetection=e,this.actions=n,this.translationService=i,this.avatarSize=35,this.listItemsCount=5,this.platformInstance=s.b.getInstance()}ngOnInit(){this.reduxChangesSubscriber()}ngAfterViewInit(){this.updateWidgetHeight(this.leaderboardBodyChildren,this.actions)}avatarInitials(t){if(!t)return null;let e="",n="";const i=t.firstname,s=t.lastname;return i&&(e=i.charAt(0)),s&&(n=s.charAt(0)),this.platformInstance.settings.show_first_name_first?e+n:n+e}returnProgressText(t){const e=`<span class="leaderboard-points">${t.points}</span>`;let n;return n=a.a.keyExistInObject(t,"user")&&null!==t.user?this.platformInstance.getFullName(t.user,!0):this.translationService.instant("_USER",{category:"standard"}),{"top-left":t.position?t.position+" - "+n:n,"top-right":'<i class="zmdi zmdi-star leaderboard-star text-bigger-icons"></i>'+e}}onReduxSliceUpdateView(){if(!this.childData||!this.childData[this.tabName])return;const t=this.childData[this.tabName].items.filter(t=>t.is_visible);t.sort((t,e)=>0===t.my_position.position?1:0===e.my_position.position?-1:t.my_position.position-e.my_position.position);let e=0;this.leaderboardsEllipsis&&this.leaderboardsEllipsis.length>0&&(e=this.leaderboardsEllipsis.findIndex(t=>t.active)),this.currentBoard=t[e],this.leaderboardsEllipsis=t.map(t=>({id:t.id_board,title:t.name,action:this.changeCurrentBoardView.bind(this),params:t})).filter(t=>void 0!==t),0!==this.leaderboardsEllipsis.length&&(this.leaderboardsEllipsis[e].active=!0),a.a.keyExistInObject(this.currentBoard,"my_position")&&Array.isArray(this.currentBoard.my_position)&&(this.currentBoard.my_position={points:0,last_assign:"",id_user:Number(i.a.getInstance().id),is_me:!0,user:{username:i.a.getInstance().username,firstname:i.a.getInstance().firstname,lastname:i.a.getInstance().lastname,avatar:i.a.getInstance().avatar_url},percentage:0,position:null}),this.changeDetection.detectChanges(),this.calculateLeaderboardsMaximumHeight()}changeCurrentBoardView(t){this.currentBoard=t,this.updateWidgetHeight(this.leaderboardBodyChildren,this.actions)}hasDropdownItems(t){return!!a.a.keyExistInObject(t,"positions")&&t.positions.length>0}showBlankSlate(){return!(this.showSpinner()||this.childData[this.tabName]&&0!==this.childData[this.tabName].items.length)}calculateLeaderboardsMaximumHeight(){let e=0,n=0;(this.leaderBoardTitle||this.viewAllButton)&&(n=this.leaderBoardTitle.nativeElement.offsetHeight+this.viewAllButton.nativeElement.offsetHeight+t.LEADERBOARDS_CONTENT_BOTTOM_OFFSET,this.minHeight&&this.minHeight>=t.LEADERBOARD_WIDGET_MINIMUM_HEIGHT&&(e=this.minHeight-n),e>0&&(this.listItemsCount=this.itemsCountToFillInAvailableHeight(e),this.contentMaxHeight=e),this.readyToShow=!0)}itemsCountToFillInAvailableHeight(e){return Number(((e-t.LEADERBOARDS_BOTTOM_OFFSET)/t.LEADERBOARD_ITEM_HEIGHT).toFixed(0))}}return t.LEADERBOARD_ITEM_HEIGHT=59,t.LEADERBOARD_WIDGET_MINIMUM_HEIGHT=460,t.LEADERBOARDS_BOTTOM_OFFSET=70,t.LEADERBOARDS_CONTENT_BOTTOM_OFFSET=55,t.\u0275fac=function(e){return new(e||t)(r.dc(c.d),r.dc(r.i),r.dc(l.a),r.dc(d.h))},t.\u0275cmp=r.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(r.md(f,1),r.md(w,1),r.md(C,1),r.md(O,1),r.md(f,1)),2&t){let t;r.Qc(t=r.sc())&&(e.leaderboardBody=t.first),r.Qc(t=r.sc())&&(e.viewAllButton=t.first),r.Qc(t=r.sc())&&(e.leaderBoardTitle=t.first),r.Qc(t=r.sc())&&(e.currentBoardPostions=t),r.Qc(t=r.sc())&&(e.leaderboardBodyChildren=t)}},inputs:{minHeight:"minHeight"},features:[r.Jb],decls:2,vars:2,consts:[["class","gamification-spinner",4,"ngIf"],["class","leaderboard-tab__wrapper",4,"ngIf"],[1,"gamification-spinner"],[1,"leaderboard-tab__wrapper"],["leaderboardBody",""],["class","ellipsis-wrapper text-main border-grey-light",4,"ngIf"],["class","board-position-list",3,"height",4,"ngIf"],[1,"view-all-btn","border-grey-light",3,"ngClass"],["viewAllButton",""],[1,"text-main","bolded",3,"routerLink"],[1,"ellipsis-wrapper","text-main","border-grey-light"],["leaderBoardTitle",""],[3,"treeBody","ellipsisType","actions"],[1,"board-position-list"],[1,"my-position","border-grey-light","bg-grey-superlight"],[1,"title","bolded"],[3,"initials","size","image_url",4,"ngIf"],[3,"percentage","text_blocks",4,"ngIf"],["class","other-users",3,"hidden",4,"ngFor","ngForOf"],[3,"initials","size","image_url"],[3,"percentage","text_blocks"],[1,"other-users",3,"hidden"],[3,"color","percentage","text_blocks"]],template:function(t,e){1&t&&(r.dd(0,v,1,0,"ui-spinner",0),r.dd(1,D,9,12,"div",1)),2&t&&(r.Dc("ngIf",e.showSpinner()),r.Mb(1),r.Dc("ngIf",!e.showSpinner()))},directives:[g.p,u.bd,g.n,h.k,p.a,g.o,m.a,_.a],pipes:[b.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]{display:block;position:relative;min-height:200px;box-sizing:border-box}[_nghost-%COMP%]   .leaderboard-tab__wrapper[_ngcontent-%COMP%]{padding-bottom:39px}[_nghost-%COMP%]     btn-ellipsis{font-size:16px;display:block;height:1.2em}[_nghost-%COMP%]     .leaderboard-points, [_nghost-%COMP%]     .leaderboard-star{vertical-align:middle}[_nghost-%COMP%]     .leaderboard-star{color:#f5a623;font-size:18px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .leaderboard-star{padding-right:9px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .leaderboard-star{padding-left:9px}[_nghost-%COMP%]     .leaderboard-chart-blue{background-color:#4861b0}[_nghost-%COMP%]   .ellipsis-wrapper[_ngcontent-%COMP%]{display:block;padding:12px 25px}[_nghost-%COMP%]   .ellipsis-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]   .my-position[_ngcontent-%COMP%]{border-width:0 0 1px;border-style:solid}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .my-position[_ngcontent-%COMP%]{padding:15px 3px 5px 25px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .my-position[_ngcontent-%COMP%]{padding:15px 25px 5px 3px}[_nghost-%COMP%]   .my-position[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   ol.board-position-list[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   ol.board-position-list[_ngcontent-%COMP%] > li.other-users[_ngcontent-%COMP%]{padding:0 3px 0 25px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   ol.board-position-list[_ngcontent-%COMP%] > li.other-users[_ngcontent-%COMP%]{padding:0 25px 0 3px}[_nghost-%COMP%]   ol.board-position-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   avatar[_ngcontent-%COMP%], [_nghost-%COMP%]   ol.board-position-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   progress-bar[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}[_nghost-%COMP%]   ol.board-position-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   progress-bar[_ngcontent-%COMP%]{width:calc(100% - 45px)}[_nghost-%COMP%]   .view-all-btn[_ngcontent-%COMP%]{position:absolute;bottom:0}"]}),t})()},Hd5Y:function(t){t.exports=JSON.parse('{"data":{"id_asset":99998,"title":"Proin vulputate nisl est, nec vehicula sem semper eget","player_type":"flowplayer","config":{"total_pages":0,"tracking":{"enabled":true},"keyboard":false,"fullscreen":true,"embed":false,"brand":false,"wmode":"opaque","autoplay":false,"seekable":true,"key":"$607851074442244","splash":"/public/images/pages/image4.png","tooltips":[],"spent_time":{"enabled":false,"interval":10},"cuepoints":[],"subtitles":[],"bookmark":0},"content":{"name_original":"Proin vulputate nisl.mp4","name_converted":"o_1b53iulfq12nrml1lou6lto88a.mp4","filesize":0,"sources":[{"type":"application/x-mpegurl","src":"//example.com/video.m3u8"},{"type":"video/mp4","src":"//example.com/video.mp4"}],"thumbnails":[{"small":"/public/images/pages/image4.png"},{"video":"/public/images/pages/image4.png"},{"carousel":"/public/images/pages/image4.png"},{"original":"/public/images/pages/image4.png"}]},"description":"<p>Maecenas ultricies lacus sit amet mi fringilla, eget ornare nunc facilisis. Maecenas quis pretium turpis, ac consectetur elit. Proin nec lorem orci</p>","content_type":1},"version":"1.0.0","_links":[]}')},Hp0J:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"g",function(){return d}),n.d(e,"d",function(){return g}),n.d(e,"i",function(){return u}),n.d(e,"h",function(){return h}),n.d(e,"f",function(){return p}),n.d(e,"e",function(){return m});var i=n("dRcD"),s=n("CTgS"),a=n("myMj");const o={};function r(t,e){const{tabName:n,page:s,skipCPUpdate:a,otherParams:r,replace:c}=t;if(0===Object.keys(o).length)return void console.warn("There was a problem with setting up the store variables");const l={[n]:{page:s}};void 0!==r&&(l[n]=Object.assign(Object.assign({},l[n]),r)),o.store.dispatch(o.actions.update({widgetId:e,tabs:l,id_user:i.a.getInstance().id,replace:c})),a||o.store.dispatch(o.actions.update_page({widgetId:e,current_pages:{[n]:s}}))}function c(t="GET",e){return"SET"===t?(o.store=e.store,void(o.actions=e.actions)):o}function l(t,e,n){const i={},o=t.currentUtcDateTime(),r=function(t,e){if(!t||null===t)return null;const n=t-82,i=t-39;return n<369?null:-1!==a.l.indexOf(e)?Math.floor(n/48):-1!==a.o.indexOf(e)?Math.floor(i/71):e===s.b.REVIEW_APPROVE_ASSETS?Math.floor(i/117):e===s.b.QUESTIONS_TO_ANSWER?Math.floor(i/148):Math.floor(i/117)}(n.widget_height,e);switch(e){case s.b.UPCOMING_DEADLINE:return i.deadline=t.addMinutes(o,129600),i.level=n.level,i.type=[""],i.status=["not_started","in_progress"],i.sort_by="deadline_asc",i.page_size=null!==r?r:3,i;case s.b.UPCOMING_ILT_WEBINARS:Array.isArray(n.level)&&1!==n.level.length||(i.level=n.level[0]||n.level),i.sort_by="session_start_asc",i.status="",i.type=["webinar","classroom"],i.page_size=null!==r?r:3,i.show_upcoming_sessions=!0;break;case s.b.COURSES_IN_PROGRESS:case s.b.COURSES_NOT_STARTED:i.level=n.level,i.sort_by="enrolled_date_asc",i.type=[""],i.page_size=null!==r?r:3;break;case s.b.ASSIGNMENTS_TO_CHECK:i.level="learner",i.page_size=null!==r?r:4;break;case s.b.ASSIGNMENTS_TO_EVALUATE:i.level="instructor",i.page_size=null!==r?r:4;break;case s.b.OVERDUE_COURSES:i.deadline="2005-03-16 00:00:00",i.page_size=null!==r?r:6;break;case s.b.TEST_TO_EVALUATE:i.status="to_evaluate",i.page_size=null!==r?r:4;break;case s.b.PENDING_USERS:case s.b.COURSE_ENROLLMENT_APPROVALS:case s.b.REWARD_SHOP_REQUESTS:i.page_size=null!==r?r:6;break;case s.b.QUESTIONS_TO_ANSWER:i.sort_attr="created_on",i.sort_dir="desc",i.page_size=3;break;case s.b.ECCOMERCE_TRANSACTIONS:i.page_size=null!==r?r:6,i.filters={pending:1};break;default:i.page_size=null!==r?r:3}return i}function d(t){const e=Object.keys(t.controls);let n=!0;for(let i=0;i<e.length;i++){const s=e[i];if(""!==t.controls[s].value&&null!==t.controls[s].value)for(let e=0;e<t.controls[s].value.length;e++)if(!0===t.controls[s].value[e].checked){n=!1;break}}return n?{snackbarError:"You must select at least one item to display in the widget"}:null}function g(t){const e=i.a.getInstance(),n=e.isCurrentUserA(i.a.LEVEL_SUPERADMIN),s=e.isCurrentUserA(i.a.LEVEL_POWERUSER);return n||s||delete t.admin,t.hasOwnProperty("name")&&delete t.name,Object.assign({},t)}function u(t){const e=a.d.indexOf(t)>-1&&!i.a.getInstance().isExpert();return function(t){const e=i.a.getInstance().isCurrentUserA(i.a.LEVEL_SUPERADMIN);return!(t!==s.b.ECCOMERCE_TRANSACTIONS||a.c&&e)||!(a.a||t!==s.b.REVIEW_APPROVE_ASSETS&&t!==s.b.QUESTIONS_TO_ANSWER)||!a.e&&t===s.b.REWARD_SHOP_REQUESTS}(t)||e}function h(t,e){const n=function(t,e){return{hideInstructorTab:a.f.indexOf(t)>-1&&!i.a.getInstance().isInstructor(),hasInstructorFilter:e.indexOf("instructor")>-1}}(t,e);return!n.hideInstructorTab||!n.hasInstructorFilter||e.length>1&&["student"]}function p(t){switch(t){case s.b.UPCOMING_ILT_WEBINARS:case s.b.UPCOMING_DEADLINE:case s.b.COURSES_IN_PROGRESS:case s.b.COURSES_NOT_STARTED:return["learn/mycourses"];case s.b.QUESTIONS_TO_ANSWER:return[["legacy/app7020/index.php?r=guruDashboard/index&tab=questions"],{fragment:"!/questionsToAnswers/openQuestions"}];case s.b.REVIEW_APPROVE_ASSETS:return["legacy/app7020/index.php?r=guruDashboard/index"];case s.b.PENDING_USERS:return["/manage/users/pending"];case s.b.REWARD_SHOP_REQUESTS:return["legacy/admin/index.php?r=GamificationApp/reward/requestsManagement"];case s.b.ECCOMERCE_TRANSACTIONS:return["legacy/admin/index.php?r=transaction/index&EcommerceTransaction[search_status]=pending"];default:return[]}}function m(t){switch(t){case s.b.COURSES_NOT_STARTED:return{queryParams:{mclp0:'s-_"not_started"'}};case s.b.COURSES_IN_PROGRESS:return{queryParams:{mclp0:'s-_"in_progress"'}};case s.b.UPCOMING_ILT_WEBINARS:return{queryParams:{mclp0:"t-_classroom_webinar"}};default:return{}}}},"I/za":function(t,e,n){"use strict";n.d(e,"e",function(){return o}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return d}),n.d(e,"a",function(){return g});var i=n("hIRN"),s=n("dRcD"),a=n("fYJ8");function o(t){const e={badges:i.a};return{title:e[t].title,type:"group",name:`${t}-settings`,conditions:{isVisible:[e=>r(e,t)]},subFields:[{name:e[t]["switch-1-name"],type:"switch",label:e[t]["switch-1-label"],defaultValue:!1,conditions:{exists:[e=>r(e,t)]}},{name:e[t]["switch-2-name"],type:"switch",label:e[t]["switch-2-label"],defaultValue:!1,conditions:{exists:[e=>r(e,t)]}}]}}function r(t,e){if(a.a.valueUndefined(t))return!0;const n=t.controls.displayItems.value;for(let i=0;i<n.length;i++)if(n[i].name===e)return n[i].checked;return!1}function c(t){const e=[];for(let n=0;n<t.length;n++){const s=t[n];e.push({label:i.c[s],name:s,checked:!1,position:Number(n+1)})}return e}function l(t){switch(t){case"badges":return{content:1,page_size:11};case"contests":return{get_upcoming:3};case"leaderboards":return{limit:15,page_size:-1};default:return{}}}function d(t){const e={};for(let n=0;n<t.length;n++)e[t[n].name]=l(t[n].name);return{tabs:e,id_user:s.a.getInstance().id}}function g(t,e){if(!t||!e)return"";const n=e.currentUtcDateTime(),i=e.convertTimeToUTC(t.to_date,t.timezone),s=e.compareDates(i,n);switch(Number(s)){case 0:case 1:return"in-progress";case 2:return"concluded";default:return""}}},IiIP:function(t,e,n){"use strict";n.d(e,"a",function(){return y});var i=n("xI2x"),s=n("fXoL"),a=n("l7P3"),o=n("a37g"),r=n("ofXK"),c=n("nUpK"),l=n("3zhW"),d=n("tyNb"),g=n("gvJE");const u=["badgesContainer"];function h(t,e){1&t&&s.ec(0,"ui-spinner",6)}function p(t,e){if(1&t&&s.ec(0,"span",13),2&t){const t=s.vc().$implicit;s.Dc("innerHtml",null==t?null:t.total_badges_count,s.Vc)}}const m=function(t){return{"four-digits":t}};function _(t,e){if(1&t&&(s.jc(0,"li"),s.dd(1,p,1,1,"span",10),s.ec(2,"avatar",11),s.ec(3,"span",12),s.ic()),2&t){const t=e.$implicit,n=s.vc(2);s.Mb(1),s.Dc("ngIf",n.showBadgeCount(t)),s.Mb(1),s.Dc("initials","")("image_url",null==t?null:t.badge_icon)("size",52)("properties",n.badgeProperties),s.Mb(1),s.Dc("innerHtml",null==t?null:t.total_score,s.Vc)("ngClass",s.Ic(7,m,(null==t?null:t.total_score)>999))}}const b=function(){return{category:"gamification"}};function f(t,e){if(1&t&&(s.hc(0),s.jc(1,"div",7),s.fd(2),s.wc(3,"t"),s.ic(),s.jc(4,"ul",8),s.dd(5,_,4,9,"li",9),s.ic(),s.gc()),2&t){const t=s.vc();s.Mb(2),s.hd(" ",s.yc(3,2,"Your last awarded badges",s.Hc(5,b))," "),s.Mb(3),s.Dc("ngForOf",null==t.childData[t.tabName]?null:t.childData[t.tabName].items)}}const w=function(){return["/legacy/lms/index.php?r=GamificationApp/GamificationApp/MyBadges"]};function C(t,e){if(1&t&&(s.jc(0,"div",15),s.jc(1,"div",25),s.ec(2,"i",17),s.ic(),s.jc(3,"div",18),s.jc(4,"a",19),s.ec(5,"span",20),s.jc(6,"span",21),s.fd(7),s.wc(8,"t"),s.ic(),s.ic(),s.ic(),s.ic()),2&t){const t=s.vc(2);s.Mb(4),s.Dc("routerLink",s.Hc(6,w)),s.Mb(1),s.Dc("innerHtml",null==t.childData[t.tabName]||null==t.childData[t.tabName].extra_data?null:t.childData[t.tabName].extra_data.not_awarded_count,s.Vc),s.Mb(2),s.hd(" ",s.yc(8,3,"Not yet awarded badges",s.Hc(7,b))," ")}}function O(t,e){if(1&t&&(s.jc(0,"div",14),s.jc(1,"div",15),s.jc(2,"div",16),s.ec(3,"i",17),s.ic(),s.jc(4,"div",18),s.jc(5,"a",19),s.ec(6,"span",20),s.jc(7,"span",21),s.fd(8),s.wc(9,"t"),s.ic(),s.ic(),s.ic(),s.ic(),s.dd(10,C,9,8,"div",22),s.jc(11,"div",15),s.jc(12,"div",23),s.ec(13,"i",24),s.ic(),s.jc(14,"div",18),s.jc(15,"a",19),s.ec(16,"span",20),s.jc(17,"span",21),s.fd(18),s.wc(19,"t"),s.ic(),s.ic(),s.ic(),s.ic(),s.ic()),2&t){const t=s.vc();s.Mb(5),s.Dc("routerLink",s.Hc(13,w)),s.Mb(1),s.Dc("innerHtml",null==t.childData[t.tabName]?null:t.childData[t.tabName].total_count,s.Vc),s.Mb(2),s.hd(" ",s.yc(9,7,"My awarded badges",s.Hc(14,b))," "),s.Mb(2),s.Dc("ngIf",t.settings.notYetAwarded),s.Mb(5),s.Dc("routerLink",s.Hc(15,w)),s.Mb(1),s.Dc("innerHtml",null==t.childData[t.tabName]||null==t.childData[t.tabName].extra_data?null:t.childData[t.tabName].extra_data.total_points,s.Vc),s.Mb(2),s.hd(" ",s.yc(19,10,"My Total Points",s.Hc(16,b))," ")}}const v=function(t){return{"absolute-position":t}};function M(t,e){if(1&t&&(s.jc(0,"div",26),s.jc(1,"a",27),s.fd(2),s.wc(3,"t"),s.ic(),s.ic()),2&t){const t=s.vc();s.Dc("ngClass",s.Ic(6,v,t.minHeight&&t.minHeight>=460)),s.Mb(1),s.Dc("routerLink",s.Hc(8,w)),s.Mb(1),s.hd(" ",s.yc(3,3,"View all badges",s.Hc(9,b))," ")}}let y=(()=>{class t extends i.a{constructor(t,e,n){super(t,e),this.store=t,this.changeDetection=e,this.actions=n,this.badgeProperties={bg_color_class:"bg-grey",text_color_class:"",icon_class:""}}ngOnInit(){this.reduxChangesSubscriber(),this.topHeaderOffset=(this.allTabs&&this.allTabs.length)>1?53:0}ngAfterViewInit(){this.updateWidgetHeight(this.badgesContainer,this.actions)}hasBadges(){return!!(this.childData&&this.childData.hasOwnProperty("badges")&&this.childData.badges.hasOwnProperty("items"))&&this.childData.badges.items.length>0}showBadgeCount(t){return!(!t||!t.hasOwnProperty("total_badges_count"))&&t.total_badges_count>1}ngOnDestroy(){if(this.reduxSubscriber)for(const t of this.reduxSubscriber)t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.dc(a.d),s.dc(s.i),s.dc(o.a))},t.\u0275cmp=s.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&s.md(u,1),2&t){let t;s.Qc(t=s.sc())&&(e.badgesContainer=t)}},inputs:{minHeight:"minHeight"},features:[s.Jb],decls:6,vars:6,consts:[["class","gamification-spinner",4,"ngIf"],[1,"badges-tab__wrapper"],["badgesContainer",""],[4,"ngIf"],["class","informational-content",4,"ngIf"],["class","view-all-btn border-grey-light",3,"ngClass",4,"ngIf"],[1,"gamification-spinner"],[1,"header-message","text-grey-mid","hint","bolded","border-grey-light"],[1,"list-badges-content","bg-grey-superlight","border-grey-light"],[4,"ngFor","ngForOf"],["class","awarded-times bolded text-white bg-error",3,"innerHtml",4,"ngIf"],[1,"badge-thumb",3,"initials","image_url","size","properties"],[1,"badge-score","text-white","hint",3,"innerHtml","ngClass"],[1,"awarded-times","bolded","text-white","bg-error",3,"innerHtml"],[1,"informational-content"],[1,"content-box"],[1,"icon-wrap","color-gm__red"],[1,"zmdi","zmdi-ticket-star"],[1,"entry-wrap"],[3,"routerLink"],[1,"number-wrap","text-content",3,"innerHtml"],[1,"text-main","bolded"],["class","content-box",4,"ngIf"],[1,"icon-wrap","color-gm__yellow"],[1,"zmdi","zmdi-star"],[1,"icon-wrap","color-gm__blue"],[1,"view-all-btn","border-grey-light",3,"ngClass"],[1,"text-main","bolded",3,"routerLink"]],template:function(t,e){1&t&&(s.dd(0,h,1,0,"ui-spinner",0),s.jc(1,"div",1,2),s.dd(3,f,6,6,"ng-container",3),s.dd(4,O,20,17,"div",4),s.dd(5,M,4,10,"div",5),s.ic()),2&t&&(s.Dc("ngIf",e.showSpinner()),s.Mb(1),s.cd("min-height",e.minHeight-e.topHeaderOffset),s.Mb(2),s.Dc("ngIf",e.hasBadges()),s.Mb(1),s.Dc("ngIf",e.childData&&e.childData[e.tabName]),s.Mb(1),s.Dc("ngIf",e.settings.viewAllLink&&e.hasBadges()))},directives:[r.p,c.bd,r.o,l.a,r.n,d.k],pipes:[g.b],styles:['.color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]{position:relative;display:block;box-sizing:border-box;width:100%}[_nghost-%COMP%]   .badges-tab__wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;width:100%}[_nghost-%COMP%]   .header-message[_ngcontent-%COMP%]{padding:10px 25px;display:block}[_nghost-%COMP%]   .header-message[_ngcontent-%COMP%], [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;border-width:0 0 1px;border-style:solid}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{overflow:hidden;height:128px;display:flex;justify-content:flex-start;padding:25px}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;flex-grow:0;flex-basis:52px;min-width:52px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:32px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:32px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";border:12px solid var(--ui-color-typography-primary);border-bottom:12px solid transparent;position:absolute;height:13px;width:0;top:45px;left:0;right:0;margin:auto;z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .awarded-times[_ngcontent-%COMP%]{position:absolute;display:inline-block;z-index:1;border-radius:50px;padding:5px;top:-5px;min-width:1em;height:11px;line-height:11px;font-size:11px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .awarded-times[_ngcontent-%COMP%]{right:-5px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .awarded-times[_ngcontent-%COMP%]{left:-5px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .awarded-times[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .awarded-times[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge-thumb[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge-score[_ngcontent-%COMP%]{width:100%;display:block;font-weight:800;margin-top:3px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge-score[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge-score[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   .badge-score.four-digits[_ngcontent-%COMP%]{font-size:.7em;font-weight:600}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{justify-content:flex-start;align-content:center;flex-direction:row;padding:25px;box-sizing:border-box}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{text-align:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{min-width:27px;font-size:32px;flex-grow:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{text-align:right}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{text-align:left}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-right:8.25%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-left:8.25%}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .number-wrap[_ngcontent-%COMP%]{font-size:22px;line-height:24px;flex-grow:1}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .entry-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{flex-grow:1}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{text-align:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .text-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:space-around;align-items:stretch;align-content:flex-start}.widgets-column-inherit-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{padding:25px 22px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:30px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+12), .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+12){display:none}.widgets-column-inherit-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{padding:25px 22px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:30px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+12), .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+12){display:none}@media screen and (max-width:992px){.widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{padding:25px 22px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:30px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.widgets-column-medium   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+12){display:none}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{padding:25px 22px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:30px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+12){display:none}}.widgets-column-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{padding:25px 27px}.widgets-column-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+9), .widgets-column-inherit-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+9){display:none}.widgets-column-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{padding:25px 27px}.widgets-column-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+9), .widgets-column-inherit-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+9){display:none}@media screen and (max-width:768px){.widgets-column-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{padding:25px 27px}.widgets-column-half   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+9){display:none}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]{padding:25px 27px}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+9){display:none}}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:32px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:32px}.widgets-column-small   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+6){display:none}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]{padding:25px 0}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{flex-grow:1;flex-direction:column;padding:0 20px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{text-align:center}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:first-child{padding:0 0 0 20px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:first-child, .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:last-child{padding:0 20px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:last-child{padding:0 0 0 20px}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{font-size:32px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-right:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-left:0}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .number-wrap[_ngcontent-%COMP%]{font-size:18px}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{max-width:108px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{text-align:center}.widgets-column-small   [_nghost-%COMP%]   .text-content[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;align-content:center;padding:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:32px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:32px}.widgets-column-small   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+6){display:none}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]{padding:25px 0}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{flex-grow:1;flex-direction:column;padding:0 20px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{text-align:center}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:first-child{padding:0 0 0 20px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:first-child, .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:last-child{padding:0 20px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:last-child{padding:0 0 0 20px}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{font-size:32px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-right:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-left:0}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .number-wrap[_ngcontent-%COMP%]{font-size:18px}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{max-width:108px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{text-align:center}.widgets-column-small   [_nghost-%COMP%]   .text-content[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;align-content:center;padding:0}@media screen and (max-width:640px){.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:32px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:32px}.widgets-column-small   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+6){display:none}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]{padding:25px 0}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{flex-grow:1;flex-direction:column;padding:0 20px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{text-align:center}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:first-child{padding:0 0 0 20px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:first-child, .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:last-child{padding:0 20px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:last-child{padding:0 0 0 20px}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{font-size:32px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-right:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-left:0}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .number-wrap[_ngcontent-%COMP%]{font-size:18px}.widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{max-width:108px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{text-align:center}.widgets-column-small   [_nghost-%COMP%]   .text-content[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;align-content:center;padding:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:32px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:32px}[_nghost-%COMP%]   .list-badges-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+6){display:none}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]{padding:25px 0}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{flex-grow:1;flex-direction:column;padding:0 20px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]{text-align:center}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:first-child{padding:0 0 0 20px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:first-child, .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:last-child{padding:0 20px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]:last-child{padding:0 0 0 20px}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{font-size:32px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-right:0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{padding-left:0}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .number-wrap[_ngcontent-%COMP%]{font-size:18px}[_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{max-width:108px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .informational-content[_ngcontent-%COMP%]   .label-wrap[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .text-content[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;align-content:center;padding:0}}']}),t})()},Imy3:function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"12","sequence":"0","widgets":[{"id":"","type":"mytransactions","name":{"en":"MyTransactions","fa":"MyTransactions","fi":"MyTransactions","it":"MyTransactions"},"settings":{}}]}]}]}}')},JPcv:function(t,e,n){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return o(t)?t:B(t)}function i(t){return r(t)?t:V(t)}function s(t){return c(t)?t:G(t)}function a(t){return o(t)&&!l(t)?t:W(t)}function o(t){return!(!t||!t[g])}function r(t){return!(!t||!t[u])}function c(t){return!(!t||!t[h])}function l(t){return r(t)||c(t)}function d(t){return!(!t||!t[p])}e(i,n),e(s,n),e(a,n),n.isIterable=o,n.isKeyed=r,n.isIndexed=c,n.isAssociative=l,n.isOrdered=d,n.Keyed=i,n.Indexed=s,n.Set=a;var g="@@__IMMUTABLE_ITERABLE__@@",u="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",m={},_={value:!1},b={value:!1};function f(t){return t.value=!1,t}function w(t){t&&(t.value=!0)}function C(){}function O(t,e){e=e||0;for(var n=Math.max(0,t.length-e),i=new Array(n),s=0;s<n;s++)i[s]=t[s+e];return i}function v(t){return void 0===t.size&&(t.size=t.__iterate(y)),t.size}function M(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?v(t)+e:e}function y(){return!0}function P(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function S(t,e){return x(t,e,0)}function I(t,e){return x(t,e,e)}function x(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var E,T,D,k="function"==typeof Symbol&&Symbol.iterator,A=k||"@@iterator";function L(t){this.next=t}function j(t,e,n,i){var s=0===t?e:1===t?n:[e,n];return i?i.value=s:i={value:s,done:!1},i}function N(){return{value:void 0,done:!0}}function R(t){return!!z(t)}function F(t){return t&&"function"==typeof t.next}function U(t){var e=z(t);return e&&e.call(t)}function z(t){var e=t&&(k&&t[k]||t["@@iterator"]);if("function"==typeof e)return e}function q(t){return t&&"number"==typeof t.length}function B(t){return null==t?K():o(t)?t.toSeq():function(t){var e=tt(t)||"object"==typeof t&&new $(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function V(t){return null==t?K().toKeyedSeq():o(t)?r(t)?t.toSeq():t.fromEntrySeq():X(t)}function G(t){return null==t?K():o(t)?r(t)?t.entrySeq():t.toIndexedSeq():Z(t)}function W(t){return(null==t?K():o(t)?r(t)?t.entrySeq():t:Z(t)).toSetSeq()}function H(t){this._array=t,this.size=t.length}function $(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function Q(t){this._iterable=t,this.size=t.length||t.size}function J(t){this._iterator=t,this._iteratorCache=[]}function Y(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function K(){return E||(E=new H([]))}function X(t){var e=Array.isArray(t)?new H(t).fromEntrySeq():F(t)?new J(t).fromEntrySeq():R(t)?new Q(t).fromEntrySeq():"object"==typeof t?new $(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function Z(t){var e=tt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function tt(t){return q(t)?new H(t):F(t)?new J(t):R(t)?new Q(t):void 0}function et(t,e,n,i){var s=t._cache;if(s){for(var a=s.length-1,o=0;o<=a;o++){var r=s[n?a-o:o];if(!1===e(r[1],i?r[0]:o,t))return o+1}return o}return t.__iterateUncached(e,n)}function nt(t,e,n,i){var s=t._cache;if(s){var a=s.length-1,o=0;return new L(function(){var t=s[n?a-o:o];return o++>a?{value:void 0,done:!0}:j(e,i?t[0]:o-1,t[1])})}return t.__iteratorUncached(e,n)}function it(t,e){return e?st(e,t,"",{"":t}):at(t)}function st(t,e,n,i){return Array.isArray(e)?t.call(i,n,G(e).map(function(n,i){return st(t,n,i,e)})):ot(e)?t.call(i,n,V(e).map(function(n,i){return st(t,n,i,e)})):e}function at(t){return Array.isArray(t)?G(t).map(at).toList():ot(t)?V(t).map(at).toMap():t}function ot(t){return t&&(t.constructor===Object||void 0===t.constructor)}function rt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function ct(t,e){if(t===e)return!0;if(!o(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||r(t)!==r(e)||c(t)!==c(e)||d(t)!==d(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!l(t);if(d(t)){var i=t.entries();return e.every(function(t,e){var s=i.next().value;return s&&rt(s[1],t)&&(n||rt(s[0],e))})&&i.next().done}var s=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{s=!0;var a=t;t=e,e=a}var g=!0,u=e.__iterate(function(e,i){if(n?!t.has(e):s?!rt(e,t.get(i,m)):!rt(t.get(i,m),e))return g=!1,!1});return g&&t.size===u}function lt(t,e){if(!(this instanceof lt))return new lt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(T)return T;T=this}}function dt(t,e){if(!t)throw new Error(e)}function gt(t,e,n){if(!(this instanceof gt))return new gt(t,e,n);if(dt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(D)return D;D=this}}function ut(){throw TypeError("Abstract")}function ht(){}function pt(){}function mt(){}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=0,L.VALUES=1,L.ENTRIES=2,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[A]=function(){return this},e(B,n),B.of=function(){return B(arguments)},B.prototype.toSeq=function(){return this},B.prototype.toString=function(){return this.__toString("Seq {","}")},B.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},B.prototype.__iterate=function(t,e){return et(this,t,e,!0)},B.prototype.__iterator=function(t,e){return nt(this,t,e,!0)},e(V,B),V.prototype.toKeyedSeq=function(){return this},e(G,B),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq [","]")},G.prototype.__iterate=function(t,e){return et(this,t,e,!1)},G.prototype.__iterator=function(t,e){return nt(this,t,e,!1)},e(W,B),W.of=function(){return W(arguments)},W.prototype.toSetSeq=function(){return this},B.isSeq=Y,B.Keyed=V,B.Set=W,B.Indexed=G,B.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e(H,G),H.prototype.get=function(t,e){return this.has(t)?this._array[M(this,t)]:e},H.prototype.__iterate=function(t,e){for(var n=this._array,i=n.length-1,s=0;s<=i;s++)if(!1===t(n[e?i-s:s],s,this))return s+1;return s},H.prototype.__iterator=function(t,e){var n=this._array,i=n.length-1,s=0;return new L(function(){return s>i?{value:void 0,done:!0}:j(t,s,n[e?i-s++:s++])})},e($,V),$.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},$.prototype.has=function(t){return this._object.hasOwnProperty(t)},$.prototype.__iterate=function(t,e){for(var n=this._object,i=this._keys,s=i.length-1,a=0;a<=s;a++){var o=i[e?s-a:a];if(!1===t(n[o],o,this))return a+1}return a},$.prototype.__iterator=function(t,e){var n=this._object,i=this._keys,s=i.length-1,a=0;return new L(function(){var o=i[e?s-a:a];return a++>s?{value:void 0,done:!0}:j(t,o,n[o])})},$.prototype[p]=!0,e(Q,G),Q.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=U(this._iterable),i=0;if(F(n))for(var s;!(s=n.next()).done&&!1!==t(s.value,i++,this););return i},Q.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=U(this._iterable);if(!F(n))return new L(N);var i=0;return new L(function(){var e=n.next();return e.done?e:j(t,i++,e.value)})},e(J,G),J.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,i=this._iterator,s=this._iteratorCache,a=0;a<s.length;)if(!1===t(s[a],a++,this))return a;for(;!(n=i.next()).done;){var o=n.value;if(s[a]=o,!1===t(o,a++,this))break}return a},J.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,i=this._iteratorCache,s=0;return new L(function(){if(s>=i.length){var e=n.next();if(e.done)return e;i[s]=e.value}return j(t,s,i[s++])})},e(lt,G),lt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},lt.prototype.get=function(t,e){return this.has(t)?this._value:e},lt.prototype.includes=function(t){return rt(this._value,t)},lt.prototype.slice=function(t,e){var n=this.size;return P(t,e,n)?this:new lt(this._value,I(e,n)-S(t,n))},lt.prototype.reverse=function(){return this},lt.prototype.indexOf=function(t){return rt(this._value,t)?0:-1},lt.prototype.lastIndexOf=function(t){return rt(this._value,t)?this.size:-1},lt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},lt.prototype.__iterator=function(t,e){var n=this,i=0;return new L(function(){return i<n.size?j(t,i++,n._value):{value:void 0,done:!0}})},lt.prototype.equals=function(t){return t instanceof lt?rt(this._value,t._value):ct(t)},e(gt,G),gt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},gt.prototype.get=function(t,e){return this.has(t)?this._start+M(this,t)*this._step:e},gt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},gt.prototype.slice=function(t,e){return P(t,e,this.size)?this:(t=S(t,this.size),(e=I(e,this.size))<=t?new gt(0,0):new gt(this.get(t,this._end),this.get(e,this._end),this._step))},gt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},gt.prototype.lastIndexOf=function(t){return this.indexOf(t)},gt.prototype.__iterate=function(t,e){for(var n=this.size-1,i=this._step,s=e?this._start+n*i:this._start,a=0;a<=n;a++){if(!1===t(s,a,this))return a+1;s+=e?-i:i}return a},gt.prototype.__iterator=function(t,e){var n=this.size-1,i=this._step,s=e?this._start+n*i:this._start,a=0;return new L(function(){var o=s;return s+=e?-i:i,a>n?{value:void 0,done:!0}:j(t,a++,o)})},gt.prototype.equals=function(t){return t instanceof gt?this._start===t._start&&this._end===t._end&&this._step===t._step:ct(this,t)},e(ut,n),e(ht,ut),e(pt,ut),e(mt,ut),ut.Keyed=ht,ut.Indexed=pt,ut.Set=mt;var _t="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),i=65535&(e|=0);return n*i+((t>>>16)*i+n*(e>>>16)<<16>>>0)|0};function bt(t){return t>>>1&1073741824|3221225471&t}function ft(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return bt(n)}if("string"===e)return t.length>St?function(t){var e=Et[t];return void 0===e&&(e=wt(t),xt===It&&(xt=0,Et={}),xt++,Et[t]=e),e}(t):wt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(Mt&&void 0!==(e=Ct.get(t)))return e;if(void 0!==(e=t[Pt]))return e;if(!vt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Pt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++yt,1073741824&yt&&(yt=0),Mt)Ct.set(t,e);else{if(void 0!==Ot&&!1===Ot(t))throw new Error("Non-extensible objects are not allowed as keys.");if(vt)Object.defineProperty(t,Pt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Pt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Pt]=e}}return e}(t);if("function"==typeof t.toString)return wt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function wt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return bt(e)}var Ct,Ot=Object.isExtensible,vt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Mt="function"==typeof WeakMap;Mt&&(Ct=new WeakMap);var yt=0,Pt="__immutablehash__";"function"==typeof Symbol&&(Pt=Symbol(Pt));var St=16,It=255,xt=0,Et={};function Tt(t){dt(t!==1/0,"Cannot perform this action with an infinite size.")}function Dt(t){return null==t?Wt():kt(t)&&!d(t)?t:Wt().withMutations(function(e){var n=i(t);Tt(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function kt(t){return!(!t||!t[Lt])}e(Dt,ht),Dt.prototype.toString=function(){return this.__toString("Map {","}")},Dt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Dt.prototype.set=function(t,e){return Ht(this,t,e)},Dt.prototype.setIn=function(t,e){return this.updateIn(t,m,function(){return e})},Dt.prototype.remove=function(t){return Ht(this,t,m)},Dt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return m})},Dt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Dt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var i=te(this,Ke(t),e,n);return i===m?void 0:i},Dt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Wt()},Dt.prototype.merge=function(){return Yt(this,void 0,arguments)},Dt.prototype.mergeWith=function(e){return Yt(this,e,t.call(arguments,1))},Dt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Wt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]})},Dt.prototype.mergeDeep=function(){return Yt(this,Kt,arguments)},Dt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Yt(this,Xt(e),n)},Dt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Wt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]})},Dt.prototype.sort=function(t){return Me(ze(this,t))},Dt.prototype.sortBy=function(t,e){return Me(ze(this,e,t))},Dt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Dt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new C)},Dt.prototype.asImmutable=function(){return this.__ensureOwner()},Dt.prototype.wasAltered=function(){return this.__altered},Dt.prototype.__iterator=function(t,e){return new qt(this,t,e)},Dt.prototype.__iterate=function(t,e){var n=this,i=0;return this._root&&this._root.iterate(function(e){return i++,t(e[1],e[0],n)},e),i},Dt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Gt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Dt.isMap=kt;var At,Lt="@@__IMMUTABLE_MAP__@@",jt=Dt.prototype;function Nt(t,e){this.ownerID=t,this.entries=e}function Rt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Ft(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Ut(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function zt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function qt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Vt(t._root)}function Bt(t,e){return j(t,e[0],e[1])}function Vt(t,e){return{node:t,index:0,__prev:e}}function Gt(t,e,n,i){var s=Object.create(jt);return s.size=t,s._root=e,s.__ownerID=n,s.__hash=i,s.__altered=!1,s}function Wt(){return At||(At=Gt(0))}function Ht(t,e,n){var i,s;if(t._root){var a=f(_),o=f(b);if(i=$t(t._root,t.__ownerID,0,void 0,e,n,a,o),!o.value)return t;s=t.size+(a.value?n===m?-1:1:0)}else{if(n===m)return t;s=1,i=new Nt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=s,t._root=i,t.__hash=void 0,t.__altered=!0,t):i?Gt(s,i):Wt()}function $t(t,e,n,i,s,a,o,r){return t?t.update(e,n,i,s,a,o,r):a===m?t:(w(r),w(o),new zt(e,i,[s,a]))}function Qt(t){return t.constructor===zt||t.constructor===Ut}function Jt(t,e,n,i,s){if(t.keyHash===i)return new Ut(e,i,[t.entry,s]);var a,o=31&(0===n?t.keyHash:t.keyHash>>>n),r=31&(0===n?i:i>>>n);return new Rt(e,1<<o|1<<r,o===r?[Jt(t,e,n+5,i,s)]:(a=new zt(e,i,s),o<r?[t,a]:[a,t]))}function Yt(t,e,n){for(var s=[],a=0;a<n.length;a++){var r=n[a],c=i(r);o(r)||(c=c.map(function(t){return it(t)})),s.push(c)}return Zt(t,e,s)}function Kt(t,e,n){return t&&t.mergeDeep&&o(e)?t.mergeDeep(e):rt(t,e)?t:e}function Xt(t){return function(e,n,i){if(e&&e.mergeDeepWith&&o(n))return e.mergeDeepWith(t,n);var s=t(e,n,i);return rt(e,s)?e:s}}function Zt(t,e,n){return 0===(n=n.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var i=e?function(n,i){t.update(i,m,function(t){return t===m?n:e(t,n,i)})}:function(e,n){t.set(n,e)},s=0;s<n.length;s++)n[s].forEach(i)}):t.constructor(n[0])}function te(t,e,n,i){var s=t===m,a=e.next();if(a.done){var o=s?n:t,r=i(o);return r===o?t:r}dt(s||t&&t.set,"invalid keyPath");var c=a.value,l=s?m:t.get(c,m),d=te(l,e,n,i);return d===l?t:d===m?t.remove(c):(s?Wt():t).set(c,d)}function ee(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,127&(t+=t>>8)+(t>>16)}function ne(t,e,n,i){var s=i?t:O(t);return s[e]=n,s}jt[Lt]=!0,jt.delete=jt.remove,jt.removeIn=jt.deleteIn,Nt.prototype.get=function(t,e,n,i){for(var s=this.entries,a=0,o=s.length;a<o;a++)if(rt(n,s[a][0]))return s[a][1];return i},Nt.prototype.update=function(t,e,n,i,s,a,o){for(var r=s===m,c=this.entries,l=0,d=c.length;l<d&&!rt(i,c[l][0]);l++);var g=l<d;if(g?c[l][1]===s:r)return this;if(w(o),(r||!g)&&w(a),!r||1!==c.length){if(!g&&!r&&c.length>=ie)return function(t,e,n,i){t||(t=new C);for(var s=new zt(t,ft(n),[n,i]),a=0;a<e.length;a++){var o=e[a];s=s.update(t,0,void 0,o[0],o[1])}return s}(t,c,i,s);var u=t&&t===this.ownerID,h=u?c:O(c);return g?r?l===d-1?h.pop():h[l]=h.pop():h[l]=[i,s]:h.push([i,s]),u?(this.entries=h,this):new Nt(t,h)}},Rt.prototype.get=function(t,e,n,i){void 0===e&&(e=ft(n));var s=1<<(31&(0===t?e:e>>>t)),a=this.bitmap;return 0==(a&s)?i:this.nodes[ee(a&s-1)].get(t+5,e,n,i)},Rt.prototype.update=function(t,e,n,i,s,a,o){void 0===n&&(n=ft(i));var r=31&(0===e?n:n>>>e),c=1<<r,l=this.bitmap,d=0!=(l&c);if(!d&&s===m)return this;var g=ee(l&c-1),u=this.nodes,h=d?u[g]:void 0,p=$t(h,t,e+5,n,i,s,a,o);if(p===h)return this;if(!d&&p&&u.length>=se)return function(t,e,n,i,s){for(var a=0,o=new Array(32),r=0;0!==n;r++,n>>>=1)o[r]=1&n?e[a++]:void 0;return o[i]=s,new Ft(t,a+1,o)}(t,u,l,r,p);if(d&&!p&&2===u.length&&Qt(u[1^g]))return u[1^g];if(d&&p&&1===u.length&&Qt(p))return p;var _=t&&t===this.ownerID,b=d?p?l:l^c:l|c,f=d?p?ne(u,g,p,_):function(t,e,n){var i=t.length-1;if(n&&e===i)return t.pop(),t;for(var s=new Array(i),a=0,o=0;o<i;o++)o===e&&(a=1),s[o]=t[o+a];return s}(u,g,_):function(t,e,n,i){var s=t.length+1;if(i&&e+1===s)return t[e]=n,t;for(var a=new Array(s),o=0,r=0;r<s;r++)r===e?(a[r]=n,o=-1):a[r]=t[r+o];return a}(u,g,p,_);return _?(this.bitmap=b,this.nodes=f,this):new Rt(t,b,f)},Ft.prototype.get=function(t,e,n,i){void 0===e&&(e=ft(n));var s=this.nodes[31&(0===t?e:e>>>t)];return s?s.get(t+5,e,n,i):i},Ft.prototype.update=function(t,e,n,i,s,a,o){void 0===n&&(n=ft(i));var r=31&(0===e?n:n>>>e),c=this.nodes,l=c[r];if(s===m&&!l)return this;var d=$t(l,t,e+5,n,i,s,a,o);if(d===l)return this;var g=this.count;if(l){if(!d&&--g<ae)return function(t,e,n,i){for(var s=0,a=0,o=new Array(n),r=0,c=1,l=e.length;r<l;r++,c<<=1){var d=e[r];void 0!==d&&r!==i&&(s|=c,o[a++]=d)}return new Rt(t,s,o)}(t,c,g,r)}else g++;var u=t&&t===this.ownerID,h=ne(c,r,d,u);return u?(this.count=g,this.nodes=h,this):new Ft(t,g,h)},Ut.prototype.get=function(t,e,n,i){for(var s=this.entries,a=0,o=s.length;a<o;a++)if(rt(n,s[a][0]))return s[a][1];return i},Ut.prototype.update=function(t,e,n,i,s,a,o){void 0===n&&(n=ft(i));var r=s===m;if(n!==this.keyHash)return r?this:(w(o),w(a),Jt(this,t,e,n,[i,s]));for(var c=this.entries,l=0,d=c.length;l<d&&!rt(i,c[l][0]);l++);var g=l<d;if(g?c[l][1]===s:r)return this;if(w(o),(r||!g)&&w(a),r&&2===d)return new zt(t,this.keyHash,c[1^l]);var u=t&&t===this.ownerID,h=u?c:O(c);return g?r?l===d-1?h.pop():h[l]=h.pop():h[l]=[i,s]:h.push([i,s]),u?(this.entries=h,this):new Ut(t,this.keyHash,h)},zt.prototype.get=function(t,e,n,i){return rt(n,this.entry[0])?this.entry[1]:i},zt.prototype.update=function(t,e,n,i,s,a,o){var r=s===m,c=rt(i,this.entry[0]);return(c?s===this.entry[1]:r)?this:(w(o),r?void w(a):c?t&&t===this.ownerID?(this.entry[1]=s,this):new zt(t,this.keyHash,[i,s]):(w(a),Jt(this,t,e,ft(i),[i,s])))},Nt.prototype.iterate=Ut.prototype.iterate=function(t,e){for(var n=this.entries,i=0,s=n.length-1;i<=s;i++)if(!1===t(n[e?s-i:i]))return!1},Rt.prototype.iterate=Ft.prototype.iterate=function(t,e){for(var n=this.nodes,i=0,s=n.length-1;i<=s;i++){var a=n[e?s-i:i];if(a&&!1===a.iterate(t,e))return!1}},zt.prototype.iterate=function(t,e){return t(this.entry)},e(qt,L),qt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,i=e.node,s=e.index++;if(i.entry){if(0===s)return Bt(t,i.entry)}else if(i.entries){if(s<=(n=i.entries.length-1))return Bt(t,i.entries[this._reverse?n-s:s])}else if(s<=(n=i.nodes.length-1)){var a=i.nodes[this._reverse?n-s:s];if(a){if(a.entry)return Bt(t,a.entry);e=this._stack=Vt(a,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ie=8,se=16,ae=8;function oe(t){var e=_e();if(null==t)return e;if(re(t))return t;var n=s(t),i=n.size;return 0===i?e:(Tt(i),i>0&&i<32?me(0,i,5,null,new de(n.toArray())):e.withMutations(function(t){t.setSize(i),n.forEach(function(e,n){return t.set(n,e)})}))}function re(t){return!(!t||!t[ce])}e(oe,pt),oe.of=function(){return this(arguments)},oe.prototype.toString=function(){return this.__toString("List [","]")},oe.prototype.get=function(t,e){if((t=M(this,t))>=0&&t<this.size){var n=we(this,t+=this._origin);return n&&n.array[31&t]}return e},oe.prototype.set=function(t,e){return function(t,e,n){if((e=M(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Ce(t,e).set(0,n):Ce(t,0,e+1).set(e,n)});e+=t._origin;var i=t._tail,s=t._root,a=f(b);return e>=ve(t._capacity)?i=be(i,t.__ownerID,0,e,n,a):s=be(s,t.__ownerID,t._level,e,n,a),a.value?t.__ownerID?(t._root=s,t._tail=i,t.__hash=void 0,t.__altered=!0,t):me(t._origin,t._capacity,t._level,s,i):t}(this,t,e)},oe.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},oe.prototype.insert=function(t,e){return this.splice(t,0,e)},oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):_e()},oe.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){Ce(n,0,e+t.length);for(var i=0;i<t.length;i++)n.set(e+i,t[i])})},oe.prototype.pop=function(){return Ce(this,0,-1)},oe.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){Ce(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},oe.prototype.shift=function(){return Ce(this,1)},oe.prototype.merge=function(){return Oe(this,void 0,arguments)},oe.prototype.mergeWith=function(e){return Oe(this,e,t.call(arguments,1))},oe.prototype.mergeDeep=function(){return Oe(this,Kt,arguments)},oe.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Oe(this,Xt(e),n)},oe.prototype.setSize=function(t){return Ce(this,0,t)},oe.prototype.slice=function(t,e){var n=this.size;return P(t,e,n)?this:Ce(this,S(t,n),I(e,n))},oe.prototype.__iterator=function(t,e){var n=0,i=pe(this,e);return new L(function(){var e=i();return e===he?{value:void 0,done:!0}:j(t,n++,e)})},oe.prototype.__iterate=function(t,e){for(var n,i=0,s=pe(this,e);(n=s())!==he&&!1!==t(n,i++,this););return i},oe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?me(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},oe.isList=re;var ce="@@__IMMUTABLE_LIST__@@",le=oe.prototype;function de(t,e){this.array=t,this.ownerID=e}le[ce]=!0,le.delete=le.remove,le.setIn=jt.setIn,le.deleteIn=le.removeIn=jt.removeIn,le.update=jt.update,le.updateIn=jt.updateIn,le.mergeIn=jt.mergeIn,le.mergeDeepIn=jt.mergeDeepIn,le.withMutations=jt.withMutations,le.asMutable=jt.asMutable,le.asImmutable=jt.asImmutable,le.wasAltered=jt.wasAltered,de.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var i=n>>>e&31;if(i>=this.array.length)return new de([],t);var s,a=0===i;if(e>0){var o=this.array[i];if((s=o&&o.removeBefore(t,e-5,n))===o&&a)return this}if(a&&!s)return this;var r=fe(this,t);if(!a)for(var c=0;c<i;c++)r.array[c]=void 0;return s&&(r.array[i]=s),r},de.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var i,s=n-1>>>e&31;if(s>=this.array.length)return this;if(e>0){var a=this.array[s];if((i=a&&a.removeAfter(t,e-5,n))===a&&s===this.array.length-1)return this}var o=fe(this,t);return o.array.splice(s+1),i&&(o.array[s]=i),o};var ge,ue,he={};function pe(t,e){var n=t._origin,i=t._capacity,s=ve(i),a=t._tail;return function t(o,r,c){return 0===r?function(t,o){var r=o===s?a&&a.array:t&&t.array,c=o>n?0:n-o,l=i-o;return l>32&&(l=32),function(){if(c===l)return he;var t=e?--l:c++;return r&&r[t]}}(o,c):function(s,a,o){var r,c=s&&s.array,l=o>n?0:n-o>>a,d=1+(i-o>>a);return d>32&&(d=32),function(){for(;;){if(r){var n=r();if(n!==he)return n;r=null}if(l===d)return he;var i=e?--d:l++;r=t(c&&c[i],a-5,o+(i<<a))}}}(o,r,c)}(t._root,t._level,0)}function me(t,e,n,i,s,a,o){var r=Object.create(le);return r.size=e-t,r._origin=t,r._capacity=e,r._level=n,r._root=i,r._tail=s,r.__ownerID=a,r.__hash=o,r.__altered=!1,r}function _e(){return ge||(ge=me(0,0,5))}function be(t,e,n,i,s,a){var o,r=i>>>n&31,c=t&&r<t.array.length;if(!c&&void 0===s)return t;if(n>0){var l=t&&t.array[r],d=be(l,e,n-5,i,s,a);return d===l?t:((o=fe(t,e)).array[r]=d,o)}return c&&t.array[r]===s?t:(w(a),o=fe(t,e),void 0===s&&r===o.array.length-1?o.array.pop():o.array[r]=s,o)}function fe(t,e){return e&&t&&e===t.ownerID?t:new de(t?t.array.slice():[],e)}function we(t,e){if(e>=ve(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,i=t._level;n&&i>0;)n=n.array[e>>>i&31],i-=5;return n}}function Ce(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var i=t.__ownerID||new C,s=t._origin,a=t._capacity,o=s+e,r=void 0===n?a:n<0?a+n:s+n;if(o===s&&r===a)return t;if(o>=r)return t.clear();for(var c=t._level,l=t._root,d=0;o+d<0;)l=new de(l&&l.array.length?[void 0,l]:[],i),d+=1<<(c+=5);d&&(o+=d,s+=d,r+=d,a+=d);for(var g=ve(a),u=ve(r);u>=1<<c+5;)l=new de(l&&l.array.length?[l]:[],i),c+=5;var h=t._tail,p=u<g?we(t,r-1):u>g?new de([],i):h;if(h&&u>g&&o<a&&h.array.length){for(var m=l=fe(l,i),_=c;_>5;_-=5){var b=g>>>_&31;m=m.array[b]=fe(m.array[b],i)}m.array[g>>>5&31]=h}if(r<a&&(p=p&&p.removeAfter(i,0,r)),o>=u)o-=u,r-=u,c=5,l=null,p=p&&p.removeBefore(i,0,o);else if(o>s||u<g){for(d=0;l;){var f=o>>>c&31;if(f!==u>>>c&31)break;f&&(d+=(1<<c)*f),c-=5,l=l.array[f]}l&&o>s&&(l=l.removeBefore(i,c,o-d)),l&&u<g&&(l=l.removeAfter(i,c,u-d)),d&&(o-=d,r-=d)}return t.__ownerID?(t.size=r-o,t._origin=o,t._capacity=r,t._level=c,t._root=l,t._tail=p,t.__hash=void 0,t.__altered=!0,t):me(o,r,c,l,p)}function Oe(t,e,n){for(var i=[],a=0,r=0;r<n.length;r++){var c=n[r],l=s(c);l.size>a&&(a=l.size),o(c)||(l=l.map(function(t){return it(t)})),i.push(l)}return a>t.size&&(t=t.setSize(a)),Zt(t,e,i)}function ve(t){return t<32?0:t-1>>>5<<5}function Me(t){return null==t?Se():ye(t)?t:Se().withMutations(function(e){var n=i(t);Tt(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function ye(t){return kt(t)&&d(t)}function Pe(t,e,n,i){var s=Object.create(Me.prototype);return s.size=t?t.size:0,s._map=t,s._list=e,s.__ownerID=n,s.__hash=i,s}function Se(){return ue||(ue=Pe(Wt(),_e()))}function Ie(t,e,n){var i,s,a=t._map,o=t._list,r=a.get(e),c=void 0!==r;if(n===m){if(!c)return t;o.size>=32&&o.size>=2*a.size?(i=(s=o.filter(function(t,e){return void 0!==t&&r!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(i.__ownerID=s.__ownerID=t.__ownerID)):(i=a.remove(e),s=r===o.size-1?o.pop():o.set(r,void 0))}else if(c){if(n===o.get(r)[1])return t;i=a,s=o.set(r,[e,n])}else i=a.set(e,o.size),s=o.set(o.size,[e,n]);return t.__ownerID?(t.size=i.size,t._map=i,t._list=s,t.__hash=void 0,t):Pe(i,s)}function xe(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Ee(t){this._iter=t,this.size=t.size}function Te(t){this._iter=t,this.size=t.size}function De(t){this._iter=t,this.size=t.size}function ke(t){var e=Qe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Je,e.__iterateUncached=function(e,n){var i=this;return t.__iterate(function(t,n){return!1!==e(n,t,i)},n)},e.__iteratorUncached=function(e,n){if(2===e){var i=t.__iterator(e,n);return new L(function(){var t=i.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(1===e?0:1,n)},e}function Ae(t,e,n){var i=Qe(t);return i.size=t.size,i.has=function(e){return t.has(e)},i.get=function(i,s){var a=t.get(i,m);return a===m?s:e.call(n,a,i,t)},i.__iterateUncached=function(i,s){var a=this;return t.__iterate(function(t,s,o){return!1!==i(e.call(n,t,s,o),s,a)},s)},i.__iteratorUncached=function(i,s){var a=t.__iterator(2,s);return new L(function(){var s=a.next();if(s.done)return s;var o=s.value,r=o[0];return j(i,r,e.call(n,o[1],r,t),s)})},i}function Le(t,e){var n=Qe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ke(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,i){return t.get(e?n:-1-n,i)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Je,n.__iterate=function(e,n){var i=this;return t.__iterate(function(t,n){return e(t,n,i)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function je(t,e,n,i){var s=Qe(t);return i&&(s.has=function(i){var s=t.get(i,m);return s!==m&&!!e.call(n,s,i,t)},s.get=function(i,s){var a=t.get(i,m);return a!==m&&e.call(n,a,i,t)?a:s}),s.__iterateUncached=function(s,a){var o=this,r=0;return t.__iterate(function(t,a,c){if(e.call(n,t,a,c))return r++,s(t,i?a:r-1,o)},a),r},s.__iteratorUncached=function(s,a){var o=t.__iterator(2,a),r=0;return new L(function(){for(;;){var a=o.next();if(a.done)return a;var c=a.value,l=c[0],d=c[1];if(e.call(n,d,l,t))return j(s,i?l:r++,d,a)}})},s}function Ne(t,e,n,i){var s=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),P(e,n,s))return t;var a=S(e,s),o=I(n,s);if(a!=a||o!=o)return Ne(t.toSeq().cacheResult(),e,n,i);var r,c=o-a;c==c&&(r=c<0?0:c);var l=Qe(t);return l.size=0===r?r:t.size&&r||void 0,!i&&Y(t)&&r>=0&&(l.get=function(e,n){return(e=M(this,e))>=0&&e<r?t.get(e+a,n):n}),l.__iterateUncached=function(e,n){var s=this;if(0===r)return 0;if(n)return this.cacheResult().__iterate(e,n);var o=0,c=!0,l=0;return t.__iterate(function(t,n){if(!c||!(c=o++<a))return l++,!1!==e(t,i?n:l-1,s)&&l!==r}),l},l.__iteratorUncached=function(e,n){if(0!==r&&n)return this.cacheResult().__iterator(e,n);var s=0!==r&&t.__iterator(e,n),o=0,c=0;return new L(function(){for(;o++<a;)s.next();if(++c>r)return{value:void 0,done:!0};var t=s.next();return i||1===e?t:j(e,c-1,0===e?void 0:t.value[1],t)})},l}function Re(t,e,n,i){var s=Qe(t);return s.__iterateUncached=function(s,a){var o=this;if(a)return this.cacheResult().__iterate(s,a);var r=!0,c=0;return t.__iterate(function(t,a,l){if(!r||!(r=e.call(n,t,a,l)))return c++,s(t,i?a:c-1,o)}),c},s.__iteratorUncached=function(s,a){var o=this;if(a)return this.cacheResult().__iterator(s,a);var r=t.__iterator(2,a),c=!0,l=0;return new L(function(){var t,a,d;do{if((t=r.next()).done)return i||1===s?t:j(s,l++,0===s?void 0:t.value[1],t);var g=t.value;a=g[0],d=g[1],c&&(c=e.call(n,d,a,o))}while(c);return 2===s?t:j(s,a,d,t)})},s}function Fe(t,e){var n=r(t),s=[t].concat(e).map(function(t){return o(t)?n&&(t=i(t)):t=n?X(t):Z(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===s.length)return t;if(1===s.length){var a=s[0];if(a===t||n&&r(a)||c(t)&&c(a))return a}var l=new H(s);return n?l=l.toKeyedSeq():c(t)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=s.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),l}function Ue(t,e,n){var i=Qe(t);return i.__iterateUncached=function(i,s){var a=0,r=!1;return function t(c,l){var d=this;c.__iterate(function(s,c){return(!e||l<e)&&o(s)?t(s,l+1):!1===i(s,n?c:a++,d)&&(r=!0),!r},s)}(t,0),a},i.__iteratorUncached=function(i,s){var a=t.__iterator(i,s),r=[],c=0;return new L(function(){for(;a;){var t=a.next();if(!1===t.done){var l=t.value;if(2===i&&(l=l[1]),e&&!(r.length<e)||!o(l))return n?t:j(i,c++,l,t);r.push(a),a=l.__iterator(i,s)}else a=r.pop()}return{value:void 0,done:!0}})},i}function ze(t,e,n){e||(e=Ye);var i=r(t),s=0,a=t.toSeq().map(function(e,i){return[i,e,s++,n?n(e,i,t):e]}).toArray();return a.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(i?function(t,e){a[e].length=2}:function(t,e){a[e]=t[1]}),i?V(a):c(t)?G(a):W(a)}function qe(t,e,n){if(e||(e=Ye),n){var i=t.toSeq().map(function(e,i){return[e,n(e,i,t)]}).reduce(function(t,n){return Be(e,t[1],n[1])?n:t});return i&&i[0]}return t.reduce(function(t,n){return Be(e,t,n)?n:t})}function Be(t,e,n){var i=t(n,e);return 0===i&&n!==e&&(null==n||n!=n)||i>0}function Ve(t,e,i){var s=Qe(t);return s.size=new H(i).map(function(t){return t.size}).min(),s.__iterate=function(t,e){for(var n,i=this.__iterator(1,e),s=0;!(n=i.next()).done&&!1!==t(n.value,s++,this););return s},s.__iteratorUncached=function(t,s){var a=i.map(function(t){return t=n(t),U(s?t.reverse():t)}),o=0,r=!1;return new L(function(){var n;return r||(n=a.map(function(t){return t.next()}),r=n.some(function(t){return t.done})),r?{value:void 0,done:!0}:j(t,o++,e.apply(null,n.map(function(t){return t.value})))})},s}function Ge(t,e){return Y(t)?e:t.constructor(e)}function We(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function He(t){return Tt(t.size),v(t)}function $e(t){return r(t)?i:c(t)?s:a}function Qe(t){return Object.create((r(t)?V:c(t)?G:W).prototype)}function Je(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):B.prototype.cacheResult.call(this)}function Ye(t,e){return t>e?1:t<e?-1:0}function Ke(t){var e=U(t);if(!e){if(!q(t))throw new TypeError("Expected iterable or array-like: "+t);e=U(n(t))}return e}function Xe(t,e){var n,i=function(a){if(a instanceof i)return a;if(!(this instanceof i))return new i(a);if(!n){n=!0;var o=Object.keys(t);(function(t,e){try{e.forEach(nn.bind(void 0,t))}catch(n){}})(s,o),s.size=o.length,s._name=e,s._keys=o,s._defaultValues=t}this._map=Dt(a)},s=i.prototype=Object.create(Ze);return s.constructor=i,i}e(Me,Dt),Me.of=function(){return this(arguments)},Me.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Me.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Me.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Se()},Me.prototype.set=function(t,e){return Ie(this,t,e)},Me.prototype.remove=function(t){return Ie(this,t,m)},Me.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Me.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Me.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Me.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Pe(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Me.isOrderedMap=ye,Me.prototype[p]=!0,Me.prototype.delete=Me.prototype.remove,e(xe,V),xe.prototype.get=function(t,e){return this._iter.get(t,e)},xe.prototype.has=function(t){return this._iter.has(t)},xe.prototype.valueSeq=function(){return this._iter.valueSeq()},xe.prototype.reverse=function(){var t=this,e=Le(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},xe.prototype.map=function(t,e){var n=this,i=Ae(this,t,e);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().map(t,e)}),i},xe.prototype.__iterate=function(t,e){var n,i=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,i)}:(n=e?He(this):0,function(s){return t(s,e?--n:n++,i)}),e)},xe.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(1,e),i=e?He(this):0;return new L(function(){var s=n.next();return s.done?s:j(t,e?--i:i++,s.value,s)})},xe.prototype[p]=!0,e(Ee,G),Ee.prototype.includes=function(t){return this._iter.includes(t)},Ee.prototype.__iterate=function(t,e){var n=this,i=0;return this._iter.__iterate(function(e){return t(e,i++,n)},e)},Ee.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e),i=0;return new L(function(){var e=n.next();return e.done?e:j(t,i++,e.value,e)})},e(Te,W),Te.prototype.has=function(t){return this._iter.includes(t)},Te.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},Te.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new L(function(){var e=n.next();return e.done?e:j(t,e.value,e.value,e)})},e(De,V),De.prototype.entrySeq=function(){return this._iter.toSeq()},De.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){We(e);var i=o(e);return t(i?e.get(1):e[1],i?e.get(0):e[0],n)}},e)},De.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new L(function(){for(;;){var e=n.next();if(e.done)return e;var i=e.value;if(i){We(i);var s=o(i);return j(t,s?i.get(0):i[0],s?i.get(1):i[1],e)}}})},Ee.prototype.cacheResult=xe.prototype.cacheResult=Te.prototype.cacheResult=De.prototype.cacheResult=Je,e(Xe,ht),Xe.prototype.toString=function(){return this.__toString(en(this)+" {","}")},Xe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Xe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Xe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=tn(this,Wt()))},Xe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+en(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:tn(this,n)},Xe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:tn(this,e)},Xe.prototype.wasAltered=function(){return this._map.wasAltered()},Xe.prototype.__iterator=function(t,e){var n=this;return i(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},Xe.prototype.__iterate=function(t,e){var n=this;return i(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},Xe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?tn(this,e,t):(this.__ownerID=t,this._map=e,this)};var Ze=Xe.prototype;function tn(t,e,n){var i=Object.create(Object.getPrototypeOf(t));return i._map=e,i.__ownerID=n,i}function en(t){return t._name||t.constructor.name||"Record"}function nn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){dt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function sn(t){return null==t?gn():an(t)&&!d(t)?t:gn().withMutations(function(e){var n=a(t);Tt(n.size),n.forEach(function(t){return e.add(t)})})}function an(t){return!(!t||!t[rn])}Ze.delete=Ze.remove,Ze.deleteIn=Ze.removeIn=jt.removeIn,Ze.merge=jt.merge,Ze.mergeWith=jt.mergeWith,Ze.mergeIn=jt.mergeIn,Ze.mergeDeep=jt.mergeDeep,Ze.mergeDeepWith=jt.mergeDeepWith,Ze.mergeDeepIn=jt.mergeDeepIn,Ze.setIn=jt.setIn,Ze.update=jt.update,Ze.updateIn=jt.updateIn,Ze.withMutations=jt.withMutations,Ze.asMutable=jt.asMutable,Ze.asImmutable=jt.asImmutable,e(sn,mt),sn.of=function(){return this(arguments)},sn.fromKeys=function(t){return this(i(t).keySeq())},sn.prototype.toString=function(){return this.__toString("Set {","}")},sn.prototype.has=function(t){return this._map.has(t)},sn.prototype.add=function(t){return ln(this,this._map.set(t,!0))},sn.prototype.remove=function(t){return ln(this,this._map.remove(t))},sn.prototype.clear=function(){return ln(this,this._map.clear())},sn.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)a(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},sn.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return a(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.every(function(t){return t.includes(n)})||t.remove(n)})})},sn.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return a(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.some(function(t){return t.includes(n)})&&t.remove(n)})})},sn.prototype.merge=function(){return this.union.apply(this,arguments)},sn.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},sn.prototype.sort=function(t){return un(ze(this,t))},sn.prototype.sortBy=function(t,e){return un(ze(this,e,t))},sn.prototype.wasAltered=function(){return this._map.wasAltered()},sn.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,i){return t(i,i,n)},e)},sn.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},sn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},sn.isSet=an;var on,rn="@@__IMMUTABLE_SET__@@",cn=sn.prototype;function ln(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function dn(t,e){var n=Object.create(cn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function gn(){return on||(on=dn(Wt()))}function un(t){return null==t?bn():hn(t)?t:bn().withMutations(function(e){var n=a(t);Tt(n.size),n.forEach(function(t){return e.add(t)})})}function hn(t){return an(t)&&d(t)}cn[rn]=!0,cn.delete=cn.remove,cn.mergeDeep=cn.merge,cn.mergeDeepWith=cn.mergeWith,cn.withMutations=jt.withMutations,cn.asMutable=jt.asMutable,cn.asImmutable=jt.asImmutable,cn.__empty=gn,cn.__make=dn,e(un,sn),un.of=function(){return this(arguments)},un.fromKeys=function(t){return this(i(t).keySeq())},un.prototype.toString=function(){return this.__toString("OrderedSet {","}")},un.isOrderedSet=hn;var pn,mn=un.prototype;function _n(t,e){var n=Object.create(mn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function bn(){return pn||(pn=_n(Se()))}function fn(t){return null==t?yn():wn(t)?t:yn().unshiftAll(t)}function wn(t){return!(!t||!t[On])}mn[p]=!0,mn.__empty=bn,mn.__make=_n,e(fn,pt),fn.of=function(){return this(arguments)},fn.prototype.toString=function(){return this.__toString("Stack [","]")},fn.prototype.get=function(t,e){var n=this._head;for(t=M(this,t);n&&t--;)n=n.next;return n?n.value:e},fn.prototype.peek=function(){return this._head&&this._head.value},fn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Mn(t,e)},fn.prototype.pushAll=function(t){if(0===(t=s(t)).size)return this;Tt(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Mn(e,n)},fn.prototype.pop=function(){return this.slice(1)},fn.prototype.unshift=function(){return this.push.apply(this,arguments)},fn.prototype.unshiftAll=function(t){return this.pushAll(t)},fn.prototype.shift=function(){return this.pop.apply(this,arguments)},fn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):yn()},fn.prototype.slice=function(t,e){if(P(t,e,this.size))return this;var n=S(t,this.size);if(I(e,this.size)!==this.size)return pt.prototype.slice.call(this,t,e);for(var i=this.size-n,s=this._head;n--;)s=s.next;return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mn(i,s)},fn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Mn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},fn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,i=this._head;i&&!1!==t(i.value,n++,this);)i=i.next;return n},fn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,i=this._head;return new L(function(){if(i){var e=i.value;return i=i.next,j(t,n++,e)}return{value:void 0,done:!0}})},fn.isStack=wn;var Cn,On="@@__IMMUTABLE_STACK__@@",vn=fn.prototype;function Mn(t,e,n,i){var s=Object.create(vn);return s.size=t,s._head=e,s.__ownerID=n,s.__hash=i,s.__altered=!1,s}function yn(){return Cn||(Cn=Mn(0))}function Pn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}vn[On]=!0,vn.withMutations=jt.withMutations,vn.asMutable=jt.asMutable,vn.asImmutable=jt.asImmutable,vn.wasAltered=jt.wasAltered,n.Iterator=L,Pn(n,{toArray:function(){Tt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new Ee(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new xe(this,!0)},toMap:function(){return Dt(this.toKeyedSeq())},toObject:function(){Tt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Me(this.toKeyedSeq())},toOrderedSet:function(){return un(r(this)?this.valueSeq():this)},toSet:function(){return sn(r(this)?this.valueSeq():this)},toSetSeq:function(){return new Te(this)},toSeq:function(){return c(this)?this.toIndexedSeq():r(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return fn(r(this)?this.valueSeq():this)},toList:function(){return oe(r(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Ge(this,Fe(this,t.call(arguments,0)))},includes:function(t){return this.some(function(e){return rt(e,t)})},entries:function(){return this.__iterator(2)},every:function(t,e){Tt(this.size);var n=!0;return this.__iterate(function(i,s,a){if(!t.call(e,i,s,a))return n=!1,!1}),n},filter:function(t,e){return Ge(this,je(this,t,e,!0))},find:function(t,e,n){var i=this.findEntry(t,e);return i?i[1]:n},findEntry:function(t,e){var n;return this.__iterate(function(i,s,a){if(t.call(e,i,s,a))return n=[s,i],!1}),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return Tt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Tt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(i){n?n=!1:e+=t,e+=null!=i?i.toString():""}),e},keys:function(){return this.__iterator(0)},map:function(t,e){return Ge(this,Ae(this,t,e))},reduce:function(t,e,n){var i,s;return Tt(this.size),arguments.length<2?s=!0:i=e,this.__iterate(function(e,a,o){s?(s=!1,i=e):i=t.call(n,i,e,a,o)}),i},reduceRight:function(t,e,n){var i=this.toKeyedSeq().reverse();return i.reduce.apply(i,arguments)},reverse:function(){return Ge(this,Le(this,!0))},slice:function(t,e){return Ge(this,Ne(this,t,e,!0))},some:function(t,e){return!this.every(Tn(t),e)},sort:function(t){return Ge(this,ze(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return v(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var i=Dt().asMutable();return t.__iterate(function(s,a){i.update(e.call(n,s,a,t),0,function(t){return t+1})}),i.asImmutable()}(this,t,e)},equals:function(t){return ct(this,t)},entrySeq:function(){var t=this;if(t._cache)return new H(t._cache);var e=t.toSeq().map(En).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Tn(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(y)},flatMap:function(t,e){return Ge(this,function(t,e,n){var i=$e(t);return t.toSeq().map(function(s,a){return i(e.call(n,s,a,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Ge(this,Ue(this,t,!0))},fromEntrySeq:function(){return new De(this)},get:function(t,e){return this.find(function(e,n){return rt(n,t)},void 0,e)},getIn:function(t,e){for(var n,i=this,s=Ke(t);!(n=s.next()).done;)if((i=i&&i.get?i.get(n.value,m):m)===m)return e;return i},groupBy:function(t,e){return function(t,e,n){var i=r(t),s=(d(t)?Me():Dt()).asMutable();t.__iterate(function(a,o){s.update(e.call(n,a,o,t),function(t){return(t=t||[]).push(i?[o,a]:a),t})});var a=$e(t);return s.map(function(e){return Ge(t,a(e))})}(this,t,e)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return this.getIn(t,m)!==m},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(xn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return qe(this,t)},maxBy:function(t,e){return qe(this,e,t)},min:function(t){return qe(this,t?Dn(t):Ln)},minBy:function(t,e){return qe(this,e?Dn(e):Ln,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ge(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ge(this,Re(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Tn(t),e)},sortBy:function(t,e){return Ge(this,ze(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ge(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ge(this,function(t,e,n){var i=Qe(t);return i.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var o=0;return t.__iterate(function(t,s,r){return e.call(n,t,s,r)&&++o&&i(t,s,a)}),o},i.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var o=t.__iterator(2,s),r=!0;return new L(function(){if(!r)return{value:void 0,done:!0};var t=o.next();if(t.done)return t;var s=t.value,c=s[0],l=s[1];return e.call(n,l,c,a)?2===i?t:j(i,c,l,t):(r=!1,{value:void 0,done:!0})})},i}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Tn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=d(t),n=r(t),i=e?1:0;return function(t,e){return e=_t(e,3432918353),e=_t(e<<15|e>>>-15,461845907),e=_t(e<<13|e>>>-13,5),e=_t((e=(e+3864292196|0)^t)^e>>>16,2246822507),bt((e=_t(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){i=31*i+jn(ft(t),ft(e))|0}:function(t,e){i=i+jn(ft(t),ft(e))|0}:e?function(t){i=31*i+ft(t)|0}:function(t){i=i+ft(t)|0}),i)}(this))}});var Sn=n.prototype;Sn[g]=!0,Sn[A]=Sn.values,Sn.__toJS=Sn.toArray,Sn.__toStringMapper=kn,Sn.inspect=Sn.toSource=function(){return this.toString()},Sn.chain=Sn.flatMap,Sn.contains=Sn.includes,function(){try{Object.defineProperty(Sn,"length",{get:function(){if(!n.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Pn(i,{flip:function(){return Ge(this,ke(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return rt(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return rt(e,t)})},mapEntries:function(t,e){var n=this,i=0;return Ge(this,this.toSeq().map(function(s,a){return t.call(e,[a,s],i++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ge(this,this.toSeq().flip().map(function(i,s){return t.call(e,i,s,n)}).flip())}});var In=i.prototype;function xn(t,e){return e}function En(t,e){return[e,t]}function Tn(t){return function(){return!t.apply(this,arguments)}}function Dn(t){return function(){return-t.apply(this,arguments)}}function kn(t){return"string"==typeof t?JSON.stringify(t):t}function An(){return O(arguments)}function Ln(t,e){return t<e?1:t>e?-1:0}function jn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return In[u]=!0,In[A]=Sn.entries,In.__toJS=Sn.toObject,In.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+kn(t)},Pn(s,{toKeyedSeq:function(){return new xe(this,!1)},filter:function(t,e){return Ge(this,je(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Ge(this,Le(this,!1))},slice:function(t,e){return Ge(this,Ne(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=S(t,t<0?this.count():this.size);var i=this.slice(0,t);return Ge(this,1===n?i:i.concat(O(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return Ge(this,Ue(this,t,!1))},get:function(t,e){return(t=M(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=M(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ge(this,function(t,e){var n=Qe(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,i){var s=this,a=0;return t.__iterate(function(t,i){return(!a||!1!==n(e,a++,s))&&!1!==n(t,a++,s)},i),a},n.__iteratorUncached=function(n,i){var s,a=t.__iterator(1,i),o=0;return new L(function(){return(!s||o%2)&&(s=a.next()).done?s:o%2?j(n,o++,e):j(n,o++,s.value,s)})},n}(this,t))},interleave:function(){var t=[this].concat(O(arguments)),e=Ve(this.toSeq(),G.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ge(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ge(this,Re(this,t,e,!1))},zip:function(){return Ge(this,Ve(this,An,[this].concat(O(arguments))))},zipWith:function(t){var e=O(arguments);return e[0]=this,Ge(this,Ve(this,t,e))}}),s.prototype[h]=!0,s.prototype[p]=!0,Pn(a,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=Sn.includes,Pn(V,i.prototype),Pn(G,s.prototype),Pn(W,a.prototype),Pn(ht,i.prototype),Pn(pt,s.prototype),Pn(mt,a.prototype),{Iterable:n,Seq:B,Collection:ut,Map:Dt,OrderedMap:Me,List:oe,Stack:fn,Set:sn,OrderedSet:un,Record:Xe,Range:gt,Repeat:lt,is:rt,fromJS:it}}()},"K/+K":function(t){t.exports=JSON.parse('{"data":[{"name":"best_answer","value":"23"},{"name":"score_elearning","value":"92/100","url":"/learn/course/course-id/slug-name","course_title":"Course Title Goes Here"},{"name":"score_classroom","value":"78/100","course_title":"Course Title Goes Here"},{"name":"managed_courses","value":"37","url":"/learn/course/course-id/slug-name"},{"name":"managed_users","value":"124"},{"name":"logged_users","value":"1024"},{"name":"assets_day","value":"210"},{"name":"managed_users","value":"124"},{"name":"logged_users","value":"1024"},{"name":"assets_day","value":"210"}]}')},KVSa:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{init(e){return{type:t.INIT,payload:e}}update(e){return{type:t.UPDATE,payload:e}}replaceSuccess(e){return{type:t.REPLACE_SUCCESS,payload:e}}firstTaskListUpdate(e){return{type:t.FIRST_UPDATE_REQUEST,payload:e}}firstUpdateSuccess(e){return{type:t.FIRST_UPDATE_SUCCESS,payload:e}}loadDataSucces(e){return{type:t.LOAD_DATA_SUCCESS,payload:e}}loadDataReject(e){return{type:t.LOAD_DATA_REJECT,payload:{status:"error",errorMsg:e}}}loadDemoData(e){return{type:t.LOAD_DEMO_DATA,payload:e}}update_page(e){return{type:t.UPDATE_PAGE_NUM,payload:e}}loadStaticData(){return{type:t.LOAD_STATIC_DATA,payload:{}}}}return t.INIT="[WTaskList] Init widget",t.FIRST_UPDATE_REQUEST="[WTaskList] First call of widget API for initial data",t.FIRST_UPDATE_SUCCESS="[WTaskList] The first call of the task list API passed",t.UPDATE="[WTaskList] Update widget Information",t.REPLACE_SUCCESS="[WTaskList] Call of widget API for replace success",t.LOAD_DATA_SUCCESS="[WTaskList] Load widget data",t.LOAD_DATA_REJECT="[WTaskList] Failed loading Custom Widget Page data",t.LOAD_DEMO_DATA="[WTaskList] Load widget demo data",t.UPDATE_PAGE_NUM="[WTaskList] Update the last current pages",t.LOAD_STATIC_DATA="[WTaskList] API Error - Loading static data",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},Karm:function(t,e,n){"use strict";n.d(e,"h",function(){return i}),n.d(e,"d",function(){return s}),n.d(e,"n",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"p",function(){return c}),n.d(e,"a",function(){return l}),n.d(e,"i",function(){return d}),n.d(e,"k",function(){return g}),n.d(e,"j",function(){return u}),n.d(e,"o",function(){return h}),n.d(e,"q",function(){return p}),n.d(e,"r",function(){return m}),n.d(e,"m",function(){return _}),n.d(e,"l",function(){return b}),n.d(e,"f",function(){return f}),n.d(e,"g",function(){return w}),n.d(e,"b",function(){return C});var i=function(t){return t[t.READY="ready"]="READY",t[t.REQUEST_FOR_PLAY="request_for_play"]="REQUEST_FOR_PLAY",t[t.PLAY_REJECTED="play_rejected"]="PLAY_REJECTED",t[t.PLAYING="playing"]="PLAYING",t[t.ACTIVITY_COMPLETED="activity_completed"]="ACTIVITY_COMPLETED",t[t.COURSE_COMPLETED="course_completed"]="COURSE_COMPLETED",t[t.PLAY_REJECT_USERFIELDS="play_reject_userfields"]="PLAY_REJECT_USERFIELDS",t}({}),s=function(t){return t[t.INITIALIZING="initializing"]="INITIALIZING",t[t.READY="ready"]="READY",t[t.PLAYER="player"]="PLAYER",t[t.OVERVIEW="overview"]="OVERVIEW",t[t.UNAUTHORIZED="unauthorized"]="UNAUTHORIZED",t}({}),a=function(t){return t[t.INITIALIZING="initializing"]="INITIALIZING",t[t.REQUEST_SESSION="request_session"]="REQUEST_SESSION",t[t.REQUEST_REJECTED="request_rejected"]="REQUEST_REJECTED",t[t.READY="ready"]="READY",t[t.NO_SESSION="no_sessions"]="NO_SESSION",t[t.SESSION_ENROLLMENT="changeSessionEnrollmentSuccess"]="SESSION_ENROLLMENT",t}({}),o=function(t){return t[t.INITIALIZING="initializing"]="INITIALIZING",t[t.EMPTY="empty"]="EMPTY",t[t.UNAUTHORIZED="unauthorized"]="UNAUTHORIZED",t[t.READY="ready"]="READY",t[t.REQUEST_FOR_PLAY="request_for_play"]="REQUEST_FOR_PLAY",t[t.PLAY_REJECTED="play_rejected"]="PLAY_REJECTED",t[t.PLAYING="playing"]="PLAYING",t[t.PLAY_REJECT_USERFIELDS="play_reject_userfields"]="PLAY_REJECT_USERFIELDS",t}({}),r=function(t){return t.SUBSCRIBED="subscribed",t.IN_PROGRESS="in_progress",t.COMPLETED="completed",t.WAITING="waiting",t}({}),c=function(t){return t[t.SUBSCRIBED="subscribed"]="SUBSCRIBED",t[t.IN_PROGRESS="in_progress"]="IN_PROGRESS",t[t.COMPLETED="completed"]="COMPLETED",t}({}),l=function(t){return t[t.SCORM="scormorg"]="SCORM",t[t.AICC="aicc"]="AICC",t[t.TINCAN="tincan"]="TINCAN",t[t.VIDEO="video"]="VIDEO",t[t.YOUTUBE="youtube"]="YOUTUBE",t[t.WISTIA="wistia"]="WISTIA",t[t.VIMEO="vimeo"]="VIMEO",t[t.FILE="file"]="FILE",t[t.ASSIGNMENT="deliverable"]="ASSIGNMENT",t[t.HTMLPAGE="htmlpage"]="HTMLPAGE",t[t.SURVEY="poll"]="SURVEY",t[t.QUIZ="test"]="QUIZ",t[t.SIGN="sign"]="SIGN",t[t.GOOGLEDRIVE="googledrive"]="GOOGLEDRIVE",t}({}),d=function(t){return t.LOCKED="locked",t.PENDING="pending",t.SIGNED="signed",t}({}),g=function(t){return t[t.IN_PROGRESS="in_progress"]="IN_PROGRESS",t[t.INCOMPLETE="incomplete"]="INCOMPLETE",t[t.COMPLETED="completed"]="COMPLETED",t[t.PASSED="passed"]="PASSED",t[t.ATTEMPTED="attempted"]="ATTEMPTED",t[t.NOT_STARTED="not_started"]="NOT_STARTED",t[t.FAILED="failed"]="FAILED",t}({}),u=function(t){return t[t.LOCKED="locked"]="LOCKED",t[t.MAX_ATTEMPTS="locked_maxattempts"]="MAX_ATTEMPTS",t[t.MAX_NUMBER_VIEWS="max_number_views"]="MAX_NUMBER_VIEWS",t}({}),h=function(t){return t[t.FULL="full"]="FULL",t[t.COMPACT="compact"]="COMPACT",t[t.FLAT="flat"]="FLAT",t}({}),p=function(t){return t[t.ATTENDED="attended"]="ATTENDED",t[t.NOT_ATTENDED="not_attended"]="NOT_ATTENDED",t[t.UPCOMING="upcoming"]="UPCOMING",t}({}),m=function(t){return t[t.ATTENDED="attended"]="ATTENDED",t[t.NOT_ATTENDED="not_attended"]="NOT_ATTENDED",t[t.UPCOMING="upcoming"]="UPCOMING",t}({}),_=function(t){return t[t.NOT_STARTED="not_started"]="NOT_STARTED",t[t.IN_PROGRESS="in_progress"]="IN_PROGRESS",t[t.COMPLETED="completed"]="COMPLETED",t[t.LOCKED="locked"]="LOCKED",t[t.NOT_ENROLLED="not_enrolled"]="NOT_ENROLLED",t}({}),b=function(t){return t[t.INITIALIZING="initializing"]="INITIALIZING",t[t.VIEWING="viewing"]="VIEWING",t[t.UNAUTHORIZED="unauthorized"]="UNAUTHORIZED",t}({}),f=function(t){return t[t.ELEARNING="elearning"]="ELEARNING",t[t.CLASSROOM="classroom"]="CLASSROOM",t[t.WEBINAR="webinar"]="WEBINAR",t[t.LEARNING_PLAN="learning_plan"]="LEARNING_PLAN",t}({}),w=function(t){return t[t.WAITING_LIST="-2"]="WAITING_LIST",t[t.CONFIRMED="-1"]="CONFIRMED",t[t.NOT_STARTED="0"]="NOT_STARTED",t[t.IN_PROGRESS="1"]="IN_PROGRESS",t[t.COMPLETED="2"]="COMPLETED",t[t.SUSPEND="3"]="SUSPEND",t[t.OVERBOOKING="4"]="OVERBOOKING",t}({}),C=function(t){return t.PLAY="play",t.PAUSE="pause",t}({})},KuM8:function(t,e,n){"use strict";n.d(e,"b",function(){return Q}),n.d(e,"a",function(){return J}),n.d(e,"c",function(){return Y});var i=n("mrSG"),s=n("fXoL"),a=n("fYJ8"),o=n("LVoI"),r=n("d+dA"),c=n("dRcD"),l=n("FxmT"),d=n("gvJE"),g=n("0ayN"),u=n("0XDt"),h=n("8lF4"),p=n("bUIS"),m=n("r0xE"),_=n("HDdC"),b=n("cp0P"),f=n("IzEk"),w=n("LC/E"),C=n("SrXe"),O=n("Cz1B"),v=n("myMj"),M=n("QrFL");function y(t){return{adminItems:d.a.t("standard","Admins Only"),puItems:d.a.t("standard",v.h?"Admins and Power Users Only":"Admins Only"),upcomingIltWebLabel:d.a.t("calendar","Upcoming Classroom and Webinar Sessions"),not_started:d.a.t("standard","Not started Courses & Learning Plans"),in_progress:d.a.t("standard","In progress Courses & Learning Plans"),checklist_requiring_action:d.a.t("standard","Checklists requiring action"),task_list:d.a.t("standard","Task List"),task_list_desc:d.a.t("standard","Shows a list of tasks related to the user"),multi_lang:d.a.t("standard","Title"),display_items:d.a.t("standard","Items to Display"),display_subtitle:d.a.t("standard","Select the items you want to show in the widget. Drag & drop to reorder the items."),instructors:d.a.t("standard","Instructors Only"),students:d.a.t("standard","Learners Only"),experts:d.a.t("app7020","Experts only"),pending:d.a.t("course","_USERWAITING"),enrollments:d.a.t("standard","Course enrollment approvals"),assignments:d.a.t("standard","Assignments to evaluate"),check_assignments:d.a.t("standard","Assignments evaluation to check"),overdue:d.a.t("standard","Courses that are overdue"),reward_shop:d.a.t("standard","Reward requests from the reward shop"),transactions:d.a.t("standard","Transaction from the e-commerce in pending state"),tests:d.a.t("standard","Test to evaluate"),deadline:d.a.t("standard","Upcoming deadlines"),assets:d.a.t("standard","Assets to review/approve"),questions:d.a.t("app7020","Questions to answers")}[t]}var P,S=n("Hp0J"),I=n("CTgS"),x=n("sgCL"),E=n("5tGi"),T=n("S2Qf"),D=n("l7P3"),k=n("KVSa"),A=n("Gql0"),L=n("+sIT"),j=n("JA8w"),N=n("Tz1W"),R=n("ofXK"),F=n("u9ID"),U=n("Vqln"),z=n("nUpK"),q=n("z52M");const B=["taskListWidgetTitle"];function V(t,e){if(1&t&&s.ec(0,"widget-title",2,3),2&t){const t=s.vc();s.Dc("widgetTitle",t.widgetTitle)}}function G(t,e){1&t&&(s.jc(0,"div",8),s.jc(1,"div",9),s.ec(2,"ui-spinner"),s.ic(),s.ic())}function W(t,e){if(1&t){const t=s.kc();s.jc(0,"tabs",10),s.rc("onChange",function(e){return s.Uc(t),s.vc(2).switchingTabs(e)}),s.ic()}if(2&t){const t=s.vc(2);s.ad(t.tabsStyle),s.Dc("panels",t.tabPanels)("content_background",t.tabsBackground)("innerContentBackground",t.tabsContentClass)}}const H=function(t){return{"single-tab":t}};function $(t,e){if(1&t&&(s.jc(0,"div",4),s.wc(1,"async"),s.dd(2,G,3,0,"div",5),s.dd(3,W,1,5,"tabs",6),s.ec(4,"blankslate",7),s.ic()),2&t){const t=s.vc();s.cd("min-height",s.xc(1,8,t.widgetHeight)),s.Dc("ngClass",s.Ic(10,H,1===t.tabPanels.length)),s.Mb(2),s.Dc("ngIf",t.showSpinner),s.Mb(1),s.Dc("ngIf",t.showTabs()&&!t.showSpinner),s.Mb(1),s.Dc("isVisible",!t.showTabs()&&!t.showSpinner)("title",t.blankSlateParams.title)("type",t.blankSlateParams.type)}}class Q extends m.a{constructor(){super();const t={name:"superadmin",type:"orderedCheckbox",label:y("adminItems"),fieldConfig:{orderedCheckboxes:[{label:y("transactions"),name:"ecommerce_transactions",checked:!1,position:1}]},defaultValue:"",conditions:null},e=function(){const t=[{label:y("pending"),name:"pending_users",checked:!1},{label:y("enrollments"),name:"pending_enrollment_approvals",checked:!1},{label:y("assignments"),name:"assignments_to_evaluate",checked:!1},{label:y("overdue"),name:"overdue_courses",checked:!1}];if(v.e){const e={label:y("reward_shop"),name:"reward_shop_requests",checked:!1};t.splice(1,0,e)}if(!v.h&&v.c){const e=v.e?2:1,n={label:y("transactions"),name:"ecommerce_transactions",checked:!1};t.splice(e,0,n)}for(let e=0;e<t.length;e++)t[e].position=e+1;return{name:"admin",type:"orderedCheckbox",label:y("puItems"),fieldConfig:{orderedCheckboxes:t},defaultValue:"",hooks:{onValueLoad:M.a}}}(),n={name:"expert",type:"orderedCheckbox",label:y("experts"),fieldConfig:{orderedCheckboxes:[{label:y("assets"),name:"review_assets",checked:!1,position:1},{label:y("questions"),name:"questions_to_answer",checked:!1,position:2}]},defaultValue:"",conditions:{},hooks:{onValueLoad:M.a}},i=[e,{name:"instructor",type:"orderedCheckbox",label:y("instructors"),fieldConfig:{orderedCheckboxes:[{label:y("upcomingIltWebLabel"),name:"upcoming_ilt_webinars",checked:!1,position:1},{label:y("tests"),name:"test_to_evaluate",checked:!1,position:2},{label:y("assignments"),name:"assignments_to_evaluate",checked:!1,position:3}]},defaultValue:"",conditions:{},hooks:{onValueLoad:M.a}},{name:"learner",type:"orderedCheckbox",label:y("students"),fieldConfig:{orderedCheckboxes:[{label:y("upcomingIltWebLabel"),name:"upcoming_ilt_webinars",checked:!1,position:1},{label:y("deadline"),name:"upcoming_deadline",checked:!1,position:2},{label:y("check_assignments"),name:"assignments_to_check",checked:!1,position:3},{label:y("not_started"),name:"not_started",checked:!1,position:4},{label:y("in_progress"),name:"in_progress",checked:!1,position:5},{label:y("checklist_requiring_action"),name:"checklist_requiring_action",checked:!1,position:6}]},defaultValue:"",conditions:{},hooks:{onValueLoad:M.a}}];v.c&&v.h&&i.splice(0,0,t),v.a&&i.splice(1,0,n);const s={name:"tasklist",preview:"/public/images/pages/task-list-widget-preview.gif",heading:y("task_list"),description:y("task_list_desc"),params:[{name:"title",type:"textMultilang",label:y("multi_lang"),legend:d.a.t("dashboard","Leave blank to hide the title"),settings:{showCounter:!0,maxLength:255}},{subFields:i,title:y("display_items"),subtitle:y("display_subtitle"),type:"group",name:"items_to_display_group"},{title:d.a.t("dashboard","Widget height"),subtitle:d.a.t("admin_webpages","When the natural height of the widget content is smaller than the selected height, the widget will be forced to resize to the selected value"),type:"group",name:"group-height",subFields:[{name:"height",type:"text",label:d.a.t("templatemanager","Min height"),defaultValue:null,validation:[u.a.validNumbersRange(1,1e3)],legend:d.a.t("dashboard","Leave blank to use default height")}]}]};this.config=this.initConfig(s),this.formValidator=t=>Object(S.g)(t)}}let J=(()=>{let t=P=class extends p.a{constructor(t,e,n,i,s,a,o){super(),this.store=t,this.actions=e,this.formatter=n,this.docLayoutService=i,this.translationService=s,this.permissionManagerService=a,this.toggleService=o,this.data=v.b,this.tabPanels=[],this.showTabComponent=!1,this.tabsBackground="bg-white",this.tabsStyle=l.a.INLINE,this.tabsContentClass="task-list_content bg-white",this.blankSlateParams={headerButtons:[],title:d.a.t("app7020","No Content"),type:"no-content"},this.widgetHeight=new _.a(t=>{this.widgetTitlePresentInTemplate().subscribe(e=>{if(!this.data.settings.height)return void t.next(0);let n=Number(this.data.settings.height);e&&(n-=this.taskListWidgetTitle.nativeElement.offsetHeight),t.next(n)})}),this.showSpinner=!0,this.tabUserLevels={},this.tabsPermissions=[],void 0!==this.store&&(this.store.dispatch(this.actions.init({})),Object(S.c)("SET",{store:this.store,actions:this.actions}))}ngOnInit(){this.widgetId=this.data.id?this.data.id:Object(o.l)();const t=this.translationService.currentLang,e=r.b.getInstance().default_language;this.setWidgetTitle(t,e),this.data.settings.height&&(this.widgetInnerHeight=Number(this.data.settings.height));const n=this.permissionManagerService.can(g.a.ENROLLMENT_MANAGE_WAITING),i=this.permissionManagerService.can(g.a.ENROLLMENT_EVALUATE),s=this.permissionManagerService.can(g.a.REPORT_UPDATE),a=this.permissionManagerService.can(g.a.USER_APPROVE_WAITING);Object(b.a)([n,i,s,a]).pipe(Object(f.a)(1)).subscribe(t=>{t[0]||this.tabsPermissions.push(I.b.COURSE_ENROLLMENT_APPROVALS),c.a.getInstance().isInstructor()||t[1]&&t[2]||this.tabsPermissions.push(I.b.ASSIGNMENTS_TO_EVALUATE),t[3]||this.tabsPermissions.push(I.b.PENDING_USERS),c.a.getInstance().isCurrentUserA(c.a.LEVEL_SUPERADMIN)||this.tabsPermissions.push(I.b.REWARD_SHOP_REQUESTS),this.reduxListener(),this.initializeTabsPanels()})}ngOnDestroy(){this.reduxSubscriber&&this.reduxSubscriber.unsubscribe()}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(w.k).subscribe(t=>{if(this.currentState=t,a.a.keyExistInObject(this.currentState,"status"))switch(this.currentState.status){case"INITIALIZED":this.showTabComponent=!1;break;case"DATA_LOADED":case"NOT_LOADED":case"FIRST_UPDATE_SUCCESS":if(this.mergeData(this.currentState),a.a.valueUndefined(this.data.customTabData[this.widgetId]))break;this.updateTabsCounters(),this.showTabComponent=!0,this.showSpinner=!1;break;case"API_ERROR":this.docLayoutService.toast.showToast({message:t.errorMsg.message,type:"error"}),this.store.dispatch(this.actions.loadStaticData())}}))}switchingTabs(t){Object(S.c)("SET",{store:this.store,actions:this.actions});const e=t.content.params.tabName,n={tabName:e,page:this.currentState.currentPages[e]||1,skipCPUpdate:!0,otherParams:Object(S.b)(this.formatter,e,{level:this.tabUserLevels[e],widget_height:this.widgetInnerHeight})};Object(S.a)(n,this.widgetId)}showTabs(){return!!this.showTabComponent&&0!==this.tabPanels.length}updateTabsCounters(){if(this.data&&this.data.customTabData)for(let t=0;t<this.tabPanels.length;t++){const e=this.data.customTabData[this.widgetId][this.tabPanels[t].content.params.tabName];this.tabPanels[t].counter=a.a.valueUndefined(e)?0:e.total_count}}sortOrderOfSettings(t){const e=Object.keys(t);let n=[];for(let i=0;i<e.length;i++){const s=e[i];Array.isArray(t[s])&&(t[s]=t[s].sort((t,e)=>t.position-e.position).map(t=>Object.assign(Object.assign({},t),{user_level:"learner"!==s?[s]:["student"]})),n=[...n,...t[s]])}return n.filter(t=>t.checked)}reduceTabsForDisplaying(){const t=Object(S.d)(Object.assign({},this.data.settings)),e=this.sortOrderOfSettings(t),n=[];for(let i=0;i<e.length;i++)for(let t=0;t<e.length;t++)if(i!==t&&e[i].name===e[t].name)for(const s of e[i].user_level)-1===e[t].user_level.indexOf(s)&&(e[i].user_level=e[t].user_level.concat(e[i].user_level),n.push(t));for(let i=0;i<n.length;i++)e.splice(n[i],1);return e}initializeTabsPanels(){if(0!==this.tabPanels.length)return;const t=this.reduceTabsForDisplaying();for(let e=0;e<t.length;e++){if(!t[e].checked)continue;if(t[e].name===I.b.CHECKLIST_REQUIRING_ACTION&&!this.toggleService.isOn(T.f.TOGGLE_CHECKLIST_DUE_IN_TASKLIST))continue;const n=t[e].name;if(Object(S.i)(n)||-1!==this.tabsPermissions.indexOf(n))continue;const i=Object(S.h)(n,t[e].user_level);if(Array.isArray(i))t[e].user_level=i;else if(!i)continue;this.tabUserLevels[n]=t[e].user_level,this.tabPanels.push({title:v.j[n],content:{params:{widgetId:this.widgetId,tabName:n,widgetHeight:this.widgetInnerHeight,isInstructor:t[e].user_level.includes("instructor")},component:this.getComponent(n),counter:0}})}this.tabPanels.length>1&&(this.widgetInnerHeight-=P.TABS_HEADER_HEIGHT),this.widgetTitlePresentInTemplate().subscribe(t=>{t&&(this.widgetInnerHeight-=this.taskListWidgetTitle.nativeElement.offsetHeight),this.tabPanels.map(t=>(t.content.params.widgetHeight=this.widgetInnerHeight,t)),this.loadWidgetInformation()})}widgetTitlePresentInTemplate(){return new _.a(t=>{if(!this.widgetTitle)return void t.next(!1);let e=setInterval(()=>{this.taskListWidgetTitle&&0!==this.taskListWidgetTitle.nativeElement.offsetHeight&&(clearInterval(e),t.next(this.showWidgetTitle()))})})}loadWidgetInformation(){const t=this.reduceTabsForDisplaying(),e={},n={};let i=0;for(let s=0;s<t.length;s++){if(!t[s].checked)continue;const a=t[s].name;if(Object(S.i)(a)||-1!==this.tabsPermissions.indexOf(a))continue;const o=Object(S.h)(a,t[s].user_level);if(Array.isArray(o))t[s].user_level=o;else if(!o)continue;i++,this.tabUserLevels[a]=t[s].user_level,e[a]={},0===i&&(e[a].page=1),e[a]=Object.assign(Object.assign({},e[a]),Object(S.b)(this.formatter,a,{level:t[s].user_level,widget_height:this.widgetInnerHeight})),e[a].counter=!0,n[a]=1}0!==Object.keys(e).length&&(this.store.dispatch(this.actions.update_page({current_pages:n,widgetId:this.widgetId})),this.store.dispatch(this.actions.firstTaskListUpdate({widgetId:this.widgetId,tabs:e,id_user:c.a.getInstance().id})))}showWidgetTitle(){return!!this.widgetTitle||Boolean(this.widgetTitle&&0!==this.tabPanels.length)}getComponent(t){return I.b.CHECKLIST_REQUIRING_ACTION==t?E.a:-1!==v.n.indexOf(String(t))?C.a:O.a}};return t.TABS_HEADER_HEIGHT=53,t.\u0275fac=function(e){return new(e||t)(s.dc(D.d),s.dc(k.a),s.dc(A.b),s.dc(L.a),s.dc(j.a),s.dc(N.a),s.dc(T.g))},t.\u0275cmp=s.Xb({type:t,selectors:[["task-list-widget"]],viewQuery:function(t,e){if(1&t&&s.md(B,1,s.o),2&t){let t;s.Qc(t=s.sc())&&(e.taskListWidgetTitle=t.first)}},features:[s.Jb],decls:2,vars:2,consts:[[3,"widgetTitle",4,"ngIf"],["class","task-list__wrapper wrapper-shadow bg-white",3,"minHeight","ngClass",4,"ngIf"],[3,"widgetTitle"],["taskListWidgetTitle",""],[1,"task-list__wrapper","wrapper-shadow","bg-white",3,"ngClass"],["class","spinner_outter bg-white",4,"ngIf"],["class","inner-tabs",3,"panels","style","content_background","innerContentBackground","onChange",4,"ngIf"],[3,"isVisible","title","type"],[1,"spinner_outter","bg-white"],[1,"spinner_wrapp"],[1,"inner-tabs",3,"panels","content_background","innerContentBackground","onChange"]],template:function(t,e){1&t&&(s.dd(0,V,2,1,"widget-title",0),s.dd(1,$,5,12,"div",1)),2&t&&(s.Dc("ngIf",e.showWidgetTitle()),s.Mb(1),s.Dc("ngIf",0!==(null==e.tabPanels?null:e.tabPanels.length)))},directives:[R.p,F.a,R.n,U.a,z.bd,q.a],pipes:[R.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]    {display:block;position:relative}[_nghost-%COMP%]     .inner-tabs .tabs, [_nghost-%COMP%]     .inner-tabs .tabs .mdl-tabs, [_nghost-%COMP%]     .ng-star-inserted{height:auto}[_nghost-%COMP%]     .task-list__wrapper{display:block;min-height:70px}[_nghost-%COMP%]     blankslate{display:block}[_nghost-%COMP%]     widget-title{display:flex;flex-grow:1}[_nghost-%COMP%]     .task-list-lazyloader-cta-btn{height:39px;border-width:1px 0 0;border-style:solid}[_nghost-%COMP%]     lazy-loader{display:flex;justify-content:flex-end;line-height:.5em;margin:10px 25px}[_nghost-%COMP%]     lazy-loader .loader-wrapper .loader-spinner{padding:0}[_nghost-%COMP%]     .spinner_outter{position:relative;display:block;height:50px}[_nghost-%COMP%]     .spinner_wrapp{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;display:block;width:30px;height:30px}[_nghost-%COMP%]     .spinner_wrapp .ui-spinner-layer{height:100%!important}"]}),t=P=Object(i.b)([Object(h.a)({name:"tasklist",module:"pages",settings:Q})],t),t})();const Y=x},KvBp:function(t,e,n){"use strict";n.d(e,"a",function(){return m}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return O});var i=n("dNZU"),s=n("lfsz"),a=n("e4u3"),o=n("d+dA"),r=n("/76g"),c=n("7vd5"),l=n("aWaq"),d=n("6fYS"),g=n("wd/R"),u=n("f0Wu"),h=function(t){return t.NEW="new",t.APPROVED="approved",t.REJECTED="rejected",t}({}),p=function(t){return t.CLOCK="clock",t.THUMBUP="thumb-up",t.THUMBDOWN="thumb-down",t}({});const m=(t,e,n)=>t||e?Object(i.b)(t||"",e||""):n;function _(t,e){return""!==t&&""!==e?o.b.getInstance().settings.show_first_name_first?t.slice(0,1).toUpperCase()+e.slice(0,1).toUpperCase():e.slice(0,1).toUpperCase()+t.slice(0,1).toUpperCase():null}function b(t){switch(t){case a.a.approved:return p.THUMBUP;case a.a.rejected:return p.THUMBDOWN;case a.a.new:default:return p.CLOCK}}function f(t){const e=s.c.getInstance(),n=t.last_attempt.submission_date,i=t.last_attempt.approval_date,o=t.last_attempt.status,d=t.approver.id===e.id;let g={date:Object(c.d)(new l.a(o===a.a.approved?i:n))};switch(d||(g=Object.assign(Object.assign({},g),{user:m(t.approver.firstname,t.approver.lastname,t.approver.username)})),t.last_attempt.status){case h.APPROVED:return r.a.t("standard",d?"Approved by you on {date}":"Approved by {user} on {date}",g);case h.REJECTED:return r.a.t("standard",d?"Rejected by you on {date}":"Rejected by {user} on {date}",g);case h.NEW:default:return r.a.t("standard",d?"Waiting for your approval since {date}":"Waiting for {user}'s approval since {date}",g)}}function w(t){switch(t){case a.a.approved:return d.l.SUCCESS;case a.a.rejected:return d.l.ERROR;case a.a.new:default:return d.l.NEUTRAL}}function C(t,e){switch(t){case"self":return r.a.t("standard","Self Observation");case"peer":return r.a.t("standard","Peer Observation of {username}",{username:e});case"manager":return r.a.t("standard","Manager Observation of {username}",{username:e});default:return""}}function O(t,e,n,i){const a=s.c.getInstance();return t.map(t=>{var d,h;const p=t.evaluator.id===t.evaluated.id,O=t.evaluator.id===s.c.getInstance().id;t.title=t.course_schedule?t.course_schedule.lo_name:t.checklist.title,t.avatar={initials:_(t.evaluated.firstname,t.evaluated.lastname),image_url:t.evaluated.avatar,properties:{bg_color_class:"bg-main",text_color_class:"text-grey-superlight",icon_class:"zmdi zmdi-account"},size:48},t.fullname=m(t.evaluated.firstname,t.evaluated.lastname,t.evaluated.username),p||(t.subAvatar={initials:_(e?t.evaluator.firstname:a.firstname,e?t.evaluator.lastname:a.lastname),image_url:e?t.evaluator.avatar:a.avatar_url,properties:{bg_color_class:"bg-main",text_color_class:"text-grey-superlight",icon_class:"zmdi zmdi-account"},border:{visible:!0,class:"border-white"},size:24}),t.details=[],(e||!e&&!O)&&t.details.push({class:"text-grey-dark",text:m(t.evaluator.firstname,t.evaluator.lastname,t.evaluator.username)}),t.details.push({class:"text-grey-mid",text:C(t.evaluation_type,t.fullname)}),(null===(h=null===(d=null==t?void 0:t.approval)||void 0===d?void 0:d.last_attempt)||void 0===h?void 0:h.status)&&(t.subDetail={icon:b(t.approval.last_attempt.status),color:w(t.approval.last_attempt.status),text:f(t.approval)});const v={class:"text-grey-mid"};if("completed"===t.status){const e=Object(c.d)(new l.a(t.completion_date));v.text=r.a.t("standard","Completed on {date}",{date:e})}else if(null!==t.end_date){const e=Object(c.j)(),s=new l.a,d=u.tz(t.end_date,e);d.set({hour:23,minute:59,second:59,millisecond:0});const h=new l.a(d),p=h.getDifference(s,"milliseconds");if(p<=0){const t=Object(c.d)(h);v.class="text-error",v.text=r.a.t("standard","Expired on {date}",{date:t})}else{g.updateLocale(a.language,n);const t=g.duration(p);u.tz(t,a.timezone||o.b.getInstance().default_timezone);const e=t.humanize();v.text=`${i.instant("Expires In",{category:"mobile"})} ${e}`}}else v.text=r.a.t("standard",t.based_on_event?"Upon course completion":"Always available, also after completion");return t.based_on_course||(null==t?void 0:t.course_schedule)?"completed"===t.status&&t.details.push(v):t.details.push(v),t})}},KvkH:function(t){t.exports=JSON.parse('{"leaderboards":{"items":[{"id_board":1,"name":"Leaderboard Name","is_active":true,"default":true,"is_visible":false,"positions":[{"points":1598,"last_assign":"2017-11-14 16:06:21","id_user":18876,"userid":"/yoson","is_me":false,"user":{"firstname":"Lilly","lastname":"Maldonato","username":"staff.support","avatar":"//dcd.docebosandbox.com/files/h/y/hydra_tanya_scavaline_com/1510851600/5AR26RlmyI9MVqyEhuMZpA/avatar/"},"percentage":87,"position":2},{"points":272,"last_assign":"2016-11-01 14:35:22","id_user":18323,"userid":"/ms_test7","is_me":false,"user":{"firstname":"John","lastname":"M.","username":"ms_test7","avatar":"https://picsum.photos/80/?random&gravity=north"},"percentage":15,"position":3},{"points":268,"last_assign":"2016-11-01 13:41:13","id_user":18742,"userid":"/ms_test14","is_me":false,"user":{"firstname":"Tifani","lastname":"K.","username":"ms_test14","avatar":"https://picsum.photos/80/?random&gravity=north"},"percentage":15,"position":4},{"points":256,"last_assign":"2017-05-26 06:53:47","id_user":18573,"userid":"/monika.sadinova","is_me":false,"user":{"firstname":"Monika","lastname":"Sadinova","username":"monika.sadinova","avatar":"https://picsum.photos/80/?random&gravity=north"},"percentage":14,"position":5}],"my_position":{"points":1843,"last_assign":"2017-11-14 19:55:36","id_user":13010,"userid":"/staff.support","is_me":true,"user":{"firstname":"Staff","lastname":"Support","username":"staff.support","avatar":"//dcd.docebosandbox.com/files/h/y/hydra_tanya_scavaline_com/1510851600/5AR26RlmyI9MVqyEhuMZpA/avatar/"},"percentage":100,"position":1}},{"id_board":2,"name":"Pav\'s Leaderboard","is_active":"1","default":"0","is_visible":false},{"id_board":3,"name":"Third leaderboard","is_active":true,"default":false,"is_visible":false,"positions":[],"my_position":{"points":1843,"last_assign":"2017-11-14 19:55:36","id_user":13010,"userid":"/staff.support","is_me":true,"user":{"firstname":"Staff","lastname":"Support","username":"staff.support","avatar":"https://picsum.photos/80/?random&gravity=north"},"percentage":100,"position":1}}],"count":3,"has_more_data":false,"cursor":null,"current_page":1,"current_page_size":10,"total_page_count":1,"total_count":3,"sort":[{"sort_attr":"id_board","sort_dir":"asc"}]},"version":"1.0.0","_links":[]}')},"LC/E":function(t,e,n){"use strict";n.d(e,"a",function(){return x}),n.d(e,"c",function(){return T}),n.d(e,"d",function(){return D}),n.d(e,"e",function(){return k}),n.d(e,"f",function(){return A}),n.d(e,"i",function(){return L}),n.d(e,"h",function(){return j}),n.d(e,"l",function(){return N}),n.d(e,"k",function(){return R}),n.d(e,"g",function(){return F}),n.d(e,"j",function(){return U}),n.d(e,"b",function(){return z});var i=n("O8am");const s={status:"NOT_LOADED",customPageData:null,errorMsg:null};var a=n("7Zvt");const o={status:"NOT_LOADED",customPageData:null,errorMsg:null,extradata:null,players:[],currentPlayerId:null,lastQuestionIdDeleted:null,lastQuestionEdited:null};var r=n("2Myo");const c={status:"NOT_LOADED",customPageData:null,errorMsg:null};var l=n("Saua");const d={status:"NOT_LOADED",customPageData:null,errorMsg:null,dataRefreshed:!1};var g=n("Ww7d");const u={status:"NOT_LOADED",customPageData:null,errorMsg:null};var h=n("eRXO");const p={status:"NOT_LOADED",customPageData:null,errorMsg:null};var m=n("a37g"),_=n("fYJ8");const b={status:"NOT_LOADED",gamificationWidget:null,errorMsg:null};var f=n("bS13");const w={status:"NOT_LOADED",customPageData:null,errorMsg:null,id:""};var C=n("KVSa");const O={status:"NOT_LOADED",widget_update:null,customTabData:{},currentPages:{},errorMsg:null};var v=n("l7P3"),M=n("Ms56"),y=n("zmik"),P=n("aHuI"),S=n("ppmK");const I={status:"NOT_LOADED",customPageData:null,errorMsg:null,initParams:null,isDemoPage:!0},x={pagesRenderer:function(t=I,e){switch(e.type){case S.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED",initParams:e.payload.initParams});case S.a.INIT_DEMO_PAGE:return Object.assign(Object.assign({},t),{status:"DEMO_DATA_LOADED",isDemoPage:!0,customPageData:e.payload.data});case S.a.LOAD_DATA_SUCCESS:return Object.assign(Object.assign({},t),{status:"PAGE_DATA_LOADED",customPageData:e.payload.data});case S.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg});default:return t}},wmyprofile:function(t=s,e){switch(e.type){case i.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED"});case i.a.LOAD_DATA_SUCCESS:return Object.assign(Object.assign({},t),{status:"DATA_LOADED",customPageData:e.payload.data});case i.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg});case i.a.LOAD_DEMO_DATA:return Object.assign(Object.assign({},t),{status:"DEMO_DATA_LOADED",customPageData:e.payload.data});default:return t}},wmytransactions:function(t=u,e){switch(e.type){case g.a.TRANSACTIONS_LIST_INITIALIZE:case g.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED"});case g.a.UPDATE:return Object.assign(Object.assign({},t),{status:"UPDATED"});case g.a.LOAD_DATA_SUCCESS:return Object.assign(Object.assign({},t),{status:"DATA_LOADED",customPageData:e.payload.data});case g.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg});case g.a.LOAD_DEMO_DATA:return Object.assign(Object.assign({},t),{status:"DEMO_DATA_LOADED",customPageData:e.payload.data});default:return t}},wcoursesandlearningplansoverview:function(t=c,e){switch(e.type){case r.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED"});case r.a.UPDATE:return Object.assign(Object.assign({},t),{status:"UPDATED"});case r.a.LOAD_DATA_SUCCESS:return Object.assign(Object.assign({},t),{status:"DATA_LOADED",customPageData:e.payload.data});case r.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg});case r.a.LOAD_DEMO_DATA:return Object.assign(Object.assign({},t),{status:"DEMO_DATA_LOADED",customPageData:e.payload.data});default:return t}},wactivitiesstream:function(t=o,e){switch(e.type){case a.a.DELETE_QUESTION:return Object.assign(Object.assign({},t),{status:"QUESTION_DELETED",lastQuestionIdDeleted:e.payload.data.id});case a.a.EDIT_QUESTION:return Object.assign(Object.assign({},t),{status:"QUESTION_DELETED",lastQuestionEdited:{id:e.payload.data.id,title:e.payload.data.title}});case a.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED"});case a.a.UPDATE:return Object.assign(Object.assign({},t),{status:"UPDATED",extradata:e.payload.extradata});case a.a.LOAD_DATA_SUCCESS:return Object.assign(Object.assign({},t),{status:"DATA_LOADED",customPageData:e.payload.data,extradata:e.payload.extradata});case a.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg});case a.a.LOAD_DEMO_DATA:return Object.assign(Object.assign({},t),{status:"DEMO_DATA_LOADED",customPageData:e.payload.data});case a.a.LOAD_SUBMITTED_CONTENT:return Object.assign(Object.assign({},t),{status:"SUBMITTED_CONTENT_LOADED",customPageData:e.payload.data});case a.a.LOAD_ASSET_PLAYER_SUCCESS:return Object.assign(Object.assign({},t),{status:"LOAD_ASSET_PLAYER_SUCCESS",currentPlayerId:e.payload.data.id_asset,players:[...t.players,e.payload.data]});case a.a.LOAD_ASSET_PLAYER_REJECT:return Object.assign(Object.assign({},t),{status:"LOAD_ASSET_PLAYER_REJECT",currentPlayerId:e.payload.data.assetId});case a.a.LOAD_ASSET_PLAYER_DEMO_DATA:return Object.assign(Object.assign({},t),{status:"LOAD_ASSET_PLAYER_DEMO_DATA",currentPlayerId:e.payload.data.id_asset,players:[...t.players,e.payload.data]});case a.a.LOAD_DATA_BY_REMOVING_DELETED_QUESTION:return Object.assign(Object.assign({},t),{status:"LOAD_DATA_BY_REMOVING_DELETED_QUESTION",customPageData:e.payload.data});case a.a.LOAD_DATA_BY_UPDATING_EDITED_QUESTION:return Object.assign(Object.assign({},t),{status:"LOAD_DATA_BY_UPDATING_EDITED_QUESTION",customPageData:e.payload.data});default:return t}},wactivityoverview:function(t=d,e){switch(e.type){case l.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED"});case l.a.LOAD_DATA_SUCCESS:return Object.assign(Object.assign({},t),{status:"DATA_LOADED",customPageData:Object.assign(Object.assign({},t.customPageData),e.payload.data)});case l.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg});case l.a.LOAD_DEMO_DATA:return Object.assign(Object.assign({},t),{status:"DEMO_DATA_LOADED",customPageData:Object.assign(Object.assign({},t.customPageData),e.payload.data)});case l.a.UPDATE:return Object.assign(Object.assign({},t),{status:"INITIALIZED",dataRefreshed:!0});default:return t}},wtrending:function(t=p,e){switch(e.type){case h.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED"});case h.a.UPDATE:return Object.assign(Object.assign({},t),{status:"UPDATED"});case h.a.LOAD_DATA_SUCCESS:return Object.assign(Object.assign({},t),{status:"DATA_LOADED",customPageData:e.payload.data});case h.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg});case h.a.LOAD_DEMO_DATA:return Object.assign(Object.assign({},t),{status:"DEMO_DATA_LOADED",customPageData:e.payload.data});default:return t}},wgamification:function(t=b,e){switch(e.type){case m.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED"});case m.a.UPDATE:return Object.assign(Object.assign({},t),{status:"UPDATED"});case m.a.UPDATE_WIDGET_HEIGHT:const n=e.payload.id,i=e.payload.params;return Object.assign(Object.assign({},t),{height:{[n]:i},status:"UPDATED_HEIGHT"});case m.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg});case m.a.LOAD_DEMO_DATA:case m.a.LOAD_DATA_SUCCESS:const{data:s}=e.payload,{tabs:a}=e.payload.action.payload.params;Object.keys(a),_.a.keyExistInObject(s,"leaderboards")&&(s.leaderboards.items=s.leaderboards.items.filter(t=>t.is_visible));let o=t.gamificationWidget;return o||(o={}),o[e.payload.id]=Object.assign(Object.assign({},o[e.payload.id]),s),Object.assign(Object.assign({},t),{status:"DATA_LOADED",gamificationWidget:Object.assign(Object.assign({},t.gamificationWidget),o)});default:return t}},wmykpis:function(t=w,e){switch(e.type){case f.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED",id:e.payload.id});case f.a.LOAD_DEMO_DATA:case f.a.LOAD_DATA_SUCCESS:return Object.assign(Object.assign({},t),{status:"DATA_LOADED",customPageData:Object.assign(Object.assign({},t.customPageData),e.payload.data),id:e.payload.id});case f.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg,id:e.payload.id});default:return t}},wtasklist:function(t=O,e){let n,i="0";switch(n=Object.assign(Object.assign({},t),{status:"",widget_update:i,customTabData:Object.assign(Object.assign({},t.customTabData),e.payload)}),e.payload&&"object"==typeof e.payload&&1===Object.keys(e.payload).length&&(i=Object.keys(e.payload)[0],n=Object.assign(Object.assign({},t),{customTabData:Object.assign(Object.assign({},t.customTabData),{[i]:Object.assign(Object.assign({},t.customTabData[i]),e.payload[i])})})),e.type){case C.a.INIT:return Object.assign(Object.assign({},t),{status:"INITIALIZED"});case C.a.UPDATE:return Object.assign(Object.assign({},t),{status:"UPDATED"});case C.a.UPDATE_PAGE_NUM:const i=e.payload.widgetId;return delete e.payload.widgetId,Object.assign(Object.assign({},t),{status:"UPDATE_PAGE_NUM",currentPages:Object.assign(Object.assign({},t.currentPages),{[i]:Object.assign(Object.assign({},t.currentPages[i]),e.payload.current_pages)})});case C.a.LOAD_DEMO_DATA:case C.a.LOAD_DATA_SUCCESS:return Object.assign(Object.assign({},n),{status:"DATA_LOADED"});case C.a.FIRST_UPDATE_REQUEST:return Object.assign(Object.assign({},t),{status:"FIRST_UPDATE_REQUEST"});case C.a.FIRST_UPDATE_SUCCESS:return Object.assign(Object.assign({},n),{status:"FIRST_UPDATE_SUCCESS"});case C.a.REPLACE_SUCCESS:return Object.assign(Object.assign({},n),{status:"REPLACE_SUCCESS"});case C.a.LOAD_DATA_REJECT:return Object.assign(Object.assign({},t),{status:"API_ERROR",errorMsg:e.payload.errorMsg});case C.a.LOAD_STATIC_DATA:const{customTabData:s}=O;return Object.assign(Object.assign({},t),{status:"NOT_LOADED",customTabData:s});default:return t}},wsubscriptioncode:function(t=y.a,e){switch(e.type){case P.a.DESTROY:return Object.assign(Object.assign({},y.a),{widgets:Object.assign(Object.assign({},t.widgets),{[e.payload.widgetId]:Object.assign(Object.assign({},y.b),{status:M.a.DESTROYED})})});case P.a.INIT:return Object.assign(Object.assign({},y.a),{widgets:Object.assign(Object.assign({},t.widgets),{[e.payload.widgetId]:Object.assign(Object.assign({},y.b),{status:M.a.INITIALIZED})})});case P.a.POST_SUBSCRIPTION_CODE:return Object.assign(Object.assign({},t),{widgets:Object.assign(Object.assign({},t.widgets),{[e.payload.widgetId]:Object.assign(Object.assign({},t.widgets[e.payload.widgetId]),{checkingSubscriptionCode:!0,status:M.a.POST_SUBSCRIPTION_CODE_IN_PROGRESS})})});case P.a.POST_SUBSCRIPTION_CODE_SUCCESS:return Object.assign(Object.assign({},t),{widgets:Object.assign(Object.assign({},t.widgets),{[e.payload.widgetId]:Object.assign(Object.assign({},t.widgets[e.payload.widgetId]),{checkingSubscriptionCode:!1,data:e.payload.data,status:M.a.POST_SUBSCRIPTION_CODE_SUCCESS})})});case P.a.POST_SUBSCRIPTION_CODE_REJECT:return Object.assign(Object.assign({},t),{widgets:Object.assign(Object.assign({},t.widgets),{[e.payload.widgetId]:Object.assign(Object.assign({},t.widgets[e.payload.widgetId]),{checkingSubscriptionCode:!1,error:e.payload.errorMsg,status:M.a.POST_SUBSCRIPTION_CODE_REJECT})})});default:return t}}},E=Object(v.k)("pages-widgets"),T=Object(v.m)(E,t=>t.wactivitiesstream),D=Object(v.m)(E,t=>t.wactivityoverview),k=Object(v.m)(E,t=>t.wcoursesandlearningplansoverview),A=Object(v.m)(E,t=>t.wgamification),L=Object(v.m)(E,t=>t.wmytransactions),j=Object(v.m)(E,t=>t.wmyprofile),N=Object(v.m)(E,t=>t.wtrending),R=Object(v.m)(E,t=>t.wtasklist),F=Object(v.m)(E,t=>t.wmykpis),U=Object(v.m)(E,t=>t.wsubscriptioncode),z=Object(v.m)(E,t=>t.pagesRenderer)},LNhJ:function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"4_8","sequence":1,"columns":[{"size":"4","sequence":"0","widgets":[{"id":"1","type":"activityoverview","name":{"en":"ActivityOverview","fa":"ActivityOverview","fi":"ActivityOverview","it":"ActivityOverview"},"settings":{"sessions":true,"enrollments":false,"timeframe":"week"}}]},{"size":"8","sequence":"0","widgets":[{"id":"2","type":"activityoverview","name":{"en":"ActivityOverview","fa":"ActivityOverview","fi":"ActivityOverview","it":"ActivityOverview"},"settings":{"sessions":false,"enrollments":true,"timeframe":"month"}}]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"12","sequence":"0","widgets":[{"id":"3","type":"activityoverview","name":{"en":"ActivityOverview","fa":"ActivityOverview","fi":"ActivityOverview","it":"ActivityOverview"},"settings":{"sessions":true,"enrollments":true,"timeframe":"year"}}]}]}]}}')},LQhd:function(t,e,n){"use strict";n.d(e,"b",function(){return bt}),n.d(e,"a",function(){return ft}),n.d(e,"c",function(){return wt});var i,s=n("mrSG"),a=n("fYJ8"),o=n("LVoI"),r=n("d+dA"),c=n("dRcD"),l=n("uhWg"),d=n("gvJE"),g=n("L+gB"),u=n("yRWM"),h=n("0XDt"),p=n("8lF4"),m=n("bUIS"),_=n("r0xE"),b=n("f0Wu"),f=n("LC/E"),w=n("LNhJ"),C=function(t){return t.ALL_CHANNELS="all",t.SINGLE_CHANNEL="single",t}({}),O=n("LN5G"),v=n.n(O),M=n("fXoL"),y=n("l7P3"),P=n("Saua"),S=n("+sIT"),I=n("JA8w"),x=n("ofXK"),E=n("Vqln"),T=n("u9ID"),D=n("vEO/"),k=n("g9In"),A=n("M0pn"),L=n("tyNb"),j=n("nUpK");const N=["canvasBarChart"],R=["canvasBarChartHeader"],F=["widgetTitleWrap"],U=["donutChartWrapper"],z=["barChartwrapper"];function q(t,e){if(1&t&&(M.jc(0,"div",null,4),M.ec(2,"widget-title",5),M.ic()),2&t){const t=M.vc();M.Mb(2),M.Dc("widgetTitle",t.widgetTitle)}}const B=function(){return{category:"widgets"}};function V(t,e){1&t&&(M.hc(0),M.fd(1),M.wc(2,"t"),M.gc()),2&t&&(M.Mb(1),M.hd(" ",M.yc(2,1,"Users Sessions",M.Hc(4,B))," "))}function G(t,e){1&t&&(M.hc(0),M.jc(1,"hyd-ellipsable-text"),M.fd(2),M.wc(3,"t"),M.ic(),M.gc()),2&t&&(M.Mb(2),M.hd(" ",M.yc(3,1,"Users Sessions",M.Hc(4,B))," "))}function W(t,e){1&t&&(M.hc(0),M.fd(1),M.wc(2,"t"),M.gc()),2&t&&(M.Mb(1),M.hd(" ",M.yc(2,1,"User Enrollments",M.Hc(4,B))," "))}function H(t,e){1&t&&(M.hc(0),M.jc(1,"hyd-ellipsable-text"),M.fd(2),M.wc(3,"t"),M.ic(),M.gc()),2&t&&(M.Mb(2),M.hd(" ",M.yc(3,1,"User Enrollments",M.Hc(4,B))," "))}const $=function(t,e,n,i){return{"widget-full":t,"social-activities-enabled":e,"full-size":n,"no-courses-status":i}},Q=function(t){return{"compact-mode":t}},J=function(t){return{"background-color":t}},Y=function(t){return{"no-custom-height":t}};function K(t,e){if(1&t){const t=M.kc();M.jc(0,"div",14,15),M.jc(2,"div",16,17),M.jc(4,"ul",18),M.jc(5,"li",19),M.ec(6,"span",20),M.dd(7,V,3,5,"ng-container",0),M.dd(8,G,4,5,"ng-container",0),M.ic(),M.jc(9,"li",19),M.ec(10,"span",20),M.dd(11,W,3,5,"ng-container",0),M.dd(12,H,4,5,"ng-container",0),M.ic(),M.ic(),M.jc(13,"div",21),M.jc(14,"dropdown",22),M.rc("onChange",function(e){return M.Uc(t),M.vc(2).timeFrameChanged(e)}),M.ic(),M.ic(),M.ic(),M.jc(15,"div",23),M.ec(16,"canvas",24,25),M.ic(),M.ic()}if(2&t){const t=M.vc(2);M.cd("min-height",t.barChartHeight),M.Dc("ngClass",M.Lc(18,$,!t.hasDoughnutChart&&!t.socialAcitivityEnabled,t.socialAcitivityEnabled,12===t.size,t.noCoursesStatusLayotActive)),M.Mb(4),M.Dc("ngClass",M.Ic(23,Q,t.showListLegendCompactVersion)),M.Mb(1),M.Dc("hidden",!t.data.settings.sessions),M.Mb(1),M.Dc("ngStyle",M.Ic(25,J,t.chartColors.blue)),M.Mb(1),M.Dc("ngIf",t.size>=6),M.Mb(1),M.Dc("ngIf",t.size<6),M.Mb(1),M.Dc("hidden",!t.data.settings.enrollments),M.Mb(1),M.Dc("ngStyle",M.Ic(27,J,t.chartColors.lightBlue)),M.Mb(1),M.Dc("ngIf",t.size>=6),M.Mb(1),M.Dc("ngIf",t.size<6),M.Mb(2),M.Dc("options",t.timeFrameOptions)("value",t.timeFrameOptions[1].value),M.Mb(1),M.cd("min-height",t.barChartCanvasHeight),M.Mb(1),M.Fc("id","barchart-",t.widgetId,""),M.Dc("ngClass",M.Ic(29,Y,!t.barChartCanvasHeight))}}function X(t,e){if(1&t&&M.ec(0,"donut-chart",29),2&t){const t=M.vc(3);M.Dc("donutChartData",t.donutChartData)("donutChartOptions",t.donutChartOptions)}}function Z(t,e){if(1&t&&(M.jc(0,"div"),M.fd(1),M.wc(2,"t"),M.ic()),2&t){const t=M.vc(3);M.ad(t.noDoughnutChartStyle),M.Mb(1),M.hd(" ",M.xc(2,3,"No enrollments")," ")}}const tt=function(t){return{"has-social-activities":t}};function et(t,e){if(1&t&&(M.jc(0,"div",26),M.dd(1,X,1,2,"donut-chart",27),M.dd(2,Z,3,5,"div",28),M.ic()),2&t){const t=M.vc(2);M.Dc("ngClass",M.Ic(3,tt,t.socialAcitivityEnabled)),M.Mb(1),M.Dc("ngIf",t.showDoughnutChart),M.Mb(1),M.Dc("ngIf",!t.showDoughnutChart)}}const nt=function(t,e){return{"has-border":t,"compact-mode":e}},it=function(){return{category:"app7020"}};function st(t,e){if(1&t&&(M.jc(0,"div",30),M.jc(1,"div",31),M.jc(2,"h5",32),M.fd(3),M.wc(4,"t"),M.ic(),M.jc(5,"div",33),M.jc(6,"div",34),M.ec(7,"i",35),M.jc(8,"div",36),M.fd(9),M.jc(10,"a",37),M.fd(11),M.wc(12,"t"),M.ic(),M.ic(),M.ic(),M.jc(13,"div",34),M.ec(14,"i",38),M.jc(15,"div",36),M.fd(16),M.jc(17,"a",37),M.fd(18),M.wc(19,"t"),M.ic(),M.ic(),M.ic(),M.ic(),M.ic(),M.ic()),2&t){const t=M.vc(2);M.Dc("ngClass",M.Jc(17,nt,t.hasDoughnutChart,t.showSocialActivitiesCompactVersion)),M.Mb(3),M.gd(M.yc(4,8,"Social Activity",M.Hc(20,B))),M.Mb(6),M.hd(" ",t.invitations," "),M.Mb(1),M.Dc("routerLink",t.socialActivitiesRoutes("all")),M.Mb(1),M.gd(M.yc(12,11,"Invitations",M.Hc(21,it))),M.Mb(5),M.hd(" ",t.contributions," "),M.Mb(1),M.Dc("routerLink",t.socialActivitiesRoutes("single")),M.Mb(1),M.gd(M.yc(19,14,"This week's New Contributions",M.Hc(22,it)))}}const at=function(t){return{"full-size":t}},ot=function(t,e){return{"text-grey-mid active":t,"text-grey":e}},rt=function(t,e){return{"zmdi-chevron-left":t,"zmdi-chevron-right":e}},ct=function(t,e){return{"bg-grey-mid":t,"bg-grey":e}},lt=function(t,e){return{"zmdi-chevron-right":t,"zmdi-chevron-left":e}};function dt(t,e){if(1&t){const t=M.kc();M.jc(0,"footer",39),M.jc(1,"div",40),M.rc("click",function(){return M.Uc(t),M.vc(2).prevSlide()}),M.ec(2,"i",41),M.ic(),M.jc(3,"div",42),M.ec(4,"span",43),M.ec(5,"span",43),M.ic(),M.jc(6,"div",44),M.rc("click",function(){return M.Uc(t),M.vc(2).nextSlide()}),M.ec(7,"i",41),M.ic(),M.ic()}if(2&t){const t=M.vc(2);M.Dc("ngClass",M.Ic(7,at,12===t.size)),M.Mb(1),M.Dc("ngClass",M.Jc(9,ot,t.slideWidget,!t.slideWidget)),M.Mb(1),M.Dc("ngClass",M.Jc(12,rt,!t.isRtl,t.isRtl)),M.Mb(2),M.Dc("ngClass",M.Jc(15,ct,!t.slideWidget,t.slideWidget)),M.Mb(1),M.Dc("ngClass",M.Jc(18,ct,t.slideWidget,!t.slideWidget)),M.Mb(1),M.Dc("ngClass",M.Jc(21,ot,!t.slideWidget,t.slideWidget)),M.Mb(1),M.Dc("ngClass",M.Jc(24,lt,!t.isRtl,t.isRtl))}}const gt=function(t){return{"widget-content-hidden":t}},ut=function(t){return{"slide-widget":t}},ht=function(t,e,n,i){return{"widget-full":t,"full-size":e,"no-courses-status has-border border-grey-superlight":n,"has-border border-grey-superlight":i}};function pt(t,e){if(1&t&&(M.jc(0,"div",6),M.jc(1,"div",7),M.dd(2,K,18,31,"div",8),M.jc(3,"div",9,10),M.dd(5,et,3,5,"div",11),M.dd(6,st,20,23,"div",12),M.ic(),M.ic(),M.dd(7,dt,8,27,"footer",13),M.ic()),2&t){const t=M.vc();M.Dc("ngClass",M.Ic(10,gt,t.showSpinner)),M.Mb(1),M.Dc("ngClass",M.Ic(12,ut,t.slideWidget)),M.Mb(1),M.Dc("ngIf",t.hasBarChart),M.Mb(1),M.cd("min-height",t.barChartHeight),M.Dc("hidden",t.isBlankSlateVisible())("ngClass",M.Lc(14,ht,!t.hasBarChart,12===t.size,t.noCoursesStatusLayotActive,(t.hasDoughnutChart||t.socialAcitivityEnabled)&&t.hasBarChart)),M.Mb(2),M.Dc("ngIf",t.hasDoughnutChart),M.Mb(1),M.Dc("ngIf",t.socialAcitivityEnabled),M.Mb(1),M.Dc("ngIf",t.showFooterNavigation)}}function mt(t,e){1&t&&M.ec(0,"ui-spinner")}const _t=function(t,e,n){return{"nonslide-widget":t,"doughnut-chart":e,"social-activities-enabled":n}};class bt extends _.a{constructor(){super(),this.config=this.initConfig({name:"activityoverview",preview:"/public/images/pages/activity-overview-widget-preview.jpg",heading:d.a.t("widgets","Activity Overview"),description:d.a.t("admin_webpages","Shows statistics related to the user's activities"),params:[{name:"title",type:"textMultilang",label:d.a.t("standard","Title"),legend:d.a.t("dashboard","Leave blank to hide the title"),settings:{showCounter:!0,maxLength:255}},{title:d.a.t("standard","Items to display"),subtitle:d.a.t("admin_webpages","Activate and deactivate the following items by switching the related toggle. You must activate at least one item."),type:"group",name:"group-switches",subFields:[{name:"course-status",type:"switch",defaultValue:!0,label:d.a.t("widgets","Courses status"),legend:d.a.t("widgets",'Shows the status of courses to learners and Superadmins/Power Users (only if they are enrolled as "learners")')},{name:"social",type:"switch",label:d.a.t("widgets","Social Activity"),defaultValue:!1,conditions:{exists:[function(){return r.b.getInstance().isPluginActive("Share7020App")}]},legend:d.a.t("widgets","Shows users pending assets invitations and last-week contributions. This information will be displayed to all user levels.")},{name:"sessions",type:"switch",label:d.a.t("admin_webpages","Total number of users sessions"),defaultValue:!1,legend:d.a.t("widgets","This information will be displayed only to Superadmins and Power Users")},{name:"enrollments",type:"switch",label:d.a.t("admin_webpages","Total number of users enrollments"),defaultValue:!1,legend:d.a.t("widgets","This information will be displayed only to Superadmins and Power Users")}]},{title:d.a.t("dashboard","Widget height"),subtitle:d.a.t("admin_webpages","When the natural height of the widget content is smaller than the selected height, the widget will be forced to resize to the selected value"),type:"group",name:"group-height",subFields:[{name:"height",type:"text",label:d.a.t("templatemanager","Min height"),defaultValue:"",validation:[h.a.validNumbersRange(1,1e3)],legend:d.a.t("admin_webpages","Leave blank to use default height")}]}]}),this.formValidator=t=>function(t){const e=Object.keys(t.controls);let n=!0;for(const i of e)if("title"!==i&&"assignToAll"!==i&&!0===t.controls[i].value){n=!1;break}if(n)return{snackbarError:"You must select at least one item to display in the widget"}}(t)}}let ft=(()=>{let t=i=class extends m.a{constructor(t,e,n,i,s){super(),this.store=t,this.actions=e,this.docLayoutService=n,this._ref=i,this.translationService=s,this.slideWidget=!1,this.hasBarChart=!0,this.hasDoughnutChart=!0,this.doubleDigits=!1,this.tripleDigits=!1,this.blankslate={isVisible:!1,type:u.a.EMPTY002,title:d.a.t("standard","Whoops, there's nothing here"),subtitle:d.a.t("report","Looks like there's nothing for you to do in this area right now.")},this.showSpinner=!0,this.showDoughnutChart=!0,this.noDoughnutChartStyle={},this.designTokenColorBlue=getComputedStyle(document.documentElement).getPropertyValue("--ui-color-typography-accent"),this.designTokenColorMidGrey=getComputedStyle(document.documentElement).getPropertyValue("--ui-color-typography-secondary"),this.designTokenColorDarkGrey=getComputedStyle(document.documentElement).getPropertyValue("--ui-color-typography-primary"),this.designTokenColorLightGrey=getComputedStyle(document.documentElement).getPropertyValue("--ui-color-border-baseline"),this.chartColors={blue:this.designTokenColorBlue,lightBlue:"#64B5F6",grey:"#cccccc",midGrey:this.designTokenColorMidGrey,darkGrey:this.designTokenColorDarkGrey,lightGrey:this.designTokenColorLightGrey,green:"#81C784",orange:"#FFB74D"},this.data={id:"",type:"",settings:{sessions:!1,enrollments:!1,timeframe:""},customPageData:{}},this.timeFrameOptions=[{value:"all",label:d.a.t("admin_webpages","All time")},{value:"year",label:d.a.t("report","_LAST_YEAR")},{value:"month",label:d.a.t("standard","Last month")},{value:"week",label:d.a.t("admin_webpages","Last week")}],this.donutChartData=[],this.donutChartOptions={legend:{title:d.a.t("standard","Courses"),position:l.b.RIGHT,verticalAlignment:l.c.CENTER,itemNameTemplate:l.a.VALUE_NAME,spacing:55},isTitleAndSubtitleVisible:!1,size:200},this.barChartInited=!1,this.doughnutChartInited=!1,this.chartLabels=[],this.sessionsData=[],this.enrollmentsData=[]}ngOnInit(){if(this.widgetId=this.data.id?this.data.id:Object(o.l)(),this.socialAcitivityEnabled=this.data.settings.social&&r.b.getInstance().isPluginActive("Share7020App"),0===c.a.getInstance().id){const t=g.a.singleton.subscribe("UserSessionReady",()=>{if(void 0!==this.store){const t={id:c.a.getInstance().id};this.socialAcitivityEnabled&&(t.social=1,t.interval={from:i.SET_INTERVAL_DATE_FROM,to:i.SET_INTERVAL_DATE_TO}),this.store.dispatch(this.actions.init(t,this.widgetId))}t.unsubscribe()})}else if(void 0!==this.store){const t={id:c.a.getInstance().id};this.socialAcitivityEnabled&&(t.social=1,t.interval={from:i.SET_INTERVAL_DATE_FROM,to:i.SET_INTERVAL_DATE_TO}),this.store.dispatch(this.actions.init(t,this.widgetId))}void 0!==r.b.getInstance().getLangByShortCode(c.a.getInstance().language)&&(this.isRtl=r.b.getInstance().getLangByShortCode(c.a.getInstance().language).is_rtl);const t=this.translationService.currentLang,e=r.b.getInstance().default_language;this.setWidgetTitle(t,e)}ngAfterViewInit(){this.reduxListener()}ngOnDestroy(){this.reduxSubscriber&&this.reduxSubscriber.unsubscribe()}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(f.d).subscribe(t=>{if(this.currentState=t,a.a.keyExistInObject(this.currentState,"status"))switch(this.currentState.status){case"DATA_LOADED":case"DEMO_DATA_LOADED":this.mergeData(this.currentState),this.widgetMinHeight(),this.loadData(),this.showSpinner=!1;break;case"API_ERROR":this.blankslate.isVisible=!0,this.showSpinner=!1,this.docLayoutService.toast.showToast({message:t.errorMsg,type:"error"})}}))}normalizeData(t){let e=t.sessions,n=t.enrollments,i=!0;t.sessions.length>t.enrollments.length?(e=t.sessions,n=t.enrollments):t.sessions.length<t.enrollments.length&&(e=t.enrollments,n=t.sessions,i=!1);const s=e.map(t=>t.day||t.month),a=e.map(t=>t.count),o=[],r=e.length-n.length;if(0!==r){for(let e=0;e<r;e++)o.push(0);let t=0;for(let i=r;i<e.length;i++)o.push(n[t].count)}else for(let c=0;c<n.length;c++)o.push(n[c].count);return{sessions:i?a:o,enrollments:i?o:a,labels:s,invitations:t.invitations?t.invitations:0,contributions:t.new_contributions?t.new_contributions:0}}loadData(){const t=this.data.customPageData[this.widgetId];if(void 0===t)return;if(JSON.stringify(this.cachedData)===JSON.stringify(t))return;this.cachedData=t;const e=this.normalizeData(t);this.sessionsData=e.sessions,this.enrollmentsData=e.enrollments,this.chartLabels=e.labels,this.invitations=e.invitations,this.contributions=e.contributions;const n=t.course_enrollments;this.coursesNotStarted=Number(n.not_started),this.coursesInProgress=Number(n.in_progress),this.coursesCompleted=Number(n.completed),this.coursesCount=this.coursesNotStarted+this.coursesInProgress+this.coursesCompleted,this.hasBarChart=this.isBarChartVisible(),(this.coursesNotStarted||this.coursesInProgress||this.coursesCompleted)>9&&(this.doubleDigits=!0),(this.coursesNotStarted||this.coursesInProgress||this.coursesCompleted)>99&&(this.tripleDigits=!0),this.renderBarChart(),this.timeframe||this.renderDoughnutChart(),this._ref.detectChanges()}timeFrameChanged(t){if(t){if(this.timeframe=t.selectedOption.value,void 0!==this.store){const e={id:c.a.getInstance().id,timeframe:t.selectedOption.value};this.socialAcitivityEnabled&&(e.social=1,e.interval={from:i.SET_INTERVAL_DATE_FROM,to:i.SET_INTERVAL_DATE_TO}),this.store.dispatch(this.actions.update(e,this.widgetId))}this.renderBarChart()}}socialActivitiesRoutes(t){return t===C.ALL_CHANNELS?["/learn/dashboard/channel/13",{type:"assets"}]:["/learn/dashboard",{type:"assets",availableFrom:"week"}]}isBlankSlateVisible(){return 0!==this.coursesCount||this.hasBarChart?!this.hasBarChart&&!(this.hasDoughnutChart||this.socialAcitivityEnabled):!this.socialAcitivityEnabled}onResize(t){this.renderBarChart()}renderBarChart(){if(!this.barChartwrapper)return;const t=this.barChartwrapper.nativeElement.querySelector("#barchart-"+this.widgetId),e={labels:this.chartLabels,datasets:this.setDataBarChart()};if(this.hasBarChart=this.isBarChartVisible(),null===t||!this.hasBarChart)return;const n=t.getContext("2d");if(this.barChartInited)this.barCanvas.config.data=e,this.barCanvas.update(),this.barCanvas.render();else{let t=0;e.datasets.forEach(e=>{e.data.forEach(e=>{parseInt(e)>t&&(t=parseInt(e))})}),this.barCanvas=new v.a(n,{type:"bar",data:e,options:{responsive:!0,maintainAspectRatio:!1,tooltips:!1,legend:{display:!1},hover:{mode:null},animation:{duration:0},scales:{scaleBeginAtZero:!0,barBeginAtOrigin:!0,xAxes:[{barPercentage:1,categoryPercentage:.6,ticks:{fontColor:this.chartColors.grey},gridLines:{display:!1}}],yAxes:[{ticks:{fontColor:this.chartColors.grey,beginAtZero:!0,maxTicksLimit:t<10?5:null},gridLines:{color:this.chartColors.lightGrey,drawTicks:!1,zeroLineColor:this.chartColors.lightGrey}}]}}}),this.barChartInited=!0}}renderDoughnutChart(){0===this.coursesCount&&(this.showDoughnutChart=!1),!1===this.data.settings["course-status"]&&(this.showDoughnutChart=!1,this.hasDoughnutChart=!1),4!==this.size&&12!==this.size||(this.donutChartOptions.size=150,this.donutChartOptions.legend.spacing=30,this.socialAcitivityEnabled||(this.donutChartOptions.size=200,this.donutChartOptions.legend.spacing=20)),6===this.size&&(this.donutChartOptions.size=200,this.donutChartOptions.legend.spacing=30,this.socialAcitivityEnabled||(this.donutChartOptions.size=180)),this.showDoughnutChart?this.donutChartData=[{name:d.a.t("standard","Not started"),value:this.coursesNotStarted,clickable:!1,color:this.chartColors.lightBlue,tooltip:{title:"",body:[d.a.t("standard","{count} not started course(s)",{count:this.coursesNotStarted})]}},{name:d.a.t("standard","In progress"),value:this.coursesInProgress,clickable:!1,color:this.chartColors.orange,tooltip:{title:"",body:[d.a.t("standard","{count} course(s) in progress",{count:this.coursesInProgress})]}},{name:d.a.t("standard","Completed"),value:this.coursesCompleted,clickable:!1,color:this.chartColors.green,tooltip:{title:"",body:[d.a.t("standard","{count} completed course(s)",{count:this.coursesCompleted})]}}]:this.noDoughnutChartStyle={height:this.donutChartOptions.size,lineHeight:this.donutChartOptions.size+"px",textAlign:"center"}}nextSlide(){this.slideWidget=!0}prevSlide(){this.slideWidget=!1}timeframeData(t){switch(t){case"all":return this.translationService.instant("All Time Activity",{category:"admin_webpages"});case"week":return this.translationService.instant("Last Week Activity",{category:"admin_webpages"});case"month":return this.translationService.instant("Last Month Activity",{category:"admin_webpages"});default:return this.translationService.instant("Last Year Activity",{category:"admin_webpages"})}}dataSetObject(t,e){return{data:t,strokeColor:e,backgroundColor:e}}setDataBarChart(){const t=[],e=this.data.settings;return e.sessions&&t.push(this.dataSetObject(this.sessionsData,this.chartColors.blue)),e.enrollments&&t.push(this.dataSetObject(this.enrollmentsData,this.chartColors.lightBlue)),t}get noCoursesStatusLayotActive(){return this.hasBarChart&&!this.hasDoughnutChart&&this.socialAcitivityEnabled&&4!==this.size}get showFooterNavigation(){return!(!this.hasBarChart||!this.hasDoughnutChart)||!(!this.hasBarChart||this.hasDoughnutChart||!this.socialAcitivityEnabled||4!==this.size)||void 0}get showSocialActivitiesCompactVersion(){return(6===this.size||8===this.size)&&this.hasDoughnutChart}get showListLegendCompactVersion(){return(6===this.size||8===this.size)&&!this.hasDoughnutChart&&this.hasBarChart}widgetMinHeight(){let t=0,e=0;if(this.widgetTitleWrap&&(t=this.widgetTitleWrap.nativeElement.offsetHeight+i.WIDGET_TITLE_MARGIN),this.canvasBarChartHeader&&(e=this.canvasBarChartHeader.nativeElement.offsetHeight),this.data.settings.sessions||this.data.settings.enrollments){if(this.data.settings.height&&this.data.settings.height>=375){const e=this.data.settings.height-t;this.widgetHeight=e>375?e:375}this.barChartHeight=this.widgetHeight,this.barChartCanvasHeight=this.barChartHeight-(i.WIDGET_BODY_PADDING+e+i.ACTIVITY_CHART_PAGINATION_OFFSET)}else if(this.data.settings["course-status"]){if(this.data.settings.height&&this.data.settings.height>=330){const e=this.data.settings.height-t;this.widgetHeight=e>330?e:330}}else this.data.settings.height&&this.data.settings.height>375&&(this.widgetHeight=this.data.settings.height-t,this.barChartHeight=this.widgetHeight,this.barChartCanvasHeight=this.barChartHeight-(i.WIDGET_BODY_PADDING+e+i.ACTIVITY_CHART_PAGINATION_OFFSET))}isBarChartVisible(){return!(!c.a.getInstance().isCurrentUserA(c.a.LEVEL_SUPERADMIN)&&!c.a.getInstance().isCurrentUserA(c.a.LEVEL_POWERUSER)||!this.data.settings.sessions&&!this.data.settings.enrollments)}};return t.ACTIVITY_CHART_FOOTER_OFFSET=20,t.ACTIVITY_CHART_PAGINATION_OFFSET=40,t.WIDGET_TITLE_MARGIN=20,t.WIDGET_BODY_PADDING=40,t.SET_INTERVAL_DATE_TO=b().format("YYYY-MM-DD"),t.SET_INTERVAL_DATE_FROM=b().subtract(7,"d").format("YYYY-MM-DD"),t.\u0275fac=function(e){return new(e||t)(M.dc(y.d),M.dc(P.a),M.dc(S.a),M.dc(M.i),M.dc(I.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["activity-overview-widget"]],viewQuery:function(t,e){if(1&t&&(M.md(N,1),M.md(R,1),M.md(F,1),M.md(U,1),M.md(z,1)),2&t){let t;M.Qc(t=M.sc())&&(e.canvasBarChart=t.first),M.Qc(t=M.sc())&&(e.canvasBarChartHeader=t.first),M.Qc(t=M.sc())&&(e.widgetTitleWrap=t.first),M.Qc(t=M.sc())&&(e.donutChartWrapper=t.first),M.Qc(t=M.sc())&&(e.barChartwrapper=t.first)}},hostBindings:function(t,e){1&t&&M.rc("resize",function(t){return e.onResize(t)},!1,M.Tc)},features:[M.Jb],decls:6,vars:16,consts:[[4,"ngIf"],[1,"widget-activity","wrapper-shadow","bg-white",3,"ngClass"],["class","widget-content",3,"ngClass",4,"ngIf"],[3,"type","title","isVisible","subtitle"],["widgetTitleWrap",""],[3,"widgetTitle"],[1,"widget-content",3,"ngClass"],[1,"widget-entry",3,"ngClass"],["class","widget chart-bars bg-white",3,"ngClass","minHeight",4,"ngIf"],[1,"widget","chart-doughnut","bg-white",3,"hidden","ngClass"],["donutChartWrapper",""],["class","widget-body",3,"ngClass",4,"ngIf"],["class","social-activities border-grey-superlight",3,"ngClass",4,"ngIf"],["class","widget-foot border-grey-light",3,"ngClass",4,"ngIf"],[1,"widget","chart-bars","bg-white",3,"ngClass"],["barChartwrapper",""],[1,"widget-head","text-grey-mid"],["canvasBarChartHeader",""],[1,"list-legend",3,"ngClass"],[3,"hidden"],[1,"bullet",3,"ngStyle"],[1,"timeframe-dropdown"],[3,"options","value","onChange"],[1,"widget-body"],["width","900","height","320",3,"ngClass","id"],["canvasBarChart",""],[1,"widget-body",3,"ngClass"],[3,"donutChartData","donutChartOptions",4,"ngIf"],[3,"style",4,"ngIf"],[3,"donutChartData","donutChartOptions"],[1,"social-activities","border-grey-superlight",3,"ngClass"],[1,"activities-inner-wrap"],[1,"text-grey-mid","bolded"],[1,"activities-wrap","mdl-grid"],[1,"activities-counter","mdl-cell","mdl-cell--6-col"],[1,"zmdi","zmdi-accounts-add","text-main"],[1,"social-numbers"],[1,"text-main",3,"routerLink"],[1,"zmdi","zmdi-comment-outline","text-main"],[1,"widget-foot","border-grey-light",3,"ngClass"],[1,"prev",3,"ngClass","click"],[1,"zmdi",3,"ngClass"],[1,"dots"],[1,"dot",3,"ngClass"],[1,"next",3,"ngClass","click"]],template:function(t,e){1&t&&(M.jc(0,"div"),M.dd(1,q,3,1,"div",0),M.jc(2,"div",1),M.dd(3,pt,8,19,"div",2),M.dd(4,mt,1,0,"ui-spinner",0),M.ec(5,"blankslate",3),M.ic(),M.ic()),2&t&&(M.cd("min-height",null==e.data.settings?null:e.data.settings.height),M.Mb(1),M.Dc("ngIf",e.widgetTitle),M.Mb(1),M.cd("min-height",e.widgetHeight),M.Dc("ngClass",M.Kc(12,_t,!e.hasBarChart||!e.hasDoughnutChart,e.hasDoughnutChart&&!e.hasBarChart,e.socialAcitivityEnabled)),M.Mb(1),M.Dc("ngIf",!e.isBlankSlateVisible()),M.Mb(1),M.Dc("ngIf",e.showSpinner),M.Mb(1),M.Dc("type",e.blankslate.type)("title",e.blankslate.title)("isVisible",e.isBlankSlateVisible())("subtitle",e.blankslate.subtitle))},directives:[x.p,x.n,E.a,T.a,x.q,D.a,k.a,A.a,L.k,j.bd],pipes:[d.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]{position:relative;min-height:330px}[_nghost-%COMP%]   .widget-activity.doughnut-chart[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}[_nghost-%COMP%]   .widget-activity.doughnut-chart[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}[_nghost-%COMP%]   .widget-activity.doughnut-chart[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%]{padding:20px 25px;box-sizing:border-box}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{margin-bottom:10px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{text-align:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%], [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content-hidden[_ngcontent-%COMP%]{opacity:0;visibility:hidden}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{width:65%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.no-courses-status[_ngcontent-%COMP%]{width:85%}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.full-size[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-height:230px;height:230px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{max-width:100%;min-height:235px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   canvas.no-custom-height[_ngcontent-%COMP%]{max-height:250px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:18px;display:inline-block}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:right}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:25px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:25px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .timeframe-dropdown[_ngcontent-%COMP%]    {margin-top:-20px;max-width:150px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .timeframe-dropdown[_ngcontent-%COMP%]    {float:right}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .timeframe-dropdown[_ngcontent-%COMP%]    {float:left}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .timeframe-dropdown[_ngcontent-%COMP%]     .dropdown-wrapper{min-width:150px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{overflow:hidden;padding:20px 0;display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.full-size.has-border[_ngcontent-%COMP%]{border-style:solid;flex-direction:column;position:absolute;top:0;right:0;bottom:0;width:35%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.full-size.has-border[_ngcontent-%COMP%]{border-left-width:1px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.full-size.has-border[_ngcontent-%COMP%]{border-right-width:1px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.full-size.has-border.no-courses-status[_ngcontent-%COMP%]{width:15%}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.full-size.has-border.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]{max-width:165px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.full-size.has-border.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:30px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.full-size[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{width:100%;margin-top:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.full-size[_ngcontent-%COMP%]   .social-activities.has-border[_ngcontent-%COMP%]{border-top-width:1px;border-style:solid;margin-top:15px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.full-size[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]{max-width:550px;margin:0 auto}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut.widget-full[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .social-numbers[_ngcontent-%COMP%]{max-width:75%}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:170px;height:170px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{float:right}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{margin-right:42px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{margin-left:42px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{margin-bottom:20px;font-size:12px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]{overflow:hidden;padding-top:15px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:20px;font-size:18px;color:var(--ui-color-typography-primary)}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:14px;white-space:nowrap}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:inline-block;padding:0 4px;margin-bottom:0;line-height:24px;vertical-align:middle}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:right}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:left}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{overflow:hidden;max-width:71%;text-overflow:ellipsis}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.double[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:22px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.triple[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:32px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{padding:0 25px;box-sizing:border-box;width:100%}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding:20px 25px 10px;margin-top:15px;box-sizing:border-box}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities.compact-mode[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]{max-width:135px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities.compact-mode[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:30px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .social-numbers[_ngcontent-%COMP%]{display:inline-block;max-width:100px;font-size:16px;vertical-align:top}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .social-numbers[_ngcontent-%COMP%]{margin-left:5px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .social-numbers[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .social-numbers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;display:block}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .social-numbers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;margin-top:-4px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:20px;font-weight:600}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.widget-full[_ngcontent-%COMP%]{float:none;width:100%}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{height:38px;border-width:1px 0 0;border-style:solid;line-height:34px;text-align:center}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]   .dots[_ngcontent-%COMP%]{display:inline-block;padding:0 15px;vertical-align:middle}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:5px;height:5px;border-radius:50%;margin:0 3px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%], [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%]{display:inline-block;padding:5px;font-size:22px;vertical-align:middle}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]   .next.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]   .prev.active[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend.compact-mode[_ngcontent-%COMP%]{max-width:150px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend.compact-mode[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend.compact-mode[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend.compact-mode[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{position:relative;top:8px;width:8px;height:8px;border-radius:50%;display:inline-block}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{float:right}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{margin-right:5px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{margin-right:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{margin-left:5px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]     hyd-ellipsable-text .ellipsed{width:calc(100% - 13px)}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   ui-spinner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]{overflow:hidden;position:relative;min-height:375px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{transition:transform .5s}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{transform:translateX(-100%)}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{width:auto}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{float:none}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{width:75%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{float:right}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.full-size[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.full-size[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{min-height:220px;height:220px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{flex-direction:row}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]{padding-top:25px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{margin:0 -10px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{overflow:hidden;padding:0 10px;text-overflow:ellipsis;box-sizing:border-box}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:unset}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:inline-block}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%]{width:70%}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{vertical-align:top;margin-top:45px;display:inline-block}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-right:10px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-left:10px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{float:right}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{float:left}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{margin-bottom:30px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]{transform:translateX(100%)}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{transform:none;width:25%;border-style:solid;flex-direction:column;position:absolute;top:0;right:0;left:auto;bottom:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{border-left-width:1px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{border-right-width:1px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{right:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{left:auto}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{left:0}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]{max-width:165px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:30px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;left:0;right:0}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%]{display:block}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{overflow:visible;position:absolute;top:0;bottom:0;right:0;left:0}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{bottom:40px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]{overflow:hidden;position:relative;min-height:375px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{transition:transform .5s}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{transform:translateX(-100%)}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{width:auto}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{float:none}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{width:75%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{float:right}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.full-size[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.full-size[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{min-height:220px;height:220px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{flex-direction:row}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]{padding-top:25px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{margin:0 -10px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{overflow:hidden;padding:0 10px;text-overflow:ellipsis;box-sizing:border-box}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:unset}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:inline-block}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%]{width:70%}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{vertical-align:top;margin-top:45px;display:inline-block}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-right:10px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-left:10px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{float:right}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{float:left}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{margin-bottom:30px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]{transform:translateX(100%)}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{transform:none;width:25%;border-style:solid;flex-direction:column;position:absolute;top:0;right:0;left:auto;bottom:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{border-left-width:1px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{border-right-width:1px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{right:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{left:auto}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{left:0}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]{max-width:165px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:30px}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;left:0;right:0}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], .widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%]{display:block}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{overflow:visible;position:absolute;top:0;bottom:0;right:0;left:0}.widgets-column-inherit-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{bottom:40px}@media screen and (max-width:992px){.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]{overflow:hidden;position:relative;min-height:375px}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{transition:transform .5s}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{transform:translateX(-100%)}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{width:auto}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{float:none}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{width:75%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{float:right}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.full-size[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{min-height:220px;height:220px}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{flex-direction:row}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]{padding-top:25px}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{margin:0 -10px}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{overflow:hidden;padding:0 10px;text-overflow:ellipsis;box-sizing:border-box}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:unset}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:inline-block}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%]{width:70%}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{vertical-align:top;margin-top:45px;display:inline-block}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-right:10px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-left:10px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{float:right}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{float:left}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{margin-bottom:30px}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]{transform:translateX(100%)}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{transform:none;width:25%;border-style:solid;flex-direction:column;position:absolute;top:0;right:0;left:auto;bottom:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{border-left-width:1px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{border-right-width:1px}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{right:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{left:auto}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{left:0}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]{max-width:165px}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:30px}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;left:0;right:0}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%]{display:block}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{overflow:visible;position:absolute;top:0;bottom:0;right:0;left:0}.widgets-column-medium   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{bottom:40px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]{overflow:hidden;position:relative;min-height:375px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{transition:transform .5s}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{transform:translateX(-100%)}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{width:auto}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{float:none}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{width:75%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.no-courses-status[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars.social-activities-enabled.full-size[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{min-height:220px;height:220px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{flex-direction:row}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]{padding-top:25px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{margin:0 -10px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{overflow:hidden;padding:0 10px;text-overflow:ellipsis;box-sizing:border-box}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:unset}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%]{width:70%}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{vertical-align:top;margin-top:45px;display:inline-block}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-right:10px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-left:10px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{float:right}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{float:left}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{margin-bottom:30px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]{transform:translateX(100%)}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{transform:none;width:25%;border-style:solid;flex-direction:column;position:absolute;top:0;right:0;left:auto;bottom:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{border-left-width:1px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{border-right-width:1px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{right:0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{left:auto}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]{left:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]{max-width:165px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut.no-courses-status[_ngcontent-%COMP%]   .activities-inner-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:30px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;left:0;right:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{overflow:visible;position:absolute;top:0;bottom:0;right:0;left:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{bottom:40px}}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:365px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity.nonslide-widget[_ngcontent-%COMP%]{height:320px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity.nonslide-widget.social-activities-enabled[_ngcontent-%COMP%]{height:335px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity.nonslide-widget[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{bottom:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{max-width:150px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{overflow:visible;position:absolute;top:0;bottom:40px;right:0;left:0;transition:transform .5s}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{transform:translateX(-100%)}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%]{display:block}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{flex-direction:column}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{align-items:left}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{align-items:right}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{display:block}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]{padding-top:15px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{margin:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:none;max-width:100%;padding:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.double[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:22px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.triple[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:32px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{min-height:165px;display:block}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%]{width:100%;padding-top:15px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{max-width:100%;margin-top:15px;display:block;width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-right:25px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-left:25px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities.has-border[_ngcontent-%COMP%]{border-top-width:1px;border-style:solid}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{width:calc(50% - 30px)}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]{transform:translateX(100%);display:flex;align-items:center;width:100%}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;left:0;right:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:365px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity.nonslide-widget[_ngcontent-%COMP%]{height:320px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity.nonslide-widget.social-activities-enabled[_ngcontent-%COMP%]{height:335px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity.nonslide-widget[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{bottom:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{max-width:150px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{overflow:visible;position:absolute;top:0;bottom:40px;right:0;left:0;transition:transform .5s}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{transform:translateX(-100%)}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%]{display:block}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{flex-direction:column}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{align-items:left}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{align-items:right}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{display:block}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]{padding-top:15px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{margin:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:none;max-width:100%;padding:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.double[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:22px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.triple[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:32px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{min-height:165px;display:block}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%]{width:100%;padding-top:15px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{max-width:100%;margin-top:15px;display:block;width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-right:25px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-left:25px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities.has-border[_ngcontent-%COMP%]{border-top-width:1px;border-style:solid}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{width:calc(50% - 30px)}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]{transform:translateX(100%);display:flex;align-items:center;width:100%}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;left:0;right:0}@media screen and (max-width:640px){.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:365px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity.nonslide-widget[_ngcontent-%COMP%]{height:320px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity.nonslide-widget.social-activities-enabled[_ngcontent-%COMP%]{height:335px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity.nonslide-widget[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{bottom:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{max-width:150px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{overflow:visible;position:absolute;top:0;bottom:40px;right:0;left:0;transition:transform .5s}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{transform:translateX(-100%)}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%]{display:block}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{flex-direction:column}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{align-items:left}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{align-items:right}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{display:block}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]{padding-top:15px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{margin:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:none;max-width:100%;padding:0}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.double[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:22px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.triple[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:32px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{min-height:165px;display:block}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%]{width:100%;padding-top:15px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{max-width:100%;margin-top:15px;display:block;width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-right:25px}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-left:25px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities.has-border[_ngcontent-%COMP%]{border-top-width:1px;border-style:solid}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{width:calc(50% - 30px)}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]{transform:translateX(100%);display:flex;align-items:center;width:100%}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}.widgets-column-small   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;left:0;right:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:365px}[_nghost-%COMP%]   .widget-activity.nonslide-widget[_ngcontent-%COMP%]{height:320px}[_nghost-%COMP%]   .widget-activity.nonslide-widget.social-activities-enabled[_ngcontent-%COMP%]{height:335px}[_nghost-%COMP%]   .widget-activity.nonslide-widget[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{bottom:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{max-width:150px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-right:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry[_ngcontent-%COMP%]{overflow:visible;position:absolute;top:0;bottom:40px;right:0;left:0;transition:transform .5s}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-entry.slide-widget[_ngcontent-%COMP%]{transform:translateX(-100%)}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget[_ngcontent-%COMP%], [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot.full-size[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{flex-direction:column}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{align-items:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]{align-items:right}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]{padding-top:15px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:none;max-width:100%;padding:0}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.double[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:22px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-legend[_ngcontent-%COMP%]   .list-legend.triple[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{min-width:32px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body[_ngcontent-%COMP%]{min-height:165px;display:block}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .widget-body.has-social-activities[_ngcontent-%COMP%]{width:100%;padding-top:15px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{max-width:100%;margin-top:15px;display:block;width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-right:25px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]{padding-left:25px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities.has-border[_ngcontent-%COMP%]{border-top-width:1px;border-style:solid}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-doughnut[_ngcontent-%COMP%]   .social-activities[_ngcontent-%COMP%]   .activities-wrap[_ngcontent-%COMP%]   .activities-counter[_ngcontent-%COMP%]{width:calc(50% - 30px)}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]{transform:translateX(100%);display:flex;align-items:center;width:100%}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget.chart-bars[_ngcontent-%COMP%] + .chart-doughnut[_ngcontent-%COMP%]   .widget-head[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}[_nghost-%COMP%]   .widget-activity[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{display:block;position:absolute;bottom:0;left:0;right:0}}[_nghost-%COMP%]     #donut-chart-legend.legend-right.center{max-width:inherit!important}[_nghost-%COMP%]     .donut-chart-content .donut-chart-wrapper.center{justify-content:center}"]}),t=i=Object(s.b)([Object(p.a)({name:"activityoverview",module:"pages",settings:bt})],t),t})();const wt=w},MgzW:function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(s){return!1}}()?Object.assign:function(t,e){for(var n,r,c=o(t),l=1;l<arguments.length;l++){for(var d in n=Object(arguments[l]))s.call(n,d)&&(c[d]=n[d]);if(i){r=i(n);for(var g=0;g<r.length;g++)a.call(n,r[g])&&(c[r[g]]=n[r[g]])}}return c}},Ms56:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.DESTROYED=0]="DESTROYED",t[t.INITIALIZED=1]="INITIALIZED",t[t.NOT_LOADED=2]="NOT_LOADED",t[t.POST_SUBSCRIPTION_CODE_IN_PROGRESS=3]="POST_SUBSCRIPTION_CODE_IN_PROGRESS",t[t.POST_SUBSCRIPTION_CODE_REJECT=4]="POST_SUBSCRIPTION_CODE_REJECT",t[t.POST_SUBSCRIPTION_CODE_SUCCESS=5]="POST_SUBSCRIPTION_CODE_SUCCESS",t}({})},"O/UX":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("/kKY"),s=n("fXoL"),a=n("ofXK"),o=n("hU5d"),r=n("+uwM");function c(t,e){if(1&t&&s.ec(0,"activities-stream-item-asset-comments-item",5),2&t){const t=e.$implicit,n=s.vc(2);s.Dc("comment",t)("params",n.commentsParams())}}function l(t,e){if(1&t&&(s.jc(0,"div",3),s.dd(1,c,1,2,"activities-stream-item-asset-comments-item",4),s.ic()),2&t){const t=s.vc();s.Mb(1),s.Dc("ngForOf",t.params.comments)}}function d(t,e){if(1&t&&s.ec(0,"activities-stream-item-asset-comments-subitem",5),2&t){const t=e.$implicit,n=s.vc(2);s.Vb("best-answer",t.isBestAnswer),s.Dc("comment",t)("params",n.commentsParams())}}function g(t,e){if(1&t&&(s.jc(0,"div",6),s.dd(1,d,1,4,"activities-stream-item-asset-comments-subitem",7),s.ic()),2&t){const t=s.vc();s.Mb(1),s.Dc("ngForOf",t.params.comments)}}let u=(()=>{class t{constructor(){this.commentItemType=i.a}commentsParams(){return{activityId:this.params.activityId,type:this.params.type,widgetId:this.params.widgetId}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xb({type:t,selectors:[["activities-stream-item-asset-comments"]],inputs:{itemType:"itemType",params:"params"},decls:3,vars:3,consts:[[1,"root",3,"ngSwitch"],["class","item-container",4,"ngSwitchCase"],["class","subitem-container",4,"ngSwitchCase"],[1,"item-container"],[3,"comment","params",4,"ngFor","ngForOf"],[3,"comment","params"],[1,"subitem-container"],[3,"comment","params","best-answer",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(s.jc(0,"div",0),s.dd(1,l,2,1,"div",1),s.dd(2,g,2,1,"div",2),s.ic()),2&t&&(s.Dc("ngSwitch",e.itemType),s.Mb(1),s.Dc("ngSwitchCase",e.commentItemType.item),s.Mb(1),s.Dc("ngSwitchCase",e.commentItemType.subitem))},directives:[a.r,a.s,a.o,o.a,r.a],encapsulation:2}),t})()},O8am:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{init(){return{type:t.INIT}}loadDataReject(e){return{type:t.LOAD_DATA_REJECT,payload:{status:"error",errorMsg:e}}}loadDataSucces(e){return{type:t.LOAD_DATA_SUCCESS,payload:{data:e}}}loadDemoData(e){return{type:t.LOAD_DEMO_DATA,payload:{data:e}}}}return t.INIT="[WMyprofile] Init widget",t.LOAD_DATA_SUCCESS="[WMyprofile] Load widget data",t.LOAD_DATA_REJECT="[WMyprofile] Failed loading Custom Widget Page data",t.LOAD_DEMO_DATA="[WMyprofile] Load widget demo data",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},PsRC:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("/76g"),s=n("NJk+");class a{constructor(){this.sectionTitle=i.a.t("standard","Thumbnail"),this.description=i.a.t("standard","The minimum suggested image dimension is {width}x{height}px. Maximum file size {fileSize}MB.",{width:s.a.THUMBNAIL_DATA.width,height:s.a.THUMBNAIL_DATA.height,fileSize:s.a.THUMBNAIL_DATA.maxSize}),this.uploadImageLabel=i.a.t("standard","Upload Image"),this.cropper={cancel:i.a.t("standard","Cancel"),confirm:i.a.t("course_management","Crop & Apply"),title:i.a.t("app7020","Content Thumbnail"),subtitle:i.a.t("standard","Select the area of the image that you would like to include in the {image_type} and crop it.",{image_type:"thumbnail"})}}}},QaRh:function(t){t.exports=JSON.parse('{"data":{"id":62,"code":null,"names":{"type":"single_value","value":"Gamification Widget","values":[]},"descriptions":null,"icon":"zmdi zmdi-view-dashboard","built_in":0,"type":"widget","is_public":0,"published":1,"settings":[{"id":"general","name":"General Settings","descriptions":"Manage the page\'s general settings","data":[]}],"rows":[{"id":"63","sequence":"0","is_full_width":"0","is_full_height":"0","content_align":"middle","background":{"type":"no-color"},"layout":"4_8","is_mobile":false,"columns":[{"sequence":0,"widgets":[{"id":"113","position":{"row":0,"column":0,"sequence":0},"type":"gamification","name":{"type":"single_value","value":"Gamify","values":[]},"settings":{"assignToAll":true,"viewAllLink":true,"displayItems":[{"name":"badges","label":{"args":{"category":"gamification"},"query":"Badges","category":"gamification"},"checked":true,"position":1},{"name":"leaderboards","label":{"args":{"category":"gamification"},"query":"Leaderboards","category":"gamification"},"checked":true,"position":2},{"name":"contests","label":{"args":{"category":"gamification"},"query":"Contests","category":"gamification"},"checked":true,"position":3}],"notYetAwarded":true,"translationsLocalizableFields":{"name":{"ar":null,"bg":null,"bs":null,"cs":null,"da":null,"de":null,"el":null,"en":"Gamify","es":null,"fa":null,"fi":null,"fr":null,"he":null,"hr":null,"hu":null,"id":null,"it":null,"ja":null,"kk":null,"ko":null,"lt":null,"nl":null,"no":null,"pl":null,"pt":null,"ro":null,"ru":null,"sl":null,"sv":null,"th":null,"tr":null,"uk":null,"zh":null,"pt-br":null,"es-419":null}}}}],"size":4},{"sequence":1,"widgets":[{"id":"113","position":{"row":0,"column":0,"sequence":0},"type":"gamification","name":{"type":"single_value","value":"Gamify","values":[]},"settings":{"assignToAll":true,"viewAllLink":true,"displayItems":[{"name":"badges","label":{"args":{"category":"gamification"},"query":"Badges","category":"gamification"},"checked":true,"position":1},{"name":"leaderboards","label":{"args":{"category":"gamification"},"query":"Leaderboards","category":"gamification"},"checked":true,"position":2},{"name":"contests","label":{"args":{"category":"gamification"},"query":"Contests","category":"gamification"},"checked":true,"position":3}],"notYetAwarded":true,"translationsLocalizableFields":{"name":{"ar":null,"bg":null,"bs":null,"cs":null,"da":null,"de":null,"el":null,"en":"Gamify","es":null,"fa":null,"fi":null,"fr":null,"he":null,"hr":null,"hu":null,"id":null,"it":null,"ja":null,"kk":null,"ko":null,"lt":null,"nl":null,"no":null,"pl":null,"pt":null,"ro":null,"ru":null,"sl":null,"sv":null,"th":null,"tr":null,"uk":null,"zh":null,"pt-br":null,"es-419":null}}}}],"size":8}]},{"id":"64","sequence":"1","is_full_width":"0","is_full_height":"0","content_align":"middle","background":{"type":"no-color"},"layout":"6_6","is_mobile":false,"columns":[{"sequence":0,"widgets":[{"id":"115","position":{"row":1,"column":0,"sequence":0},"type":"gamification","name":{"type":"single_value","value":"Gamify","values":[]},"settings":{"assignToAll":true,"viewAllLink":true,"displayItems":[{"name":"badges","label":{"args":{"category":"gamification"},"query":"Badges","category":"gamification"},"checked":true,"position":1},{"name":"leaderboards","label":{"args":{"category":"gamification"},"query":"Leaderboards","category":"gamification"},"checked":true,"position":2},{"name":"contests","label":{"args":{"category":"gamification"},"query":"Contests","category":"gamification"},"checked":true,"position":3}],"notYetAwarded":true,"translationsLocalizableFields":{"name":{"ar":null,"bg":null,"bs":null,"cs":null,"da":null,"de":null,"el":null,"en":"Gamify","es":null,"fa":null,"fi":null,"fr":null,"he":null,"hr":null,"hu":null,"id":null,"it":null,"ja":null,"kk":null,"ko":null,"lt":null,"nl":null,"no":null,"pl":null,"pt":null,"ro":null,"ru":null,"sl":null,"sv":null,"th":null,"tr":null,"uk":null,"zh":null,"pt-br":null,"es-419":null}}}}],"size":6},{"sequence":1,"widgets":[],"size":6}]}],"widgets_limit":10}}')},QrFL:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(t,e)=>{const n=[];for(const s of t){let t=e.find(t=>t.name===s.name);t?t.label=s.label:t=s,n.push(t)}n.sort((t,e)=>t.position-e.position);let i=1;return n.map(t=>(t.position=i,i++,t)),n}},"Rj/4":function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"4","sequence":"0","widgets":[]},{"size":"4","sequence":"0","widgets":[{"id":"0","type":"myprofile","settings":{"showUserEmail":true,"showUserProfilePicture":true,"showMyActivitiesLink":true,"showMyProfileLink":true,"additionalFieldsToShow":["999991","999992","999993","999994"],"translationsLocalizableFields":{"title":{"en":"My Profile","fa":"My Profile","fi":"My Profile","it":"My Profile"}}}}]},{"size":"4","sequence":"0","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"4","sequence":"0","widgets":[{"id":"0","type":"myprofile","settings":{"showUserEmail":true,"showUserProfilePicture":true,"showMyActivitiesLink":false,"showMyProfileLink":false,"additionalFieldsToShow":[],"translationsLocalizableFields":{"title":{"en":"My Profile","fa":"My Profile","fi":"My Profile","it":"My Profile"}}}}]},{"size":"4","sequence":"0","widgets":[{"id":"0","type":"myprofile","settings":{"showUserEmail":true,"showUserProfilePicture":false,"showMyActivitiesLink":false,"showMyProfileLink":false,"additionalFieldsToShow":[],"translationsLocalizableFields":{"title":{"en":"My Profile","fa":"My Profile","fi":"My Profile","it":"My Profile"}}}}]},{"size":"4","sequence":"0","widgets":[{"id":"0","type":"myprofile","settings":{"showUserEmail":false,"showUserProfilePicture":false,"showMyActivitiesLink":false,"showMyProfileLink":false,"additionalFieldsToShow":[],"translationsLocalizableFields":{"title":{"en":"My Profile","fa":"My Profile","fi":"My Profile","it":"My Profile"}}}}]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"3","sequence":"0","widgets":[]},{"size":"6","sequence":"0","widgets":[{"id":"0","type":"myprofile","settings":{"showUserEmail":true,"showUserProfilePicture":true,"showMyActivitiesLink":true,"showMyProfileLink":true,"additionalFieldsToShow":["999991","999992","999995","999994"],"translationsLocalizableFields":{"title":{"en":"My Profile","fa":"My Profile","fi":"My Profile","it":"My Profile"}}}}]},{"size":"3","sequence":"0","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"2","sequence":"0","widgets":[]},{"size":"8","sequence":"0","widgets":[{"id":"0","type":"myprofile","settings":{"showUserEmail":true,"showUserProfilePicture":true,"showMyActivitiesLink":true,"showMyProfileLink":true,"additionalFieldsToShow":["999991","999992","999993","999995","999994"],"translationsLocalizableFields":{"title":{"en":"My Profile","fa":"My Profile","fi":"My Profile","it":"My Profile"}}}}]},{"size":"2","sequence":"0","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"12","sequence":"0","widgets":[{"id":"0","type":"myprofile","settings":{"showUserEmail":true,"showUserProfilePicture":true,"showMyActivitiesLink":true,"showMyProfileLink":true,"additionalFieldsToShow":["999991","999992","999993","999995","999994","999996"],"translationsLocalizableFields":{"title":{"en":"My Profile","fa":"My Profile","fi":"My Profile","it":"My Profile"}}}}]}]}]}}')},RyVW:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("fn6i"),s=n("fXoL"),a=n("l7P3"),o=n("AurG"),r=n("+s/G");let c=(()=>{class t{constructor(t,e,n){this.store=t,this.widgetRenderActions=e,this.widgetRenderService=n}init(){i.a.map(t=>{this.widgetRenderService.registerSingleWidget(t,"pages")}),this.setActiveModuleInCoreStore()}setActiveModuleInCoreStore(){this.store.dispatch(this.widgetRenderActions.setActiveModule("pages"))}canActivate(){try{return this.setActiveModuleInCoreStore(),!0}catch(t){return!1}}canActivateChild(){return this.canActivate()}}return t.\u0275fac=function(e){return new(e||t)(s.nc(a.d),s.nc(o.a),s.nc(r.a))},t.\u0275prov=s.Zb({token:t,factory:t.\u0275fac}),t})()},S7nU:function(t){t.exports=JSON.parse('{"data":{"id_asset":99996,"title":"Nam faucibus dapibus dapibus.","player_type":"link_player","config":{"total_pages":0,"tracking":{"enabled":true}},"content":{"name_original":"http://example.com/","name_converted":"a15405a2a02831ce0a07879c406d13be.JPG","filesize":false,"sources":[{"url":"http://example.com/"}],"thumbnail":[{"small":"/public/images/pages/image2.png"},{"video":"/public/images/pages/image2.png"},{"carousel":"/public/images/pages/image2.png"},{"original":"/public/images/pages/image2.png"}]},"description":"<p>Etiam vel tortor ligula. Pellentesque id sagittis felis.</p>","content_type":15},"version":"1.0.0","_links":[]}')},SJmp:function(t,e,n){"use strict";n.d(e,"a",function(){return I});var i=n("fXoL"),s=n("XNiG"),a=n("BvzM"),o=n("LC/E"),r=n("wZxL"),c=n("l7P3"),l=n("7Zvt"),d=n("Y9qQ"),g=n("ofXK"),u=n("UQPH"),h=n("2Hr6"),p=n("jcE0"),m=n("ZW3K"),_=n("Wtrq"),b=n("xIAn");function f(t,e){1&t&&i.ec(0,"div",3)}function w(t,e){if(1&t){const t=i.kc();i.jc(0,"div",6),i.jc(1,"player-download",7),i.rc("download",function(){return i.Uc(t),i.vc(2).trackDownload()}),i.ic(),i.ic()}if(2&t){const t=i.vc(2);i.Mb(1),i.Dc("downloadViewerActive",t.downloadViewerActive)("description",t.params.description)("filename",t.params.filename)("filesize",t.params.filesize)("url",t.params.url)}}function C(t,e){if(1&t){const t=i.kc();i.jc(0,"div",6),i.jc(1,"player-flowplayer",8),i.rc("play",function(){return i.Uc(t),i.vc(2).trackFlowplayerPlay()})("progress",function(e){return i.Uc(t),i.vc(2).trackFlowplayerProgress(e)}),i.ic(),i.ic()}if(2&t){const t=i.vc(2);i.Mb(1),i.Dc("bookmark",t.params.config.bookmark)("cuepoints",t.params.config.cuepoints)("disable_hls",t.params.config.disable_hls)("has_fullscreen",t.params.config.fullscreen)("hls_url",t.params.hls_url)("is_seekable",t.params.config.seekable)("key",t.params.config.key)("mime_type",t.params.mime_type)("mp4_url",t.params.mp4_url)("speedControlEnabled",!0)("splash",t.params.splash)("subtitles",t.params.config.subtitles)("tooltips",t.params.config.tooltips)("track_interval",t.params.config.spent_time.interval)}}function O(t,e){if(1&t){const t=i.kc();i.jc(0,"div",6),i.jc(1,"iframe-gdrive",9),i.rc("complete",function(){return i.Uc(t),i.vc(2).trackGoogleComplete()}),i.ic(),i.ic()}if(2&t){const t=i.vc(2);i.Mb(1),i.Dc("url",t.params.url)}}function v(t,e){if(1&t){const t=i.kc();i.jc(0,"div",6),i.jc(1,"slides-player",10),i.rc("changeSlide",function(e){return i.Uc(t),i.vc(2).trackChangeSlide(e)}),i.ic(),i.ic()}if(2&t){const t=i.vc(2);i.Mb(1),i.Dc("slides",t.params.slidesSources)}}function M(t,e){if(1&t){const t=i.kc();i.jc(0,"div",6),i.jc(1,"player-link",11),i.rc("complete",function(){return i.Uc(t),i.vc(2).trackCompleteLink()}),i.ic(),i.ic()}if(2&t){const t=i.vc(2);i.Mb(1),i.Dc("description",t.params.description)("filename",t.params.filename)("image",t.params.image)("url",t.params.url)}}function y(t,e){if(1&t){const t=i.kc();i.jc(0,"div",6),i.jc(1,"slides-player",12),i.rc("changeSlide",function(e){return i.Uc(t),i.vc(2).trackChangeSlide(e)}),i.ic(),i.ic()}if(2&t){const t=i.vc(2);i.Mb(1),i.Dc("bookmark",t.params.config.bookmark||0)("slides",t.params.slidesSources)}}function P(t,e){if(1&t){const t=i.kc();i.jc(0,"div",6),i.jc(1,"player-iframe",13),i.rc("progress",function(e){return i.Uc(t),i.vc(2).trackIframeProgress(e)}),i.ic(),i.ic()}if(2&t){const t=i.vc(2);i.Mb(1),i.Dc("bookmark",t.params.config.bookmark)("track_interval",t.params.config.track_interval)("url",t.params.url)}}function S(t,e){if(1&t&&(i.jc(0,"div",4),i.dd(1,w,2,5,"div",5),i.dd(2,C,2,14,"div",5),i.dd(3,O,2,1,"div",5),i.dd(4,v,2,1,"div",5),i.dd(5,M,2,4,"div",5),i.dd(6,y,2,2,"div",5),i.dd(7,P,2,3,"div",5),i.ic()),2&t){const t=i.vc();i.Dc("ngSwitch",t.type),i.Mb(1),i.Dc("ngSwitchCase",t.assetType.download_player),i.Mb(1),i.Dc("ngSwitchCase",t.assetType.flowplayer),i.Mb(1),i.Dc("ngSwitchCase",t.assetType.google_player),i.Mb(1),i.Dc("ngSwitchCase",t.assetType.image),i.Mb(1),i.Dc("ngSwitchCase",t.assetType.link_player),i.Mb(1),i.Dc("ngSwitchCase",t.assetType.cc_player),i.Mb(1),i.Dc("ngSwitchCase",t.assetType.embeded)}}let I=(()=>{class t extends r.a{constructor(t,e,n,o){super(),this.store=t,this.actions=e,this.backendService=n,this.changeDetectorRef=o,this.loadFailed=new i.q,this.assetType=a.a,this.downloadViewerActive=new s.a,this.state={showPlayer:!1},this.subscribes={track:null,spentTime:null}}ngOnInit(){void 0!==this.store&&this.store.dispatch(this.actions.loadAssetPlayer({assetId:this.assetId})),this.reduxListener()}ngOnDestroy(){this.reduxSubscriber.unsubscribe(),null!==this.subscribes.track&&this.subscribes.track.unsubscribe(),null!==this.subscribes.spentTime&&this.subscribes.spentTime.unsubscribe()}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(o.c).subscribe(t=>{switch(t.status){case"LOAD_ASSET_PLAYER_SUCCESS":case"LOAD_ASSET_PLAYER_DEMO_DATA":t.currentPlayerId===this.assetId&&this.renderPlayer(t.players.filter(t=>t.id_asset===this.assetId)[0]);break;case"LOAD_ASSET_PLAYER_REJECT":t.currentPlayerId===this.assetId&&this.loadFailed.emit()}}))}showPlayer(){return this.state.showPlayer}trackChangeSlide(t){t.initial&&this.params.config.tracking.enabled&&this.getTrackRequest(this.params.id_asset)}trackCompleteLink(){this.params.config.tracking.enabled&&this.getTrackRequest(this.params.id_asset)}trackDownload(){this.params.config.tracking.enabled&&this.getTrackRequest(this.params.id_asset)}trackFlowplayerPlay(){this.params.config.tracking.enabled&&this.getTrackRequest(this.params.id_asset)}trackFlowplayerProgress(t){t.diff&&!this.params.config.spent_time.enabled&&this.getSpentTimeRequest(this.params.id_asset,t.diff)}trackGoogleComplete(){this.params.config.tracking.enabled&&this.getTrackRequest(this.params.id_asset)}trackIframeProgress(t){t.diff&&this.params.config.tracking.enabled&&this.getTrackRequest(this.params.id_asset),t.diff&&this.params.config.spent_time.enabled&&this.getSpentTimeRequest(this.params.id_asset,t.diff)}getTrackRequest(t){this.subscribes.track=this.backendService.request(`/share/v1/assets/${t}/track`,"PUT").subscribe()}getSpentTimeRequest(t,e){this.subscribes.spentTime=this.backendService.request(`/share/v1/assets/${t}/spent_time?time=${e}&inhours=false`,"PUT").subscribe()}getVideoCover(){const t=this.params&&this.params.hasOwnProperty("content")?this.params.content:null;let e;return t&&(e=t.thumbnails&&t.thumbnails.hasOwnProperty("cover")?t.thumbnails.cover:null),e}processParams(){switch(this.params.type){case a.a.download_player:this.params=Object.assign(Object.assign({},this.params),{url:(t=this.params.url,()=>t)}),this.params.filesize=this.params.content.filesize;break;case a.a.flowplayer:const e={hls:this.params.sources.find(t=>"application/x-mpegurl"===t.type),mp4:this.params.sources.find(t=>"video/mp4"===t.type),mp3:this.params.sources.find(t=>"audio/mp3"===t.type)};this.params.hls_url=void 0!==e.hls?e.hls.src:null,this.params.mp4_url=void 0!==e.mp4?e.mp4.src:void 0!==e.mp3?e.mp3.src:null,this.params.mime_type=void 0!==e.hls?e.hls.type:void 0!==e.mp4?e.mp4.type:void 0!==e.mp3?e.mp3.type:null,this.params.splash=this.getVideoCover();break;case a.a.google_player:"string"==typeof this.params.url&&(this.params.url=(t=>()=>t)(this.params.url));break;case a.a.link_player:this.params.image=this.params.content.thumbnail.cover?this.params.content.thumbnail.cover:"/themes/spt/images/contribute/link.gif"}var t}renderPlayer(t){this.params=t,this.setType(),this.processParams(),this.setState({showPlayer:!0}),this.changeDetectorRef.detectChanges(),this.changeDetectorRef.markForCheck()}setType(){this.type=this.params.type}}return t.\u0275fac=function(e){return new(e||t)(i.dc(c.d),i.dc(l.a),i.dc(d.a),i.dc(i.i))},t.\u0275cmp=i.Xb({type:t,selectors:[["activities-stream-item-asset-player"]],inputs:{assetId:"assetId"},outputs:{loadFailed:"loadFailed"},features:[i.Jb],decls:3,vars:2,consts:[[1,"root"],["class","container not-loaded bg-grey-superlight",4,"ngIf"],["class","wrapper",3,"ngSwitch",4,"ngIf"],[1,"container","not-loaded","bg-grey-superlight"],[1,"wrapper",3,"ngSwitch"],["class","container",4,"ngSwitchCase"],[1,"container"],[3,"downloadViewerActive","description","filename","filesize","url","download"],[3,"bookmark","cuepoints","disable_hls","has_fullscreen","hls_url","is_seekable","key","mime_type","mp4_url","speedControlEnabled","splash","subtitles","tooltips","track_interval","play","progress"],[3,"url","complete"],[3,"slides","changeSlide"],[3,"description","filename","image","url","complete"],[3,"bookmark","slides","changeSlide"],[3,"bookmark","track_interval","url","progress"]],template:function(t,e){1&t&&(i.jc(0,"div",0),i.dd(1,f,1,0,"div",1),i.dd(2,S,8,8,"div",2),i.ic()),2&t&&(i.Mb(1),i.Dc("ngIf",!e.showPlayer()),i.Mb(1),i.Dc("ngIf",e.showPlayer()))},directives:[g.p,g.r,g.s,u.a,h.a,p.a,m.a,_.a,b.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.container[_ngcontent-%COMP%]{padding:0;overflow:hidden;transition:padding .2s ease}.container.not-loaded[_ngcontent-%COMP%]{padding-bottom:56.25%}[_nghost-%COMP%]   player-link[_ngcontent-%COMP%]     .mdl-shadow--2dp{box-shadow:none}"]}),t})()},SUlJ:function(t){t.exports=JSON.parse('{"contests":{"items":[{"id":20,"from_date":"2016-10-24 00:00:00","to_date":"2016-10-28 23:59:59","timezone":"Europe/Rome","goal":"Complete the highest number of courses","name":"Gamification widget always shows horizontal scrolling task","description":"","rank":1,"id_badge":1,"score":5,"icon":"//d12pk5efbey2ld.cloudfront.net/files/assets/badges/original/d94f8ae514f41d7e046c774e1d9fee2a.png"},{"id":20,"from_date":"2016-10-24 00:00:00","to_date":"2018-10-28 23:59:59","timezone":"Europe/Rome","goal":"Complete the highest number of courses","name":"Gamification widget always shows horizontal scrolling task","description":"","rank":11,"id_badge":null,"score":null,"icon":null}],"extra_data":[{"name":"Upcoming contest","from_date":"2017-11-26 00:00:00","to_date":"2017-11-30 23:59:59","timezone":"Europe/Sofia"},{"name":"Lily","from_date":"2017-11-30 00:00:00","to_date":"2017-12-31 23:59:59","timezone":"Europe/Sofia"},{"name":"English nameeeeeeeeeeeeeeeeeeeeeeeeeeeeeee","from_date":"2017-11-26 00:00:00","to_date":"2017-11-30 23:59:59","timezone":"America/Detroit"}],"count":1,"has_more_data":false,"cursor":null,"current_page":1,"current_page_size":10,"total_page_count":1,"total_count":1,"sort":[{"sort_attr":"from_date","sort_dir":"asc"}]}}')},Saua:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{init(e,n){return{type:t.INIT,payload:Object.assign({key:n},e)}}update(e,n){return{type:t.UPDATE,payload:Object.assign({key:n},e)}}loadDataSucces(e,n){return{type:t.LOAD_DATA_SUCCESS,payload:{key:n,data:e}}}loadDataReject(e,n){return{type:t.LOAD_DATA_REJECT,payload:{key:n,status:"error",errorMsg:e}}}loadDemoData(e,n){return{type:t.LOAD_DEMO_DATA,payload:{key:n,data:e}}}}return t.INIT="[WActivityOverview] Init widget",t.UPDATE="[WActivityOverview] Update widget",t.LOAD_DATA_SUCCESS="[WActivityOverview] Load widget data",t.LOAD_DATA_REJECT="[WActivityOverview] Failed loading Custom Widget Page data",t.LOAD_DEMO_DATA="[WActivityOverview] Load widget demo data",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},SrXe:function(t,e,n){"use strict";n.d(e,"a",function(){return it});var i=n("yRWM"),s=n("LC/E"),a=n("myMj"),o=n("Hp0J"),r=n("gvJE");const c={somethingWentWrong:r.a.t("standard","Something went wrong. Please, try again later!"),wellDone:r.a.t("standard","Well Done."),nothingIsHappening:r.a.t("standard","Nothing\u2019s happening here right now. Take a well-deserved break."),userSuccessfullyApproved:r.a.t("standard","User successfully approved"),userNotSuccessfullyApproved:r.a.t("standard","User was not successfully approved"),userSuccessfullyRejected:r.a.t("standard","User successfully rejected"),userNotSuccessfullyRejected:r.a.t("standard","User was not successfully rejected"),emailSentSuccessfully:r.a.t("standard","The email was send successfully"),rewardStatusUpdated:r.a.t("gamification","Reward status successfully updated"),messageSentSuccessfully:r.a.t("standard","Message was sent successfully")};var l=n("CTgS");function d(t,e){let n=e;switch(t){case l.b.PENDING_USERS:n=n.map(t=>Object.assign(Object.assign({},t),{actions:[...t.actions,"approve_user","reject_user"]}));break;case l.b.REWARD_SHOP_REQUESTS:n=n.map(t=>{const e={category:"gamification",key:"Reward request update #{requestId}",params:{requestId:t.id_transaction}};let n=[];switch(t.status){case"waiting":return n=["approve_reward","reject_reward"],t.email&&n.push("send_msg"),Object.assign(Object.assign({},t),{subject:e,actions:n});case"rejected":case"approved":return n=["reset_reward"],t.email&&n.push("send_msg"),Object.assign(Object.assign({},t),{subject:e,actions:n});default:return t}});break;case l.b.ECCOMERCE_TRANSACTIONS:n=n.map(t=>Object.assign(Object.assign({},t),{actions:["view_transaction"]}));break;case l.b.COURSE_ENROLLMENT_APPROVALS:n=n.map(t=>Object.assign(Object.assign({},t),{actions:["enrollment_actions"]}));break;case l.b.OVERDUE_COURSES:n=n.map(t=>{const e=t.enroll_end_date;return Object.assign(Object.assign({},t),{overdue:null!==e?e:t.course_end_date,subject:{category:"course",key:"Overdue Course: {course_name}",params:{course_name:t.name}},actions:["send_msg"]})})}return n}var g=n("cIHy"),u=n("fXoL"),h=n("Y9qQ"),p=n("tyNb"),m=n("4P8L"),_=n("35q8"),b=n("+sIT"),f=n("Gql0"),w=n("eUoY"),C=n("JA8w");let O=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c){this.backendService=t,this.router=e,this.loader=n,this.pageService=i,this.docLayoutService=s,this.formatterService=a,this.sendUserMsg=o,this.translationService=r,this.changeDetectorRef=c,this.tableRowItems={},this.tabData=null}setCurrentData(t,e,n,i,s,a){this.widgetId=t,this.widgetHeight=e,this.tabName=n,this.tableRowItems=i,this.tabData=s,this.currentPages=a}getTableActions(){return[{id:"resend_email",title:a.m.resend_email,action:t=>{this.resendConfirmEmailDialog(t)},active:!0},{id:"view_info",title:a.m.view_info,action:t=>{this.viewUserInfo(t)},active:!0},{id:"approve_user",title:a.m.approve,action:t=>{this.approveRejectPendingUser(t,l.e.APPROVE)},active:!0},{id:"reject_user",title:a.m.reject,action:t=>{this.approveRejectPendingUser(t,l.e.REJECT)},active:!0},{id:"approve_reward",title:a.m.approve,action:t=>{this.changeRewardStatus(t,"approved")},active:!0},{id:"reject_reward",title:a.m.reject,action:t=>{this.changeRewardStatus(t,"rejected")},active:!0},{id:"reset_reward",title:a.m.reset,action:t=>{this.changeRewardStatus(t,"pending")},active:!0},{id:"send_msg",title:a.m.send_msg,action:t=>{this.sendUserMessage(t)},active:!0},{id:"view_transaction",title:a.m.view_transaction,action:()=>{this.router.navigate(Object(o.f)(this.tabName))},active:!0}]}approveRejectPendingUser(t,e){this.performUserAction(e,{user_ids:t.user_id}).then(()=>{this.docLayoutService.toast.showToast({message:e===l.e.APPROVE?c.userSuccessfullyApproved:c.userSuccessfullyRejected,type:"success"}),this.refreshTableData()},()=>{this.docLayoutService.toast.showToast({message:e===l.e.APPROVE?c.userNotSuccessfullyApproved:c.userNotSuccessfullyRejected,type:"error"})})}viewUserInfo(t){this.loader.showWiseLoader(),this.performUserAction(l.e.VIEW,void 0,t.user_id).then(t=>{const e=t&&t.response?t.response.data:{};this.loader.hideWiseLoader(),this.pageService.rightPanel.setWidth(500),this.pageService.rightPanel.setTitle(a.p.title),this.pageService.rightPanel.setDescription(a.p.description),this.pageService.rightPanel.setActions([{type:"normal",properties:{text:a.p.action},handler:t=>{t.close()}}]),this.pageService.rightPanel.setContent({params:{userData:e.user_data,additionalFields:e.additional_fields},component:g.a}),this.pageService.rightPanel.open()},()=>{this.docLayoutService.toast.showToast({message:c.somethingWentWrong,type:"error"})})}resendConfirmEmailDialog(t){this.pageService.dialog.open({width:500,height:240,title:a.i.title,content:a.i.content,type:"confirmation",show_confirmation_check:!0,confirmation_check_text:a.i.confirmation_check_text,actions:[{type:"cancel",properties:{text:a.i.cancel},handler:t=>{t.close()}},{type:"normal",properties:{text:a.i.confirm},handler:e=>this.resendEmail(e,t)}]})}resendEmail(t,e){this.performUserAction(l.e.RESEND,void 0,e.user_id).then(e=>{this.docLayoutService.toast.showToast({message:e&&e.response&&e.response.data&&e.response.data[0]?e.response.data[0]:c.emailSentSuccessfully,type:"success"}),t.close()},e=>{this.docLayoutService.toast.showToast({message:e.error.message?e.error.message:c.somethingWentWrong,type:"error"}),t.close()})}changeRewardStatus(t,e){this.changeRewardStatusRequest(t.id_transaction,{status:e}).then(()=>{this.docLayoutService.toast.showToast({message:c.rewardStatusUpdated,type:"success"}),this.refreshTableData()},t=>{this.docLayoutService.toast.showToast({message:c.somethingWentWrong,type:"error"})})}sendUserMessage(t){let e;const n={params:{idUser:t&&t.user_id?t.user_id:t.id_user},visualOptions:{rightPanel:{showPanelDesc:!0},rightPanelContent:{mailSubject:new r.b(this.translationService,this.changeDetectorRef).transform(r.a.t(t.subject.category,t.subject.key,t.subject.params))}},onConfirm:({rightPanel:t,action:n},i)=>{-1===["error","cancel"].indexOf(n)&&this.sendMessage("/manage/v1/user/send_mail",i).then(()=>{this.docLayoutService.toast.showToast({message:c.messageSentSuccessfully,type:"success"}),t.close(),e&&e.unsubscribe()},()=>{this.docLayoutService.toast.showToast({message:c.somethingWentWrong,type:"error"}),e&&e.unsubscribe(),t.close()})}};e=this.sendUserMsg.sendUserMessage(n).subscribe()}performUserAction(t,e,n){let i,s;switch(t){case l.e.APPROVE:i="/manage/v1/user/approve",s="POST";break;case l.e.VIEW:i=`/manage/v1/user/${n}`,s="GET";break;case l.e.REJECT:i="/manage/v1/user/reject",s="DELETE";break;case l.e.RESEND:i=`/manage/v1/user/${n}/resend`,s="POST"}return new Promise((t,n)=>{i&&s||n({response:{message:"MISSING PARAMETER!"},success:!1}),this.backendService.request(i,s,e).subscribe(e=>{t({response:e,success:!0})},t=>{n({error:t,success:!1})})})}changeRewardStatusRequest(t,e){return new Promise((n,i)=>{t&&e||i({response:{message:"MISSING PARAMETER!"},success:!1}),this.backendService.request(`/manage/v1/gamification/reward_requests/${t}`,"PUT",e).subscribe(t=>{n({response:t.data,success:!0})},t=>{i({error:t,success:!1})})})}sendMessage(t,e){return new Promise((n,i)=>{t||i({response:{message:"MISSING PARAMETER!"},success:!1}),this.backendService.request(t,"PUT",e).subscribe(t=>{t.data.success||i({success:!1}),n({response:t,success:!0})},t=>{i({error:t,success:!1})})})}refreshTableData(){const t={page:this.currentPages[this.tabName],otherParams:Object(o.b)(this.formatterService,this.tabName,{widget_height:this.widgetHeight}),tabName:this.tabName,skipCPUpdate:!1,replace:!0};Object(o.a)(t,this.widgetId)}}return t.\u0275fac=function(e){return new(e||t)(u.nc(h.a),u.nc(p.h),u.nc(m.a),u.nc(_.a),u.nc(b.a),u.nc(f.b),u.nc(w.a),u.nc(C.a),u.nc(u.i))},t.\u0275prov=u.Zb({token:t,factory:t.\u0275fac}),t})();var v=n("l7P3"),M=n("KVSa"),y=n("ofXK"),P=n("nUpK"),S=n("alYl"),I=n("9FoH"),x=n("mZNx"),E=n("2YCl"),T=n("odcu"),D=n("6AVF"),k=n("ny5d"),A=n("Vqln");function L(t,e){1&t&&(u.jc(0,"div",5),u.jc(1,"div",6),u.ec(2,"ui-spinner",7),u.ic(),u.ic()),2&t&&(u.Mb(2),u.Dc("size","md"))}function j(t,e){}function N(t,e){if(1&t&&u.ec(0,"btn-ellipsis",11),2&t){const t=e.item,n=u.vc(2);u.cd("width","100%")("text-align","right"),u.Dc("params",t)("orientation","bottom-left")("actions",n.getRowActions(t))}}function R(t,e){if(1&t&&(u.jc(0,"hyd-table",8),u.ec(1,"hyd-table-column-text",9),u.ec(2,"hyd-table-column-text",9),u.jc(3,"hyd-table-column",10),u.jc(4,"hyd-table-column-header"),u.dd(5,j,0,0,"ng-template"),u.ic(),u.jc(6,"hyd-table-column-cell"),u.dd(7,N,1,7,"ng-template"),u.ic(),u.ic(),u.ic()),2&t){const t=u.vc();u.Dc("data",null==t.tabData?null:t.tabData.items),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.username)("columnName","tl-"+t.widgetId+"-username")("fieldName","username"),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.email)("columnName","tl-"+t.widgetId+"-email")("fieldName","email"),u.Mb(1),u.Dc("columnWidth","30px")("ellipsed",!1)("alignment","right")}}function F(t,e){if(1&t&&(u.fd(0),u.wc(1,"t")),2&t){const t=u.vc(2);u.hd(" ",u.xc(1,1,t.tableColumnNames.reward_status)," ")}}const U=function(t,e,n){return{"bg-positive-green":t,"bg-error":e,"bg-grey":n}};function z(t,e){if(1&t&&(u.jc(0,"span",13),u.fd(1),u.wc(2,"t"),u.ic()),2&t){const t=e.item,n=u.vc(2);u.Dc("ngClass",u.Kc(4,U,"approved"===t.status,"rejected"===t.status,"waiting"===t.status)),u.Mb(1),u.hd(" ",u.xc(2,2,"approved"===t.status?n.tableColumnNames.status_approved:"rejected"===t.status?n.tableColumnNames.status_rejected:n.tableColumnNames.status_pending)," ")}}function q(t,e){}function B(t,e){if(1&t&&u.ec(0,"btn-ellipsis",11),2&t){const t=e.item,n=u.vc(2);u.cd("width","100%")("text-align","right"),u.Dc("params",t)("orientation","bottom-left")("actions",n.getRowActions(t))}}function V(t,e){if(1&t&&(u.jc(0,"hyd-table",8),u.ec(1,"hyd-table-column-text",9),u.ec(2,"hyd-table-column-text",9),u.jc(3,"hyd-table-column",12),u.jc(4,"hyd-table-column-header"),u.dd(5,F,2,3,"ng-template"),u.ic(),u.jc(6,"hyd-table-column-cell"),u.dd(7,z,3,8,"ng-template"),u.ic(),u.ic(),u.jc(8,"hyd-table-column",10),u.jc(9,"hyd-table-column-header"),u.dd(10,q,0,0,"ng-template"),u.ic(),u.jc(11,"hyd-table-column-cell"),u.dd(12,B,1,7,"ng-template"),u.ic(),u.ic(),u.ic()),2&t){const t=u.vc();u.Dc("data",null==t.tabData?null:t.tabData.items),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.reward_name)("columnName","tl-"+t.widgetId+"-reward_name")("fieldName","reward_name"),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.username)("columnName","tl-"+t.widgetId+"-username")("fieldName","username"),u.Mb(1),u.Dc("columnName","tl-"+t.widgetId+"-status")("columnWidth","115px"),u.Mb(5),u.Dc("columnWidth","30px")("ellipsed",!1)("alignment","right")}}function G(t,e){}function W(t,e){if(1&t&&u.ec(0,"btn-ellipsis",11),2&t){const t=e.item,n=u.vc(2);u.cd("width","100%")("text-align","right"),u.Dc("params",t)("orientation","bottom-left")("actions",n.getRowActions(t))}}function H(t,e){if(1&t&&(u.jc(0,"hyd-table",8),u.ec(1,"hyd-table-column-text",9),u.ec(2,"hyd-table-column-text",9),u.ec(3,"hyd-table-column-price",9),u.jc(4,"hyd-table-column",10),u.jc(5,"hyd-table-column-header"),u.dd(6,G,0,0,"ng-template"),u.ic(),u.jc(7,"hyd-table-column-cell"),u.dd(8,W,1,7,"ng-template"),u.ic(),u.ic(),u.ic()),2&t){const t=u.vc();u.Dc("data",null==t.tabData?null:t.tabData.items),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.id_trans)("columnName","tl-"+t.widgetId+"-id_trans")("fieldName","id_trans"),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.username)("columnName","tl-"+t.widgetId+"-username")("fieldName","username"),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.total_paid)("columnName","tl-"+t.widgetId+"-total_paid")("fieldName","total_paid"),u.Mb(1),u.Dc("columnWidth","30px")("ellipsed",!1)("alignment","right")}}function $(t,e){if(1&t){const t=u.kc();u.jc(0,"hyd-table",14),u.rc("rowClick",function(e){return u.Uc(t),u.vc().onRowClick(e)}),u.ec(1,"hyd-table-column-text",9),u.ec(2,"hyd-table-column-text",9),u.ec(3,"hyd-table-column-date",9),u.ic()}if(2&t){const t=u.vc();u.Dc("data",null==t.tabData?null:t.tabData.items)("clickable",!0),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.username)("columnName","tl-"+t.widgetId+"-username")("fieldName","username"),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.course_name)("columnName","tl-"+t.widgetId+"-course_name")("fieldName","course_name"),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.subscription_date)("columnName","tl-"+t.widgetId+"-subscription_date")("fieldName","subscription_date")}}function Q(t,e){}function J(t,e){if(1&t&&u.ec(0,"btn-ellipsis",11),2&t){const t=e.item,n=u.vc(2);u.cd("width","100%")("text-align","right"),u.Dc("params",t)("orientation","bottom-left")("actions",n.getRowActions(t))}}function Y(t,e){if(1&t&&(u.jc(0,"hyd-table",8),u.ec(1,"hyd-table-column-text",9),u.ec(2,"hyd-table-column-text",9),u.ec(3,"hyd-table-column-date",9),u.jc(4,"hyd-table-column",10),u.jc(5,"hyd-table-column-header"),u.dd(6,Q,0,0,"ng-template"),u.ic(),u.jc(7,"hyd-table-column-cell"),u.dd(8,J,1,7,"ng-template"),u.ic(),u.ic(),u.ic()),2&t){const t=u.vc();u.Dc("data",null==t.tabData?null:t.tabData.items),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.username)("columnName","tl-"+t.widgetId+"-username")("fieldName","username"),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.course_name)("columnName","tl-"+t.widgetId+"-course_name")("fieldName","name"),u.Mb(1),u.Dc("headerLabel",t.tableColumnNames.overdue)("columnName","tl-"+t.widgetId+"-overdue")("fieldName","overdue"),u.Mb(1),u.Dc("columnWidth","30px")("ellipsed",!1)("alignment","right")}}const K=function(){return{category:"app7020"}};function X(t,e){if(1&t){const t=u.kc();u.jc(0,"widget-action-button",20),u.rc("click",function(){return u.Uc(t),u.vc(2).showMore()}),u.wc(1,"t"),u.ic()}if(2&t){const t=u.vc(2);u.Vb("not-visible",t.loadingMore),u.Dc("title",u.yc(1,3,"SHOW MORE",u.Hc(6,K)))}}function Z(t,e){1&t&&(u.jc(0,"div",6),u.ec(1,"ui-spinner",7),u.ic()),2&t&&(u.Mb(1),u.Dc("size","md"))}function tt(t,e){if(1&t){const t=u.kc();u.jc(0,"widget-action-button",20),u.rc("click",function(){return u.Uc(t),u.vc(2).goToPage()}),u.wc(1,"t"),u.ic()}2&t&&u.Dc("title",u.xc(1,1,"View all"))}function et(t,e){if(1&t&&(u.jc(0,"div",15),u.jc(1,"div",16),u.dd(2,X,2,7,"widget-action-button",17),u.dd(3,Z,2,1,"div",18),u.ic(),u.dd(4,tt,2,3,"widget-action-button",19),u.ic()),2&t){const t=u.vc();u.Mb(2),u.Dc("ngIf",t.lazyLoad),u.Mb(1),u.Dc("ngIf",t.lazyLoad&&t.loadingMore),u.Mb(1),u.Dc("ngIf",!t.lazyLoad)}}function nt(t,e){if(1&t&&u.ec(0,"blankslate",21),2&t){const t=u.vc();u.Dc("isVisible",t.noData)("title",t.blankSlateParams.title)("subtitle",t.blankSlateParams.subtitle)("type",t.blankSlateParams.type)}}let it=(()=>{class t{constructor(t,e,n,s,o){this.router=t,this.store=e,this.actions=n,this.formatter=s,this.tableActionService=o,this.tableRowItems={},this.tabData=null,this.tableColumnNames=a.k,this.loading=!0,this.loadingMore=!1,this.noData=!1,this.lazyLoad=!1,this.blankSlateParams={headerButtons:[],type:i.a.HAPPY006,title:c.wellDone,subtitle:c.nothingIsHappening},this.tableActions=[],this.tableActions=this.tableActionService.getTableActions()}ngOnInit(){this.lazyLoad=-1!==a.g.indexOf(this.tabName),this.tableActionService.setCurrentData(this.widgetId,this.widgetHeight,this.tabName,this.tableRowItems,this.tabData,this.currentPages),this.reduxListener()}ngOnDestroy(){this.reduxSubscriber&&this.reduxSubscriber.unsubscribe(),this.store.dispatch(this.actions.update_page({widgetId:this.widgetId,current_pages:{[this.tabName]:1}}))}onRowClick(t){const e=t.course_id,n=t.course_type;this.router.navigate("classroom"===n?[`/legacy/admin/index.php?r=ClassroomApp/session/assign&course_id=${e}&ref_src=admin`]:"webinar"===n?[`/legacy/admin/index.php?r=webinar/session/assign&course_id=${e}`]:[`/legacy/admin/index.php?r=courseManagement/waitingEnrollment&id=${e}`])}showMore(){const t={page:this.currentPages[this.tabName]+1,otherParams:Object(o.b)(this.formatter,this.tabName,{widget_height:this.widgetHeight}),tabName:this.tabName,skipCPUpdate:!1};this.loadingMore=!0,Object(o.a)(t,this.widgetId)}getRowActions(t){return this.tableActions.filter(e=>-1!==t.actions.indexOf(e.id))}goToPage(){this.router.navigate(Object(o.f)(this.tabName),Object(o.e)(this.tabName))}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(s.k).subscribe(t=>{if("status"in t){switch(t.status){case"DATA_LOADED":case"FIRST_UPDATE_SUCCESS":if(!(this.loading||t.customTabData&&t.customTabData.widgetId===this.widgetId))break;if(this.tableRowItems=t.customTabData[this.widgetId],this.currentPages=t.currentPages[this.widgetId],this.tabData){const t=this.tableRowItems[this.tabName];this.tabData.items.push(...d(this.tabName,t.items)),this.tabData.has_more_data=t.has_more_data,this.tabData.count=t.count,this.tabData.current_page=t.current_page}else this.tabData=this.tableRowItems[this.tabName],this.tabData.items=d(this.tabName,this.tabData.items);this.loading=!1,this.loadingMore=!1;break;case"REPLACE_SUCCESS":if(!(this.loading||t.customTabData&&t.customTabData.widgetId===this.widgetId))break;this.tableRowItems=t.customTabData[this.widgetId],this.currentPages=t.currentPages[this.widgetId],this.tabData=this.tableRowItems[this.tabName],this.tabData.items=d(this.tabName,this.tabData.items),this.loading=!1,this.loadingMore=!1;break;case"NOT_LOADED":this.tableRowItems={},this.tabData=null,this.loading=!1,this.loadingMore=!1}this.noData=!this.tabData||0===this.tabData.total_count,this.tableActionService.setCurrentData(this.widgetId,this.widgetHeight,this.tabName,this.tableRowItems,this.tabData,this.currentPages)}}))}}return t.\u0275fac=function(e){return new(e||t)(u.dc(p.h),u.dc(v.d),u.dc(M.a),u.dc(f.b),u.dc(O))},t.\u0275cmp=u.Xb({type:t,selectors:[["ng-component"]],hostVars:2,hostBindings:function(t,e){2&t&&u.cd("min-height",e.widgetHeight)},inputs:{widgetId:"widgetId",tabName:"tabName",isInstructor:"isInstructor",widgetHeight:"widgetHeight"},features:[u.Lb([O])],decls:8,vars:8,consts:[["class","spinner_outter bg-white",4,"ngIf"],[3,"data",4,"ngIf"],[3,"data","clickable","rowClick",4,"ngIf"],["class","widget-actions-container",4,"ngIf"],[3,"isVisible","title","subtitle","type",4,"ngIf"],[1,"spinner_outter","bg-white"],[1,"spinner_wrapp"],[3,"size"],[3,"data"],[3,"headerLabel","columnName","fieldName"],[3,"columnWidth","ellipsed","alignment"],[3,"params","orientation","actions"],[3,"columnName","columnWidth"],[1,"rewards-status","text-white","bolded",3,"ngClass"],[3,"data","clickable","rowClick"],[1,"widget-actions-container"],[1,"show-more-action"],[3,"not-visible","title","click",4,"ngIf"],["class","spinner_wrapp",4,"ngIf"],[3,"title","click",4,"ngIf"],[3,"title","click"],[3,"isVisible","title","subtitle","type"]],template:function(t,e){1&t&&(u.dd(0,L,3,1,"div",0),u.dd(1,R,8,10,"hyd-table",1),u.dd(2,V,13,12,"hyd-table",1),u.dd(3,H,9,13,"hyd-table",1),u.dd(4,$,4,11,"hyd-table",2),u.dd(5,Y,9,13,"hyd-table",1),u.dd(6,et,5,3,"div",3),u.dd(7,nt,1,4,"blankslate",4)),2&t&&(u.Dc("ngIf",e.loading),u.Mb(1),u.Dc("ngIf","pending_users"===e.tabName&&!e.loading&&!e.noData),u.Mb(1),u.Dc("ngIf","reward_shop_requests"===e.tabName&&!e.loading&&!e.noData),u.Mb(1),u.Dc("ngIf","ecommerce_transactions"===e.tabName&&!e.loading&&!e.noData),u.Mb(1),u.Dc("ngIf","pending_enrollment_approvals"===e.tabName&&!e.loading&&!e.noData),u.Mb(1),u.Dc("ngIf","overdue_courses"===e.tabName&&!e.loading&&!e.noData),u.Mb(1),u.Dc("ngIf",null==e.tabData?null:e.tabData.has_more_data),u.Mb(1),u.Dc("ngIf",e.noData&&!e.loading))},directives:[y.p,P.bd,S.a,I.a,x.c,x.d,x.b,E.a,y.n,T.a,D.a,k.a,A.a],pipes:[r.b],styles:[".widget-actions-container[_ngcontent-%COMP%]{margin-top:-1px}.widget-actions-container[_ngcontent-%COMP%]   .show-more-action[_ngcontent-%COMP%]{display:inline-block;position:relative}.widget-actions-container[_ngcontent-%COMP%]   .show-more-action[_ngcontent-%COMP%]   widget-action-button[_ngcontent-%COMP%]{display:block}.widget-actions-container[_ngcontent-%COMP%]   .show-more-action[_ngcontent-%COMP%]   widget-action-button.not-visible[_ngcontent-%COMP%]{opacity:0;pointer-events:none}"]}),t})()},"T+s5":function(t,e,n){"use strict";n.d(e,"a",function(){return O});var i=n("gvJE"),s=n("lJxs"),a=n("j5TW"),o=n("fXoL"),r=n("Y9qQ"),c=n("ofXK"),l=n("A3UQ");const d=["multidomainsListingTable"];function g(t,e){if(1&t&&o.ec(0,"extended-table",3,4),2&t){const t=o.vc();o.Dc("display_search",t.multidomainsTableParams.display_search)("search_placeholder",t.multidomainsTableParams.search_placeholder)("panels",t.multidomainsTableParams.panels)("tableParams",t.multidomainsTableParams.tableParams)}}let u=(()=>{class t{constructor(t,e){this.ref=t,this.service=e,this.description=i.a.t("admin_webpages","Select the multidomain that you want to activate with new pages."),this.preselected=[]}ngOnInit(){this.getPreselected(),this.multidomainsTableParams={display_search:!0,search_placeholder:i.a.t("standard","Search here..."),tableParams:{columns:this.getFields(),source:new h(1,[{column_id:"id",order:"asc"}],12,this.service,this.getFields()),preselected:this.preselected,enable_massive_actions:!0,calc_height:!0,massive_actions:[],itemId:"id"},panels:[]}}updateFormValues(){this.ref.markForCheck()}getPreselected(){this.service.request("/manage/v1/multidomain","GET",{}).subscribe(t=>{if(t.extra_data)for(let e=0;e<t.extra_data.length;e++)this.preselected.push(Number.parseInt(t.extra_data[e]))})}getFields(){return[{id:"name",name:i.a.t("admin_webpages","Client Name"),is_sortable:!1,width:"180px"},{id:"domain",name:i.a.t("custom_domain","_DOMAIN_NAME_"),is_sortable:!1}]}}return t.\u0275fac=function(e){return new(e||t)(o.dc(o.i),o.dc(r.a))},t.\u0275cmp=o.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&o.md(d,1),2&t){let t;o.Qc(t=o.sc())&&(e.multidomainsListingTable=t.first)}},decls:5,vars:4,consts:[[1,"multidomain-list__wrapper"],[1,"multidomain-list-description","subtitle-normal","text-grey-mid"],[3,"display_search","search_placeholder","panels","tableParams",4,"ngIf"],[3,"display_search","search_placeholder","panels","tableParams"],["multidomainsListingTable",""]],template:function(t,e){1&t&&(o.jc(0,"div",0),o.jc(1,"div",1),o.fd(2),o.wc(3,"t"),o.ic(),o.dd(4,g,2,4,"extended-table",2),o.ic()),2&t&&(o.Mb(2),o.gd(o.xc(3,2,e.description)),o.Mb(2),o.Dc("ngIf",e.multidomainsTableParams))},directives:[c.p,l.a],pipes:[i.b],styles:[".multidomain-list__wrapper[_ngcontent-%COMP%] {\n            display: block;\n            width: 100%;\n        }\n\n        .multidomain-list__wrapper[_ngcontent-%COMP%]     extended-table {\n            height: auto;\n        }\n\n        .multidomain-list__wrapper[_ngcontent-%COMP%]     extended-table .table-extended-content {\n            height: calc(100vh - 231px);\n        }\n\n        .multidomain-list__wrapper[_ngcontent-%COMP%]     extended-table .table-extended .table-extended-header .search {\n            max-width: 100%;\n            margin-left: 10px;\n        }\n\n        .multidomain-list-description[_ngcontent-%COMP%] {\n            padding: 10px 25px;\n            border-bottom: 1px var(--ui-color-border-neutral) solid;\n        }"]}),t})();class h extends a.b{constructor(t=0,e,n,i,s,a){super(t,e,n,i,a),this.filterOnChange=s,this.params={},this.multipleSorting=!1}fetchData(t){return t.sort_attr=this.sort_by[0].column_id,t.sort_dir=this.sort_by[0].order,Object.keys(this.params).length>0&&(t.search_text=this.params.search_text),this.serviceProvider.request("/manage/v1/multidomain","GET",t).pipe(Object(s.a)(t=>t.data))}}var p=n("dRcD"),m=n("35q8"),_=n("Lzvv"),b=n("Gql0"),f=n("F97A");const w=function(){return{category:"standard"}};function C(t,e){if(1&t&&(o.jc(0,"div",1),o.jc(1,"div"),o.ec(2,"i",2),o.jc(3,"div",3),o.fd(4),o.wc(5,"t"),o.jc(6,"a",4),o.fd(7),o.wc(8,"t"),o.ic(),o.ic(),o.ec(9,"rectangular-button",5),o.ic(),o.ic()),2&t){const t=o.vc();o.Mb(1),o.Rb("switch-header-message mdl-cell--12-col ",t.colorStyle," title-normal-regular bg-white border-grey-light"),o.Mb(3),o.hd(" ",o.xc(5,11,t.deprecatedMenuMessage)," "),o.Mb(2),o.Qb(t.colorStyle),o.Mb(1),o.hd(" ",o.yc(8,13,"_MORE_INFO",o.Hc(16,w))," "),o.Mb(2),o.Dc("properties",t.buttonActivate.properties)("state",t.buttonActivate.state)("click",t.buttonActivate.onClick)}}let O=(()=>{class t{constructor(t,e,n,i){this._pageService=t,this.service=e,this.bootstrapService=n,this._formatServ=i,this.colorStyle="gm-green",this.showComponent=!1,this.selectedMultidomains=[]}ngOnInit(){this.showComponent=!(!p.a.getInstance().isCurrentUserA(p.a.LEVEL_SUPERADMIN)||!p.a.getInstance().lms_pages_switcher_show);const t=p.a.getInstance().datetime_format?this._formatServ.asDate(p.a.getInstance().lms_pages_enable_date,p.a.getInstance().datetime_format):"";this.deprecatedMenuMessage=i.a.t("admin_webpages","You can play with any pages before activating them. Once activated, a page is available for all users. You have until {date} to activate this functionality. After that period of time, the platform will automatically switch.",{date:t}),this.colorStyle="gm-green";const e=-1!==p.a.getInstance().lms_pages_switcher_show.indexOf("restore")?i.a.t("admin_webpages","Restore the old Pages & Menus"):i.a.t("admin_webpages","You're activating the new Pages & Menus"),n=-1!==p.a.getInstance().lms_pages_switcher_show.indexOf("restore")?i.a.t("admin_webpages","Are you sure you want to restore the old version of Pages & Menus? The page will then reload with your changes."):i.a.t("admin_webpages","Are you sure you want to activate the new version of Pages & Menus? The page will then reload with your changes."),s=-1!==p.a.getInstance().lms_pages_switcher_show.indexOf("restore")?i.a.t("admin_webpages","Restore"):i.a.t("standard","_ACTIVATE"),a={id:3,width:470,height:210,title:e,content:n,type:"confirmation",actions:[{type:"cancel",properties:{text:i.a.t("standard","Cancel")},handler:t=>{t.close()}},{type:"normal",properties:{text:s},handler:t=>{let e=null;e=-1!==p.a.getInstance().lms_pages_switcher_show.indexOf("multidomain")?this.selectedMultidomains:!0===p.a.getInstance().switched_to_new_pages?[]:[0],this.service.request("/pages/v1/pages/switch","POST",{selected:e}).subscribe(e=>{t.close(),this.bootstrapService.reboot()})}}]};this.buttonActivate=-1!==p.a.getInstance().lms_pages_switcher_show.indexOf("restore")?"restore"===p.a.getInstance().lms_pages_switcher_show?{properties:{text:i.a.t("admin_webpages","Restore old version"),colorScheme:"warning",typeStyle:"outline"},onClick:()=>{this._pageService.dialog.open(a)}}:this.getButtonActivateProperties(a):"multidomain"===p.a.getInstance().lms_pages_switcher_show?this.getButtonActivateProperties(a):{properties:{text:i.a.t("standard","_ACTIVATE"),colorScheme:"positive-green",typeStyle:"outline"},onClick:()=>{this._pageService.dialog.open(a)}}}getButtonActivateProperties(t){return{properties:{text:i.a.t("admin_webpages","Manage activation"),colorScheme:"positive-green",typeStyle:"outline",className:"multidomain-button"},onClick:()=>{this._pageService.rightPanel.setTitle(i.a.t("admin_webpages","Manage Activation/Deactivation of the New Pages & Menus for Multi-Domain")),this._pageService.rightPanel.setDescription("  "),this._pageService.rightPanel.setWidth(500),this._pageService.rightPanel.loadContentOnOpen=!0,this._pageService.rightPanel.setContent({params:{},component:u}),this._pageService.rightPanel.setActions([{type:"cancel",properties:{text:i.a.t("app7020","Cancel")},handler:t=>{t.close()}},{type:"submit",properties:{text:i.a.t("standard","Confirm")},handler:e=>{this.selectedMultidomains=e.componentInstance.multidomainsListingTable.table.getSelectedItems().map(t=>t.id),e.close(),this._pageService.dialog.open(t)}}]),this._pageService.rightPanel.open()}}}}return t.\u0275fac=function(e){return new(e||t)(o.dc(m.a),o.dc(r.a),o.dc(_.a),o.dc(b.b))},t.\u0275cmp=o.Xb({type:t,selectors:[["pages-switch"]],decls:1,vars:1,consts:[["class","header-bar-message__wrapp",4,"ngIf"],[1,"header-bar-message__wrapp"],[1,"zmdi","zmdi-alert-circle"],[1,"mdl-wrapper","header-menus-message-inner","mdl-cell--12-col"],["href","https://www.docebo.com/knowledge-base/pagesswitch/","target","_blank","rel","noopener noreferrer"],[1,"menu-button-activate",3,"properties","state","click"]],template:function(t,e){1&t&&o.dd(0,C,10,17,"div",0),2&t&&o.Dc("ngIf",e.showComponent)},directives:[c.p,f.a],pipes:[i.b],styles:["[_nghost-%COMP%]   .switch-header-message[_ngcontent-%COMP%]{padding:8px 21px 8px 27px;display:flex;border-bottom-width:1px;border-style:solid;width:100%;box-sizing:border-box;align-items:center}[_nghost-%COMP%]   .switch-header-message[_ngcontent-%COMP%]   .zmdi[_ngcontent-%COMP%]{font-size:21px;margin:auto 0}[_nghost-%COMP%]   .menu-button-activate[_ngcontent-%COMP%]{margin:auto 0 auto auto}[_nghost-%COMP%]   .header-menus-message-inner[_ngcontent-%COMP%]{padding:0 0 0 10px;margin:auto 0}[_nghost-%COMP%]   .switch-header-message[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}[_nghost-%COMP%]  .multidomain-button{min-width:185px}"]}),t})()},UaVD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.asset=0]="asset",t[t.enrollment=1]="enrollment",t[t.question=2]="question",t}({})},VNB6:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},VoiC:function(t,e,n){"use strict";function i(t){return t.getIsDemo()}n.d(e,"a",function(){return i})},"Wb/8":function(t,e,n){"use strict";n.d(e,"a",function(){return L});var i=n("gvJE"),s=n("UaVD"),a=n("gdse"),o=n("/kKY"),r=n("4SMR"),c=n("LC/E"),l=n("wZxL"),d=n("fXoL"),g=n("l7P3"),u=n("7Zvt"),h=n("3zhW"),p=n("tyNb"),m=n("ofXK"),_=n("SJmp"),b=n("oQEw"),f=n("Ycus"),w=n("O/UX"),C=n("QXP6"),O=n("SOpw");function v(t,e){1&t&&(d.jc(0,"span"),d.fd(1,", "),d.ic())}const M=function(t){return[t]};function y(t,e){if(1&t&&(d.jc(0,"span"),d.jc(1,"a",6),d.fd(2),d.ic(),d.dd(3,v,2,0,"span",7),d.ic()),2&t){const t=e.$implicit,n=e.index,i=d.vc(2);d.Mb(1),d.Dc("routerLink",d.Ic(3,M,t.link)),d.Mb(1),d.hd(" ",t.title,""),d.Mb(1),d.Dc("ngIf",i.showComa(n))}}function P(t,e){if(1&t&&(d.jc(0,"span"),d.fd(1),d.wc(2,"t"),d.dd(3,y,4,5,"span",14),d.ic()),2&t){const t=d.vc();d.Mb(1),d.hd(" ",d.xc(2,2,t.translations.in)," "),d.Mb(2),d.Dc("ngForOf",t.activity.where)}}function S(t,e){if(1&t){const t=d.kc();d.jc(0,"button",21),d.rc("click",function(){return d.Uc(t),d.vc(2).toggleShowComments()}),d.jc(1,"span"),d.fd(2),d.wc(3,"t"),d.ic(),d.ic()}if(2&t){const t=d.vc(2);d.Vb("active",t.showComments()),d.Mb(2),d.gd(d.xc(3,3,t.translations.comment))}}function I(t,e){if(1&t){const t=d.kc();d.jc(0,"button",21),d.rc("click",function(){return d.Uc(t),d.vc(2).toggleShowAskTheExpert()}),d.jc(1,"span"),d.fd(2),d.wc(3,"t"),d.ic(),d.ic()}if(2&t){const t=d.vc(2);d.Vb("active",t.showAskTheExpert()),d.Mb(2),d.gd(d.xc(3,3,t.translations.askTheExpert))}}function x(t,e){if(1&t){const t=d.kc();d.jc(0,"button",21),d.rc("click",function(){return d.Uc(t),d.vc(2).toggleShowShare()}),d.jc(1,"span"),d.fd(2),d.wc(3,"t"),d.ic(),d.ic()}if(2&t){const t=d.vc(2);d.Mb(2),d.gd(d.xc(3,1,t.translations.share))}}function E(t,e){if(1&t&&d.ec(0,"activities-stream-rating",22),2&t){const t=d.vc(2);d.Dc("params",t.ratingParams())}}function T(t,e){if(1&t&&(d.jc(0,"div",15),d.jc(1,"div",16),d.dd(2,S,4,5,"button",17),d.dd(3,I,4,5,"button",17),d.dd(4,x,4,3,"button",18),d.ic(),d.jc(5,"div",19),d.dd(6,E,1,1,"activities-stream-rating",20),d.ic(),d.ic()),2&t){const t=d.vc();d.Mb(2),d.Dc("ngIf",t.allowComments()),d.Mb(1),d.Dc("ngIf",t.allowAskTheExpertButton()),d.Mb(1),d.Dc("ngIf",t.allowShareButton()),d.Mb(2),d.Dc("ngIf",t.showItemRating())}}function D(t,e){if(1&t&&(d.jc(0,"div",23),d.ec(1,"activities-stream-item-asset-form",24),d.ic()),2&t){const t=d.vc();d.Mb(1),d.Dc("params",t.formParams())}}function k(t,e){if(1&t&&(d.jc(0,"div",25),d.ec(1,"activities-stream-item-asset-comments",26),d.ic()),2&t){const t=d.vc();d.Mb(1),d.Dc("itemType",t.commentItemType.item)("params",t.commentsParams())}}const A=function(t){return{length:"medium",relativeMaxDaysDifference:t}};let L=(()=>{class t extends l.a{constructor(t,e){super(),this.store=t,this.actions=e,this.settings={allowComments:!1,allowAskTheExpertButton:!1,allowShareButton:!1,widgetId:""},this.hidden=!1,this.commentItemType=o.a,this.translations={askTheExpert:i.a.t("app7020","Ask the Expert"),comment:i.a.t("standard","Comment"),in:i.a.t("standard","asset in"),madeAQuestion:i.a.t("app7020","made a question"),post:i.a.t("standard","Post"),share:i.a.t("app7020","Share"),uploaded:i.a.t("app7020","uploaded"),writeHereYourComment:i.a.t("forum","Write here your comment"),writeHereYourQuestion:i.a.t("app7020","Write here your question...")},this.state={showComments:!1,showAskTheExpert:!1,showShare:!1,showForm:!1}}ngOnInit(){this.reduxListener()}ngOnDestroy(){this.reduxSubscriber.unsubscribe()}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(c.c).subscribe(t=>{switch(t.status){case"SUBMITTED_CONTENT_LOADED":this.setState({showForm:!1})}}))}allowAskTheExpertButton(){return this.settings.allowAskTheExpertButton&&this.activity.type===s.a.asset}allowComments(){return this.settings.allowComments}allowShareButton(){return!1}commentsParams(){return{activityId:this.activity.id,comments:this.showAskTheExpert()?this.activity.questions:this.activity.comments,type:this.showAskTheExpert()?a.a.question:a.a.comment,widgetId:this.settings.widgetId}}formParams(){const{translations:t}=this;return{activityId:this.activity.id,submitButtonText:t[this.showAskTheExpert()?"askTheExpert":"post"],textareaLabel:t[this.showAskTheExpert()?"writeHereYourQuestion":"writeHereYourComment"],type:this.showAskTheExpert()?a.a.question:a.a.comment,widgetId:this.settings.widgetId}}ratingParams(){return{type:r.a.vote,item:{id:this.activity.id,rating:{vote:this.activity.ratings.vote,isRateEnabled:this.activity.ratings.isRateEnabled}}}}showAskTheExpert(){const{showAskTheExpert:t,showComments:e}=this.state;return this.allowAskTheExpertButton()&&t&&!e}showChannelsList(){return this.activity.where.length>0}showComa(t){return t<this.activity.where.length-1}showComments(){const{showAskTheExpert:t,showComments:e}=this.state;return this.allowComments()&&e&&!t}showForm(){return this.state.showForm}showItemRating(){const{item:t}=this.ratingParams();return null!==t.rating.vote}showMeta(){return this.showItemRating()||this.allowComments()||this.allowAskTheExpertButton()||this.allowShareButton()}toggleShowAskTheExpert(){this.setState({showAskTheExpert:!this.state.showAskTheExpert,showComments:!1,showForm:!this.state.showAskTheExpert})}toggleShowComments(){this.setState({showComments:!this.state.showComments,showAskTheExpert:!1,showForm:!this.state.showComments})}toggleShowShare(){this.setState({showShare:!this.state.showShare})}onAssetPlayerLoadFail(){this.hidden=!0}}return t.\u0275fac=function(e){return new(e||t)(d.dc(g.d),d.dc(u.a))},t.\u0275cmp=d.Xb({type:t,selectors:[["activities-stream-item-asset"]],inputs:{settings:"settings",activity:"activity"},features:[d.Jb],decls:22,vars:28,consts:[[1,"root",3,"hidden"],[1,"header"],[1,"avatar-container"],[3,"initials","image_url","size"],[1,"title-container"],[1,"title"],[1,"text-main",3,"routerLink"],[4,"ngIf"],[1,"time"],[1,"content"],[1,"player",3,"assetId","loadFailed"],["class","meta",4,"ngIf"],["class","form",4,"ngIf"],["class","comments",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"meta"],[1,"actions-container","text-main"],["class","action text-main",3,"active","click",4,"ngIf"],["class","action text-main",3,"click",4,"ngIf"],[1,"ratings-container"],["class","rating",3,"params",4,"ngIf"],[1,"action","text-main",3,"click"],[1,"rating",3,"params"],[1,"form"],[3,"params"],[1,"comments"],[3,"itemType","params"]],template:function(t,e){1&t&&(d.jc(0,"div",0),d.jc(1,"div",1),d.jc(2,"div",2),d.ec(3,"avatar",3),d.ic(),d.jc(4,"div",4),d.jc(5,"div",5),d.jc(6,"a",6),d.fd(7),d.ic(),d.fd(8),d.wc(9,"t"),d.jc(10,"a",6),d.fd(11),d.wc(12,"stripTags"),d.ic(),d.dd(13,P,4,4,"span",7),d.ic(),d.jc(14,"div",8),d.fd(15),d.wc(16,"dateTime"),d.ic(),d.ic(),d.ic(),d.jc(17,"div",9),d.jc(18,"activities-stream-item-asset-player",10),d.rc("loadFailed",function(){return e.onAssetPlayerLoadFail()}),d.ic(),d.ic(),d.dd(19,T,7,4,"div",11),d.dd(20,D,2,1,"div",12),d.dd(21,k,2,2,"div",13),d.ic()),2&t&&(d.Dc("hidden",e.hidden),d.Mb(3),d.Dc("initials",e.activity.author.initials)("image_url",e.activity.author.avatar)("size",40),d.Mb(3),d.Dc("routerLink",d.Ic(22,M,"/share/personalChannel/"+e.activity.author.uuid)),d.Mb(1),d.hd(" ",e.activity.author.fullName," "),d.Mb(1),d.hd(" ",d.xc(9,15,e.translations.uploaded)," "),d.Mb(2),d.Dc("routerLink",d.Ic(24,M,e.activity.what&&e.activity.what.link?e.activity.what.link:"")),d.Mb(1),d.hd(" ",d.xc(12,17,e.activity.what.title)," "),d.Mb(2),d.Dc("ngIf",e.showChannelsList()),d.Mb(2),d.gd(d.yc(16,19,e.activity.when,d.Ic(26,A,-1))),d.Mb(3),d.Dc("assetId",e.activity.id),d.Mb(1),d.Dc("ngIf",e.showMeta()),d.Mb(1),d.Dc("ngIf",e.showForm()),d.Mb(1),d.Dc("ngIf",e.showAskTheExpert()||e.showComments()))},directives:[h.a,p.k,m.p,_.a,m.o,b.a,f.a,w.a],pipes:[i.b,C.a,O.a],styles:['.color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:25px 25px 20px}.header[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]{font-size:.875em;font-weight:600}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .header .avatar-container{margin:0 20px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .header .avatar-container{margin:0 0 0 20px}.header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;width:100%}.header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:.875em;font-weight:600;color:#878787}.header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600}.header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.825em;color:var(--ui-color-typography-secondary)}.content[_ngcontent-%COMP%]{border-bottom:1px solid var(--ui-color-border-baseline)}.meta[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:15px 25px}.form[_ngcontent-%COMP%]{padding:25px 25px 10px;border-top:1px solid var(--ui-color-border-baseline)}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item{display:block;padding:20px 20px 18px;border-top:1px solid var(--ui-color-border-baseline)}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item .avatar-container{font-size:.875em}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item .sub-comments{margin:10px 0 0}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-comments-subitem{display:block;padding:8px 10px;border-top:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-comments-subitem{border-left:4px solid var(--ui-color-border-baseline)}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-comments-subitem{border-right:4px solid var(--ui-color-border-baseline)}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-comments-subitem.best-answer{border-left:4px solid var(--ui-color-typography-success)}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-comments-subitem.best-answer{border-right:4px solid var(--ui-color-typography-success)}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-comments-subitem .avatar-container{font-size:.675em}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-form{display:block;padding:15px 10px 0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-form{border-left:4px solid var(--ui-color-border-baseline)}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-form{border-right:4px solid var(--ui-color-border-baseline)}[_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-form .avatar-container{font-size:.675em}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-form .avatar-container{padding:0 10px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .comments[_ngcontent-%COMP%]     activities-stream-item-asset-comments-item   activities-stream-item-asset-form .avatar-container{padding:0 0 0 10px}.actions-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:.825em;line-height:100%;font-weight:600}.actions-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{position:relative;padding:0;border:0;border-radius:0;margin:0;font-family:Open Sans,sans-serif;font-size:1em;font-weight:600;cursor:pointer;background-color:transparent}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .actions-container .action{margin:0 16px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .actions-container .action{margin:0 0 0 16px}.actions-container[_ngcontent-%COMP%]   .action.active[_ngcontent-%COMP%]{color:var(--ui-color-typography-secondary)!important}.actions-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:after, .actions-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:before{position:absolute;top:0;cursor:default;pointer-events:none;color:var(--ui-color-typography-secondary)}.actions-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:after{right:-12px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .actions-container .action:after{content:"|"}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .actions-container .action:after{content:none}.actions-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:before{left:-12px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .actions-container .action:before{content:none}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .actions-container .action:before{content:"|"}.actions-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative}.actions-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:last-child{padding:0;margin:0}.actions-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:last-child:after, .actions-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:last-child:before{content:none}']}),t})()},WkUK:function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":4,"sequence":"0","widgets":[{"id":"2","type":"coursesandlearningplansoverview","name":{"en":"My Courses and Learning Plans 3/3","fa":"My Courses and Learning Plans 3/3","fi":"My Courses and Learning Plans 3/3","it":"I miei corsi e piani di apprendimento 3/3"},"position":{"column":0,"row":1,"sequence":0},"settings":{"displayMode":"card","coursesStatus":"all","showFilters":true,"showSearch":true,"showSortBy":true,"defaultSortBy":"name_asc","itemsDisplayed":15,"itemsDisplayedBeforeLoadMore":6,"showLoadMore":true,"showMyCoursesLearningPlansLink":true,"removeCoursesPartOfLearningPlan":true,"showCourseDeadline":true}}]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":8,"sequence":"0","widgets":[{"id":"2","type":"coursesandlearningplansoverview","name":{"en":"My Courses and Learning Plans 2/3","fa":"My Courses and Learning Plans 2/3","fi":"My Courses and Learning Plans 2/3","it":"I miei corsi e piani di apprendimento 2/3"},"position":{"column":0,"row":1,"sequence":0},"settings":{"displayMode":"card","coursesStatus":"all","showFilters":true,"showSearch":true,"showSortBy":true,"defaultSortBy":"name_asc","itemsDisplayed":15,"itemsDisplayedBeforeLoadMore":6,"showLoadMore":true,"showMyCoursesLearningPlansLink":true,"removeCoursesPartOfLearningPlan":true,"showCourseDeadline":true}}]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":6,"sequence":"0","widgets":[{"id":"2","type":"coursesandlearningplansoverview","name":{"en":"My Courses and Learning Plans 1/2","fa":"My Courses and Learning Plans 1/2","fi":"My Courses and Learning Plans 1/2","it":"I miei corsi e piani di apprendimento 1/2"},"position":{"column":0,"row":1,"sequence":0},"settings":{"displayMode":"card","coursesStatus":"all","showFilters":true,"showSearch":true,"showSortBy":true,"defaultSortBy":"name_asc","itemsDisplayed":15,"itemsDisplayedBeforeLoadMore":6,"showLoadMore":true,"showMyCoursesLearningPlansLink":true,"removeCoursesPartOfLearningPlan":true,"showCourseDeadline":true}}]}]},{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":4,"sequence":"0","widgets":[{"id":"2","type":"coursesandlearningplansoverview","name":{"en":"My Courses and Learning Plans 1/3","fa":"My Courses and Learning Plans 1/3","fi":"My Courses and Learning Plans 1/3","it":"I miei corsi e piani di apprendimento 1/3"},"position":{"column":0,"row":1,"sequence":0},"settings":{"displayMode":"card","coursesStatus":"completed","showFilters":true,"showSearch":true,"showSortBy":true,"defaultSortBy":"name_asc","itemsDisplayed":15,"itemsDisplayedBeforeLoadMore":6,"showLoadMore":true,"showMyCoursesLearningPlansLink":true,"removeCoursesPartOfLearningPlan":true,"showCourseDeadline":true}}]}]}]}}')},"Y/hz":function(t,e,n){"use strict";n.d(e,"a",function(){return D});var i=n("fXoL"),s=n("3Pt+"),a=n("TrxT"),o=n("Kj3r"),r=n("/uUt"),c=n("1G5W"),l=n("/76g");class d{constructor(){this.searchLabel=l.a.t("standard","Search"),this.searchPlaceholder=l.a.t("standard","Search..."),this.itemCount=l.a.t("standard","item"),this.itemsCount=l.a.t("standard","items"),this.showMore=l.a.t("standard","Show More ({n})")}}var g=n("YpZb"),u=n("ofXK"),h=n("nUpK"),p=n("gvJE");function m(t,e){if(1&t){const t=i.kc();i.jc(0,"ui-input-search",9),i.rc("search",function(e){return i.Uc(t),i.vc(2).search(e)}),i.wc(1,"t"),i.wc(2,"t"),i.ic()}if(2&t){const t=i.vc(2);i.ad("boxed"),i.Dc("showBorder",!0)("formControl",t.formControlSearch)("searchLabel",i.xc(1,6,t.dictionary.searchLabel))("searchPlaceholder",i.xc(2,8,t.dictionary.searchPlaceholder))}}function _(t,e){if(1&t&&(i.hc(0),i.fd(1),i.wc(2,"lowercase"),i.wc(3,"t"),i.gc()),2&t){const t=i.vc(3);i.Mb(1),i.id(" ",t.filters.totalCount," ",i.xc(2,2,i.xc(3,4,t.dictionary.itemCount))," ")}}function b(t,e){if(1&t&&(i.fd(0),i.wc(1,"lowercase"),i.wc(2,"t")),2&t){const t=i.vc(3);i.id(" ",t.filters.totalCount," ",i.xc(1,2,i.xc(2,4,t.dictionary.itemsCount))," ")}}function f(t,e){if(1&t&&(i.jc(0,"div",10),i.dd(1,_,4,6,"ng-container",7),i.dd(2,b,3,6,"ng-template",null,11,i.ed),i.ic()),2&t){const t=i.Rc(3),e=i.vc(2);i.Mb(1),i.Dc("ngIf",1===e.filters.options.length)("ngIfElse",t)}}function w(t,e){1&t&&i.fc(0)}function C(t,e){if(1&t&&(i.hc(0),i.dd(1,w,1,0,"ng-container",12),i.gc()),2&t){i.vc(2);const t=i.Rc(2);i.Mb(1),i.Dc("ngTemplateOutlet",t)}}const O=function(t){return{n:t}};function v(t,e){if(1&t){const t=i.kc();i.jc(0,"ui-button-text",13),i.rc("trigger",function(){return i.Uc(t),i.vc(2).filters.loadMore.next()}),i.wc(1,"t"),i.ic()}if(2&t){const t=i.vc(2);i.Dc("color","neutral")("loading",!1)("label",i.yc(1,3,t.dictionary.showMore,i.Ic(6,O,t.filters.totalCount>8&&1===t.filters.page?t.filters.totalCount-t.filters.options.length+3:t.filters.totalCount-t.filters.options.length)))}}function M(t,e){if(1&t&&(i.jc(0,"div",3),i.dd(1,m,3,10,"ui-input-search",4),i.jc(2,"div",5),i.dd(3,f,4,2,"div",6),i.dd(4,C,2,1,"ng-container",7),i.ic(),i.dd(5,v,2,8,"ui-button-text",8),i.ic()),2&t){const t=i.vc(),e=i.Rc(4);i.Vb("has-search",t.filters.totalCount>30||t.filters.searchValue.length),i.Mb(1),i.Dc("ngIf",t.filters.totalCount>30||t.filters.searchValue.length),i.Mb(2),i.Dc("ngIf",t.filters.searchValue.length),i.Mb(1),i.Dc("ngIf","multiple"===t.type)("ngIfElse",e),i.Mb(1),i.Dc("ngIf",t.filters.totalCount>7&&t.filters.hasMoreData)}}function y(t,e){if(1&t&&(i.hc(0),i.jc(1,"ui-input-checkbox",17),i.jc(2,"ui-input-label"),i.fd(3),i.ic(),i.ic(),i.gc()),2&t){const t=i.vc().$implicit;i.Mb(1),i.Dc("value",t.value),i.Mb(2),i.gd(t.label)}}function P(t,e){if(1&t&&(i.hc(0),i.dd(1,y,4,2,"ng-container",16),i.gc()),2&t){const t=e.index,n=i.vc(2);i.Mb(1),i.Dc("ngIf",n.filters.totalCount>8&&1===n.filters.page&&t<=4||n.filters.page>1||n.filters.totalCount<=8)}}const S=function(){return[]};function I(t,e){if(1&t){const t=i.kc();i.jc(0,"ui-input-checkbox-group",14),i.rc("changeSelection",function(e){return i.Uc(t),i.vc().multiSelectValueChange(e)}),i.dd(1,P,2,1,"ng-container",15),i.ic()}if(2&t){const t=i.vc();i.Dc("value",t.inputFormControl.value||i.Hc(2,S)),i.Mb(1),i.Dc("ngForOf",t.filters.options)}}function x(t,e){if(1&t&&(i.hc(0),i.jc(1,"ui-input-radio",18),i.jc(2,"ui-input-label"),i.fd(3),i.ic(),i.ic(),i.gc()),2&t){const t=i.vc().$implicit,e=i.vc(2);i.Mb(1),i.Dc("value",t.value)("groupName",e.key)("formControl",e.inputFormControl),i.Mb(2),i.gd(t.label)}}function E(t,e){if(1&t&&(i.hc(0),i.dd(1,x,4,4,"ng-container",16),i.gc()),2&t){const t=e.index,n=i.vc(2);i.Mb(1),i.Dc("ngIf",n.filters.totalCount>8&&1===n.filters.page&&t<=4||n.filters.page>1||n.filters.totalCount<=8)}}function T(t,e){if(1&t&&(i.jc(0,"ui-input-radiogroup"),i.dd(1,E,2,1,"ng-container",15),i.ic()),2&t){const t=i.vc();i.Mb(1),i.Dc("ngForOf",t.filters.options)}}let D=(()=>{class t extends a.a{constructor(t){super(),this.filters=t,this.type="multiple",this.inputFormControl=new s.e(""),this.filterChange=new i.q,this.formControlSearch=new s.e(""),this.dictionary=new d}ngOnInit(){this.formControlSearch.valueChanges.pipe(Object(o.a)(500),Object(r.a)(),Object(c.a)(this.ngUnsubscribe)).subscribe(t=>this.search(t)),this.inputFormControl.valueChanges.pipe(Object(o.a)(500),Object(c.a)(this.ngUnsubscribe)).subscribe(t=>{this.filterChange.emit({[this.key]:this.inputFormControl.value})}),this.filters.endpoint=this.endpoint,this.filters.loadMore.next()}ngOnDestroy(){super.ngOnDestroy(),this.filters.loadMore.complete()}search(t){this.filters.searchValue=t,this.filters.loadMore.next(1)}multiSelectValueChange(t){this.inputFormControl.setValue(JSON.parse(JSON.stringify(t)))}}return t.\u0275fac=function(e){return new(e||t)(i.dc(g.b))},t.\u0275cmp=i.Xb({type:t,selectors:[["doc-db-custom-filter"]],inputs:{type:"type",key:"key",endpoint:"endpoint",inputFormControl:"inputFormControl"},outputs:{filterChange:"filterChange"},features:[i.Lb([g.b]),i.Jb],decls:5,vars:1,consts:[["class","custom-filters",3,"has-search",4,"ngIf"],["multipleList",""],["singleList",""],[1,"custom-filters"],[3,"showBorder","formControl","searchLabel","searchPlaceholder","style","search",4,"ngIf"],[1,"options-list"],["class","searched-count hyd-typography-subtitle hyd-color-typography-secondary",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"color","loading","label","trigger",4,"ngIf"],[3,"showBorder","formControl","searchLabel","searchPlaceholder","search"],[1,"searched-count","hyd-typography-subtitle","hyd-color-typography-secondary"],["pluralLabel",""],[4,"ngTemplateOutlet"],[3,"color","loading","label","trigger"],[3,"value","changeSelection"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"value","groupName","formControl"]],template:function(t,e){1&t&&(i.dd(0,M,6,7,"div",0),i.dd(1,I,2,3,"ng-template",null,1,i.ed),i.dd(3,T,2,1,"ng-template",null,2,i.ed)),2&t&&i.Dc("ngIf",e.inputFormControl)},directives:[u.p,h.Xb,s.o,s.f,u.u,h.F,h.Ib,u.o,h.Hb,h.Qb,h.Ub,h.Tb],pipes:[p.b,u.m],styles:["[_nghost-%COMP%]{display:block;border-top:solid var(--hyd-size-border-xs) var(--hyd-color-border-neutral)}[_nghost-%COMP%]   .custom-filters[_ngcontent-%COMP%]{padding:var(--hyd-spacing-md) 0}[_nghost-%COMP%]   ui-input-search[_ngcontent-%COMP%]{display:block;height:53px}[_nghost-%COMP%]   .searched-count[_ngcontent-%COMP%]{padding-bottom:var(--hyd-spacing-sm)}[_nghost-%COMP%]   .options-list[_ngcontent-%COMP%]{padding:0 var(--hyd-spacing-sm)}[_nghost-%COMP%]   ui-button-text[_ngcontent-%COMP%]{padding:var(--hyd-spacing-xxs) var(--hyd-spacing-xxs) 0 var(--hyd-spacing-xxs)}[_nghost-%COMP%]   .custom-filters.has-search[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .custom-filters.has-search[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]{padding-top:var(--hyd-spacing-md)}"]}),t})()},Ycus:function(t,e,n){"use strict";n.d(e,"a",function(){return S});var i=n("k+4P"),s=n("a4yA"),a=n("XNiG"),o=n("1G5W"),r=function(t){return t[t.disabled="disabled"]="disabled",t[t.enabled="enabled"]="enabled",t}({}),c=n("/kKY"),l=n("gdse"),d=n("/iLL"),g=n("fXoL"),u=n("Y9qQ"),h=n("l7P3"),p=n("7Zvt"),m=n("JA8w"),_=n("3Pt+"),b=n("3zhW"),f=n("ofXK"),w=n("PEGs"),C=n("rnoZ"),O=n("gvJE");const v=["commentContent"];function M(t,e){if(1&t&&g.ec(0,"rich-textarea",11,12),2&t){const t=g.vc(2);g.Dc("preset",t.richTextareaPreset.BASE)("placeholderText",t.richTextareaPlaceholder)("tributeCollection",null==t.discoverMention.config?null:t.discoverMention.config.options)}}function y(t,e){if(1&t&&(g.hc(0),g.dd(1,M,2,3,"rich-textarea",10),g.gc()),2&t){const t=g.vc();g.Mb(1),g.Dc("ngIf",t.discoverMention.isConfigured)}}function P(t,e){if(1&t&&(g.jc(0,"div",13),g.fd(1),g.wc(2,"t"),g.ic()),2&t){const t=g.vc();g.Mb(1),g.hd(" ",g.xc(2,1,null==t.discoverMention.config?null:t.discoverMention.config.label)," ")}}let S=(()=>{class t{constructor(t,e,n,i,o,r){this.changeDetectionRef=t,this.backendService=e,this.store=n,this.actions=i,this.translationService=o,this.discoverMention=r,this.currentUser=Object(d.a)(),this.richTextareaPreset=s.c,this.richTextareaPlaceholder="",this.endpoints={[l.a.comment]:["comments","reply"],[l.a.question]:["questions","answer"]},this.ngUnsubscribe=new a.a}ngOnChanges(t){if(t.params){if((t.params.previousValue?t.params.previousValue.textareaLabel.query:"")===t.params.currentValue.textareaLabel.query)return;this.translationService.get(String(this.params.textareaLabel.query),{category:this.params.textareaLabel.category}).pipe(Object(o.a)(this.ngUnsubscribe)).subscribe(t=>{this.richTextareaPlaceholder=t})}}ngAfterViewInit(){this.discoverMention.setConfig({asset_id:this.params.activityId}),this.changeDetectionRef.detectChanges()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}postButtonState(){return this.commentContent&&""!==this.commentContent.inputFormControl.value?r.enabled:r.disabled}submitContent(){this.postButtonState()===r.enabled&&this.store.dispatch(this.actions.submitContent(this.endpointUrl(),this.payload(),this.isReplyToComment()?c.a.subitem:c.a.item))}endpointUrl(){const t=this.endpoints[this.params.type];let e=t[0];return this.isReplyToComment()&&(e=`${e}/${this.params.commentId}/${t[1]}`),e}isReplyToComment(){return void 0!==this.params.commentId}payload(){const t=this.discoverMention.convertMessageForSaving(this.commentContent.inputFormControl.value);return this.isReplyToComment()?Object.assign({type:this.params.type,id_asset:`${this.params.activityId}`,id_comment:`${this.params.commentId}`,content:t.message},t.payload.length&&{mentions:t.payload}):Object.assign({type:this.params.type,id_asset:`${this.params.activityId}`,title:t.message},t.payload.length&&{mentions:t.payload})}}return t.\u0275fac=function(e){return new(e||t)(g.dc(g.i),g.dc(u.a),g.dc(h.d),g.dc(p.a),g.dc(m.a),g.dc(i.a))},t.\u0275cmp=g.Xb({type:t,selectors:[["activities-stream-item-asset-form"]],viewQuery:function(t,e){if(1&t&&g.md(v,1),2&t){let t;g.Qc(t=g.sc())&&(e.commentContent=t.first)}},inputs:{params:"params"},features:[g.Lb([i.a]),g.Kb],decls:10,vars:8,consts:[[1,"root"],[1,"avatar-container"],[3,"initials","image_url","size"],[1,"wrapper"],[1,"content"],[4,"ngIf"],[1,"actions"],["class","hint-box ui-typography-subtitle ui-color-typography-secondary",4,"ngIf"],[1,"action-post"],[3,"type","text","state","click"],[3,"preset","placeholderText","tributeCollection",4,"ngIf"],[3,"preset","placeholderText","tributeCollection"],["commentContent",""],[1,"hint-box","ui-typography-subtitle","ui-color-typography-secondary"]],template:function(t,e){1&t&&(g.jc(0,"form",0),g.jc(1,"div",1),g.ec(2,"avatar",2),g.ic(),g.jc(3,"div",3),g.jc(4,"div",4),g.dd(5,y,2,1,"ng-container",5),g.ic(),g.jc(6,"div",6),g.dd(7,P,3,3,"div",7),g.jc(8,"div",8),g.jc(9,"basic-button",9),g.rc("click",function(){return e.submitContent()}),g.ic(),g.ic(),g.ic(),g.ic(),g.ic()),2&t&&(g.Mb(2),g.Dc("initials",e.currentUser.initials)("image_url",e.currentUser.avatar)("size",30),g.Mb(3),g.Dc("ngIf",e.richTextareaPlaceholder),g.Mb(2),g.Dc("ngIf",!(null==e.discoverMention.config||!e.discoverMention.config.options)),g.Mb(2),g.Dc("type","normal")("text",e.params.submitButtonText)("state",e.postButtonState()))},directives:[_.y,_.p,_.q,b.a,f.p,w.a,C.a],pipes:[O.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.root[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:1em}.root[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]{font-size:.675em;font-weight:600}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .root .avatar-container{padding:0 5px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .root .avatar-container{padding:0 0 0 5px}.root[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.root[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 0 5px;font-size:.875em}.root[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.root[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .hint-box[_ngcontent-%COMP%]{flex-grow:1}.root[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action-post[_ngcontent-%COMP%], .root[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   basic-button[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0}[_nghost-%COMP%]   textareaField[_ngcontent-%COMP%]     .mdl-textfield{padding:0}[_nghost-%COMP%]   textareaField[_ngcontent-%COMP%]     .mdl-textarea__tinymce .mdl-textfield__label{top:48px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   textareaField[_ngcontent-%COMP%]     .mdl-textarea__tinymce .mdl-textfield__label{left:20px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   textareaField[_ngcontent-%COMP%]     .mdl-textarea__tinymce .mdl-textfield__label{right:20px}[_nghost-%COMP%]   textareaField[_ngcontent-%COMP%]     .mdl-textarea__tinymce.filled .mdl-textfield__label, [_nghost-%COMP%]   textareaField[_ngcontent-%COMP%]     .mdl-textarea__tinymce.focused .mdl-textfield__label, [_nghost-%COMP%]   textareaField[_ngcontent-%COMP%]     .mdl-textarea__tinymce.is-dirty .mdl-textfield__label{display:none}"]}),t})()},YpZb:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l});var i=n("yfT8"),s=n("XNiG"),a=n("wO+i"),o=n("fXoL"),r=n("Y9qQ");class c extends i.a{constructor(t,e,n,i,s="search_text",a={}){super(t,e),this.additionalPayload={},this.labelKey=n,this.valueKey=i,this.searchParamName=s,this.additionalPayload=a}}let l=(()=>{class t{constructor(t){this.src=t,this.page=0,this.totalCount=0,this.hasMoreData=!0,this.options=[],this.searchValue="",this.isLoading=!1,this.loadMore=new s.a,this.loadMore.asObservable().subscribe(t=>{this.hasMoreData&&(this.page=null!=t?t:this.page+1,this.isLoading=!0,this.loadMoreOptions(1===this.page))})}loadMoreOptions(t=!1){this.src.request(this.endpoint.url,this.endpoint.verb,Object.assign(Object.assign(Object.assign({page:this.page},this.searchValue.length&&{[this.endpoint.searchParamName]:this.searchValue}),{page_size:8}),this.endpoint.additionalPayload)).pipe(Object(a.a)("data")).subscribe(e=>{this.totalCount=e.total_count,this.hasMoreData=e.has_more_data;const n=e.items.map(t=>({label:t[this.endpoint.labelKey],value:Number(t[this.endpoint.valueKey])}));this.options=t?n:this.options.concat(n),this.isLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(o.nc(r.a))},t.\u0275prov=o.Zb({token:t,factory:t.\u0275fac}),t})()},a2IQ:function(t,e,n){"use strict";n.d(e,"a",function(){return y}),n.d(e,"b",function(){return p}),n.d(e,"c",function(){return P});var i=n("mrSG"),s=n("GIHc"),a=n("d+dA"),o=n("bUIS"),r=n("8lF4"),c=n("3Pt+"),l=n("gvJE");const d={name:"image",heading:l.a.t("standard","_IMAGE"),description:l.a.t("admin_webpages","Shows a custom image"),preview:"/public/images/pages/image-widget-preview.jpg",params:[{name:"title",type:"textMultilang",label:l.a.t("standard","Title"),legend:l.a.t("admin_webpages","Leave blank to hide the title"),settings:{showCounter:!0,maxLength:255}},{title:l.a.t("admin_webpages","Content to Display"),subtitle:l.a.t("admin_webpages","The image width will fit 100% of the widget size, while the image height will be resized in order to keep the aspect ratio."),type:"group",name:"contentToDisplay",subFields:[{name:"image",type:"image",label:l.a.t("setup","Upload your image"),legend:l.a.t("forum","Max. file size {size} MB",{size:4}),placeholder:l.a.t("standard","Click to choose a file"),validation:[c.x.required],settings:{maxFileSize:4,allowedExtensions:["png","jpg","jpeg"]}},{name:"destinationUrl",type:"url",label:l.a.t("admin_webpages","Destination URL"),legend:l.a.t("admin_webpages","Optionally you can link your image")},{name:"openInANewTabWindow",type:"switch",label:l.a.t("admin_webpages","Open in a New Tab/Window"),defaultValue:!1}]}]},g={id:void 0,type:void 0,settings:{assignToAll:void 0,destinationUrl:void 0,image:void 0,openInANewTabWindow:void 0,translationsLocalizableFields:{title:void 0}}};var u=n("8ybL"),h=n("r0xE");class p extends h.a{constructor(){super(),this.config=this.initConfig(d)}}var m=n("fXoL"),_=n("tyNb"),b=n("JA8w"),f=n("ofXK"),w=n("u9ID");function C(t,e){if(1&t&&m.ec(0,"widget-title",3),2&t){const t=m.vc();m.Dc("widgetTitle",t.widgetTitle)}}function O(t,e){if(1&t){const t=m.kc();m.jc(0,"img",7),m.rc("click",function(e){return m.Uc(t),m.vc(2).navigateToUrl(e)}),m.ic()}if(2&t){const t=m.vc(2);m.Dc("src",t.imageSource,m.Xc)}}function v(t,e){if(1&t&&m.ec(0,"img",8),2&t){const t=m.vc(2);m.Dc("src",t.imageSource,m.Xc)}}function M(t,e){if(1&t&&(m.jc(0,"div",4),m.dd(1,O,1,1,"img",5),m.dd(2,v,1,1,"img",6),m.ic()),2&t){const t=m.vc();m.Mb(1),m.Dc("ngIf",t.hasUrl),m.Mb(1),m.Dc("ngIf",!t.hasUrl)}}let y=(()=>{let t=class extends o.a{constructor(t,e,n,i){super(),this.changeDetectorRef=t,this.router=e,this.translationService=n,this.uploadService=i,this.data=g}ngOnInit(){this.setWidgetTitle(this.translationService.currentLang,a.b.getInstance().default_language),this.uploadServiceSubscriber=this.uploadService.getSignedUrl({name:this.data.settings.image,type:this.uploadService.getFileMimeType(this.data.settings.image)},"uploads","",!0,"read").subscribe(t=>{this.imageUri=this.uploadService.stripQuerystring(t.data.url),this.changeDetectorRef.markForCheck()})}ngOnDestroy(){this.uploadServiceSubscriber&&this.uploadServiceSubscriber.unsubscribe()}get imageSource(){return this.imageUri}get hasUrl(){return null!==this.data.settings.destinationUrl&&""!==this.data.settings.destinationUrl}navigateToUrl(t){t.preventDefault();const e=this.data.settings.destinationUrl;if(this.data.settings.openInANewTabWindow)window.open(e,"_blank");else{const t=function(t){let e=t;const n=a.b.getInstance(),i=n.getPlatformActualUrl(),s=n.getPlatformBaseUrl(!0);(function(t){return 0!==t.indexOf("http")})(e)&&(e=e.replace(/(^\/)/,""),e=`${i}/${e}`);const o=new RegExp(`${i}`,"g");if(e=e.replace(o,s),-1===e.indexOf(s))return null;const r=e.substring(s.length+1),c=r.split("/");return 0===c.length||"lms"===c[0]?null:r}(e);null===t?window.open(e,"_self"):this.router.navigateByUrl(t)}}};return t.\u0275fac=function(e){return new(e||t)(m.dc(m.i),m.dc(_.h),m.dc(b.a),m.dc(s.a))},t.\u0275cmp=m.Xb({type:t,selectors:[["image-widget"]],features:[m.Lb([s.a]),m.Jb],decls:3,vars:2,consts:[[1,"root"],[3,"widgetTitle",4,"ngIf"],["class","image-container",4,"ngIf"],[3,"widgetTitle"],[1,"image-container"],["class","image image-with-url",3,"src","click",4,"ngIf"],["class","image",3,"src",4,"ngIf"],[1,"image","image-with-url",3,"src","click"],[1,"image",3,"src"]],template:function(t,e){1&t&&(m.jc(0,"div",0),m.dd(1,C,1,1,"widget-title",1),m.dd(2,M,3,2,"div",2),m.ic()),2&t&&(m.Mb(1),m.Dc("ngIf",e.widgetTitle),m.Mb(1),m.Dc("ngIf",e.imageSource))},directives:[f.p,w.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.image-container[_ngcontent-%COMP%]{text-align:center}.image[_ngcontent-%COMP%]{width:100%}.image.image-with-url[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),t=Object(i.b)([Object(r.a)({name:d.name,module:"pages",settings:p})],t),t})();const P=u},a37g:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{init(e,n){return{type:t.INIT,payload:{params:e,id:n}}}update(e,n){return{type:t.UPDATE,payload:{id:n,params:e}}}updateWidgetHeight(e,n,i=!1){return{type:t.UPDATE_WIDGET_HEIGHT,payload:{id:n,status:i,params:e}}}loadDataSuccess(e,n,i){return{type:t.LOAD_DATA_SUCCESS,payload:{data:e,action:n,id:i}}}loadDataReject(e){return{type:t.LOAD_DATA_REJECT,payload:{status:"error",errorMsg:e}}}loadDemoData(e,n,i){return{type:t.LOAD_DEMO_DATA,payload:{data:e,action:n,id:i}}}}return t.INIT="[WGamification] Init widget",t.UPDATE="[WGamification] Update widget",t.UPDATE_WIDGET_HEIGHT="[WGamification] Update Gamification Widget Height",t.LOAD_DATA_SUCCESS="[WGamification] Load widget data",t.LOAD_DATA_REJECT="[WGamification] Failed loading Custom Widget Page data",t.LOAD_DEMO_DATA="[WGamification] Load widget demo data",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},aHuI:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{destroy(e){return{type:t.DESTROY,payload:{widgetId:e}}}init(e){return{type:t.INIT,payload:{widgetId:e}}}postSubscriptionCode(e,n){return{type:t.POST_SUBSCRIPTION_CODE,payload:{subscriptionCode:e,widgetId:n}}}postSubscriptionCodeSuccess(e,n){return{type:t.POST_SUBSCRIPTION_CODE_SUCCESS,payload:{data:e,widgetId:n}}}postSubscriptionCodeReject(e,n){return{type:t.POST_SUBSCRIPTION_CODE_REJECT,payload:{errorMsg:e,status:"error",widgetId:n}}}}return t.DESTROY="[WSubscriptionCode] Destroy widget",t.INIT="[WSubscriptionCode] Init widget",t.POST_SUBSCRIPTION_CODE="[WSubscriptionCode] post subscription code",t.POST_SUBSCRIPTION_CODE_SUCCESS="[WSubscriptionCode] post subscription code success",t.POST_SUBSCRIPTION_CODE_REJECT="[WSubscriptionCode] post subscription code reject",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},bS13:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{init(e,n){return{type:t.INIT,payload:{params:e,id:n}}}loadDataSucces(e,n){return{type:t.LOAD_DATA_SUCCESS,payload:{data:e,id:n}}}loadDataReject(e,n){return{type:t.LOAD_DATA_REJECT,payload:{status:"error",errorMsg:e,id:n}}}loadDemoData(e,n){return{type:t.LOAD_DEMO_DATA,payload:{data:e,id:n}}}}return t.INIT="[WMyKPIs] Init widget",t.LOAD_DATA_SUCCESS="[WMyKPIs] Load widget data",t.LOAD_DATA_REJECT="[WMyKPIs] Failed loading Custom Widget Page data",t.LOAD_DEMO_DATA="[WMyKPIs] Load widget demo data",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},"bg/f":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("ofXK"),s=n("tfGn"),a=n("fXoL");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.bc({type:t}),t.\u0275inj=a.ac({imports:[[i.c,s.a]]}),t})()},c0oN:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("dRcD"),s=n("KvBp"),a=n("fXoL"),o=n("Y9qQ"),r=n("S2Qf");let c=(()=>{class t{constructor(t,e){this._backendService=t,this._translate=e}getChecklists(t){const e=i.a.getInstance().id;return this._backendService.request(`/otj/v1/users/${e}/assignments`,"GET",t)}modulateChecklistData(t,e=!1){const n={relativeTime:{future:this._translate.instant("a day"),past:this._translate.instant("a day"),s:this._translate.instant("a day"),m:this._translate.instant("a day"),mm:this._translate.instant("a day"),h:this._translate.instant("a day"),hh:this._translate.instant("a day"),d:this._translate.instant("a day"),dd:this._translate.instant("{time} days",{time:"%d"}),M:this._translate.instant("a month"),MM:this._translate.instant("{time} months",{time:"%d"}),y:this._translate.instant("a year"),yy:this._translate.instant("{time} years",{time:"%d"})}};return Object(s.d)(t,e,n,this._translate)}}return t.\u0275fac=function(e){return new(e||t)(a.nc(o.a),a.nc(r.h))},t.\u0275prov=a.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},cIHy:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("fXoL"),s=n("ofXK"),a=n("gvJE");function o(t,e){if(1&t&&(i.jc(0,"li"),i.jc(1,"span",5),i.fd(2),i.ic(),i.fd(3),i.ic()),2&t){const t=e.$implicit;i.Mb(2),i.gd(t.title),i.Mb(1),i.hd(" ",t.value," ")}}const r=function(){return{category:"standard"}};let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xb({type:t,selectors:[["ng-component"]],inputs:{userData:"userData",additionalFields:"additionalFields"},decls:53,vars:43,consts:[[1,"section-user-info"],[1,"section-content","border-grey-light"],[1,"subtitle","bolded","text-black"],[1,"text-grey-mid","hint"],[1,"list-info"],[1,"text-grey-mid"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.jc(0,"div",0),i.jc(1,"div",1),i.jc(2,"h3",2),i.fd(3),i.wc(4,"t"),i.ic(),i.jc(5,"h4",3),i.fd(6),i.wc(7,"t"),i.ic(),i.jc(8,"ul",4),i.jc(9,"li"),i.jc(10,"span",5),i.fd(11),i.wc(12,"t"),i.ic(),i.fd(13),i.ic(),i.jc(14,"li"),i.jc(15,"span",5),i.fd(16),i.wc(17,"t"),i.ic(),i.fd(18),i.ic(),i.jc(19,"li"),i.jc(20,"span",5),i.fd(21),i.wc(22,"t"),i.ic(),i.fd(23),i.ic(),i.jc(24,"li"),i.jc(25,"span",5),i.fd(26),i.wc(27,"t"),i.ic(),i.fd(28),i.ic(),i.jc(29,"li"),i.jc(30,"span",5),i.fd(31),i.wc(32,"t"),i.ic(),i.fd(33),i.ic(),i.jc(34,"li"),i.jc(35,"span",5),i.fd(36),i.wc(37,"t"),i.ic(),i.fd(38),i.ic(),i.jc(39,"li"),i.jc(40,"span",5),i.fd(41),i.wc(42,"t"),i.ic(),i.fd(43),i.ic(),i.ic(),i.ic(),i.jc(44,"div",1),i.jc(45,"h3",2),i.fd(46),i.wc(47,"t"),i.ic(),i.jc(48,"h4",3),i.fd(49),i.wc(50,"t"),i.ic(),i.jc(51,"ul",4),i.dd(52,o,4,2,"li",6),i.ic(),i.ic(),i.ic()),2&t&&(i.Mb(3),i.gd(i.xc(4,19,"General Information")),i.Mb(3),i.gd(i.xc(7,21,"General information for the user")),i.Mb(5),i.gd(i.xc(12,23,"Username")),i.Mb(2),i.hd(" ",e.userData.username," "),i.Mb(3),i.gd(i.xc(17,25,"Email")),i.Mb(2),i.hd(" ",e.userData.email," "),i.Mb(3),i.gd(i.xc(22,27,"First Name")),i.Mb(2),i.hd(" ",e.userData.first_name," "),i.Mb(3),i.gd(i.xc(27,29,"Last Name")),i.Mb(2),i.hd(" ",e.userData.last_name," "),i.Mb(3),i.gd(i.yc(32,31,"_LEVEL",i.Hc(42,r))),i.Mb(2),i.hd(" ",e.userData.level," "),i.Mb(3),i.gd(i.xc(37,34,"Language")),i.Mb(2),i.hd(" ",e.userData.language," "),i.Mb(3),i.gd(i.xc(42,36,"Expiration")),i.Mb(2),i.hd(" ",e.userData.expiration_date," "),i.Mb(3),i.gd(i.xc(47,38,"Additional Fields")),i.Mb(3),i.gd(i.xc(50,40,"Information on additional user fields")),i.Mb(3),i.Dc("ngForOf",e.additionalFields))},directives:[s.o],pipes:[a.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]     .section-content{padding:24px}[_nghost-%COMP%]     .section-content~.section-content{border-width:1px 0 0;border-style:solid}[_nghost-%COMP%]     .section-content .subtitle{font-size:14px;line-height:1.2;margin-bottom:10px}[_nghost-%COMP%]     .section-content .subtitle+.hint{position:relative;top:-5px}[_nghost-%COMP%]     .subtitle{margin-bottom:4px}[_nghost-%COMP%]     .subtitle+h4{margin-bottom:20px;line-height:1.2}[_nghost-%COMP%]     .list-info li{line-height:1.5}[_nghost-%COMP%]     .list-info li~li{margin-top:4px}[_nghost-%COMP%]     .list-info li span{max-width:260px;display:inline-block;vertical-align:top}"]}),t})()},dXPX:function(t,e,n){var i=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}n=1;for(var s=arguments,a=s.length,r=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=a)return t;switch(t){case"%s":return String(s[n++]);case"%d":return Number(s[n++]);case"%j":try{return JSON.stringify(s[n++])}catch(_){return"[Circular]"}default:return t}}),c=s[n];n<a;c=s[++n])p(c)||!C(c)?r+=" "+c:r+=" "+o(c);return r},e.deprecate=function(t,n){if(f(global.process))return function(){return e.deprecate(t,n).apply(this,arguments)};if(!0===process.noDeprecation)return t;var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),i=!0}return t.apply(this,arguments)}};var s,a={};function o(t,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),h(n)?i.showHidden=n:n&&e._extend(i,n),f(i.showHidden)&&(i.showHidden=!1),f(i.depth)&&(i.depth=2),f(i.colors)&&(i.colors=!1),f(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),l(i,t,i.depth)}function r(t,e){var n=o.styles[e];return n?"\x1b["+o.colors[n][0]+"m"+t+"\x1b["+o.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,i){if(t.customInspect&&n&&M(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var s=n.inspect(i,t);return b(s)||(s=l(t,s,i)),s}var a=function(t,e){if(f(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):h(e)?t.stylize(""+e,"boolean"):p(e)?t.stylize("null","null"):void 0}(t,n);if(a)return a;var o=Object.keys(n),r=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),v(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(n);if(0===o.length){if(M(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(O(n))return t.stylize(Date.prototype.toString.call(n),"date");if(v(n))return d(n)}var c,_="",C=!1,y=["{","}"];return u(n)&&(C=!0,y=["[","]"]),M(n)&&(_=" [Function"+(n.name?": "+n.name:"")+"]"),w(n)&&(_=" "+RegExp.prototype.toString.call(n)),O(n)&&(_=" "+Date.prototype.toUTCString.call(n)),v(n)&&(_=" "+d(n)),0!==o.length||C&&0!=n.length?i<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=C?function(t,e,n,i,s){for(var a=[],o=0,r=e.length;o<r;++o)x(e,String(o))?a.push(g(t,e,n,i,String(o),!0)):a.push("");return s.forEach(function(s){s.match(/^\d+$/)||a.push(g(t,e,n,i,s,!0))}),a}(t,n,i,r,o):o.map(function(e){return g(t,n,i,r,e,C)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,_,y)):y[0]+_+y[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,n,i,s,a){var o,r,c;if((c=Object.getOwnPropertyDescriptor(e,s)||{value:e[s]}).get?r=t.stylize(c.set?"[Getter/Setter]":"[Getter]","special"):c.set&&(r=t.stylize("[Setter]","special")),x(i,s)||(o="["+s+"]"),r||(t.seen.indexOf(c.value)<0?(r=p(n)?l(t,c.value,null):l(t,c.value,n-1)).indexOf("\n")>-1&&(r=a?r.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+r.split("\n").map(function(t){return"   "+t}).join("\n")):r=t.stylize("[Circular]","special")),f(o)){if(a&&s.match(/^\d+$/))return r;(o=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+r}function u(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function p(t){return null===t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function f(t){return void 0===t}function w(t){return C(t)&&"[object RegExp]"===y(t)}function C(t){return"object"==typeof t&&null!==t}function O(t){return C(t)&&"[object Date]"===y(t)}function v(t){return C(t)&&("[object Error]"===y(t)||t instanceof Error)}function M(t){return"function"==typeof t}function y(t){return Object.prototype.toString.call(t)}function P(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(f(s)&&(s=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(s)){var n=process.pid;a[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else a[t]=function(){};return a[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=u,e.isBoolean=h,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=f,e.isRegExp=w,e.isObject=C,e.isDate=O,e.isError=v,e.isFunction=M,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("VNB6");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var t=new Date,e=[P(t.getHours()),P(t.getMinutes()),P(t.getSeconds())].join(":");return[t.getDate(),S[t.getMonth()],e].join(" ")}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",I(),e.format.apply(e,arguments))},e.inherits=n("5wz/"),e._extend=function(t,e){if(!e||!C(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}},do78:function(t){t.exports=JSON.parse('{"data":{"date_completed":"2017-10-31 14:34:44","date_created":"2017-10-31 14:34:22","payment_method":"stripe","payment_txn_id":"txn_1BJ0pDKda5qGVJOK8UTb1QoQ","payment_currency":"USD","payment_id":"1827","items":[{"item_id":656,"item_code":"","item_title":"2508-course-3","item_price":20,"item_seats":0,"item_type":"course"},{"item_id":700,"item_code":"","item_title":"2508-course-3","item_price":18,"item_seats":0,"item_type":"course"},{"item_id":701,"item_code":"","item_title":"2508-course-3","item_price":18,"item_seats":0,"item_type":"course"},{"item_id":702,"item_code":"","item_title":"2508-course-3","item_price":18,"item_seats":0,"item_type":"course"},{"item_id":703,"item_code":"","item_title":"2508-course-3","item_price":18,"item_seats":0,"item_type":"course"}],"buyer_data":{"user_id":13010,"username":"staff.support","firstname":"Staff\u0443\u0443\u0443","lastname":"Support","date_completed":"2017-10-31 14:34:44","payment_method":"stripe","payment_txn_id":"txn_1BJ0pDKda5qGVJOK8UTb1QoQ","payment_currency":"USD"},"total_price":18,"gateway_information":null}}')},e4u3:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var i=function(t){return t.new="new",t.approved="approved",t.rejected="rejected",t}({}),s=function(t){return t.manager="manager",t.custom_user="custom_user",t}({})},eRXO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{init(e){return{type:t.INIT}}update(e){return{type:t.UPDATE}}loadDataSucces(e){return{type:t.LOAD_DATA_SUCCESS,payload:{data:e}}}loadDataReject(e){return{type:t.LOAD_DATA_REJECT,payload:{status:"error",errorMsg:e}}}loadDemoData(e){return{type:t.LOAD_DEMO_DATA,payload:{data:e}}}}return t.INIT="[WTrending] Init widget",t.UPDATE="[WTrending] Update widget",t.LOAD_DATA_SUCCESS="[WTrending] Load widget data",t.LOAD_DATA_REJECT="[WTrending] Failed loading Custom Widget Page data",t.LOAD_DEMO_DATA="[WTrending] Load widget demo data",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},ecWn:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});var i=n("G1Bt"),s=n("IiIP"),a=n("8kTK");const o=[i.a,s.a,a.a],r={badges:s.a,leaderboards:i.a,contests:a.a}},ef7w:function(t,e,n){"use strict";n.d(e,"c",function(){return G}),n.d(e,"b",function(){return H}),n.d(e,"d",function(){return $});var i=n("mrSG"),s=n("8lF4"),a=n("IzEk"),o=n("d+dA"),r=n("gvJE"),c=n("bUIS"),l=n("r0xE"),d=n("nsn+"),g=n("e3q5"),u=n("kAAy"),h=n("hAKv"),p=n("VoiC"),m=n("Rj/4"),_=n("LC/E"),b=n("fXoL"),f=n("l7P3"),w=n("O8am"),C=n("JA8w"),O=n("jhN1"),v=n("+s/G"),M=n("S2Qf"),y=n("jesm"),P=n("ofXK"),S=n("u9ID"),I=n("3zhW"),x=n("zvKk"),E=n("ny5d");function T(t,e){if(1&t&&b.ec(0,"widget-title",3),2&t){const t=b.vc();b.Dc("widgetTitle",t.widgetTitle)}}function D(t,e){if(1&t&&(b.jc(0,"span"),b.fd(1),b.ic()),2&t){const t=b.vc(2);b.Mb(1),b.gd(t.data.email)}}function k(t,e){1&t&&(b.jc(0,"span"),b.fd(1,"\xa0"),b.ic())}function A(t,e){1&t&&b.ec(0,"myprofile-additional-field",18),2&t&&b.Dc("additionalField",e.$implicit)}function L(t,e){if(1&t&&(b.jc(0,"div",16),b.dd(1,A,1,1,"myprofile-additional-field",17),b.ic()),2&t){const t=b.vc(2);b.Mb(1),b.Dc("ngForOf",t.actualAdditionalFieldsToShow(t.data.settings.additionalFieldsToShow))}}n.d(e,"a",function(){return x.a});const j=function(){return{password:!0}},N=function(t){return["/learn/my-profile",t]};function R(t,e){if(1&t&&b.ec(0,"widget-action-button",19),2&t){const t=b.vc(2);b.Dc("link",b.Ic(3,N,b.Hc(2,j)))("title",t.translations.changePassword)}}const F=function(){return["/legacy/lms/index.php?r=myActivities/index"]};function U(t,e){if(1&t&&b.ec(0,"widget-action-button",19),2&t){const t=b.vc(2);b.Dc("link",b.Hc(2,F))("title",t.translations.myActivities)}}const z=function(){return{user_details:!0}};function q(t,e){if(1&t&&b.ec(0,"widget-action-button",19),2&t){const t=b.vc(2);b.Dc("link",b.Ic(3,N,b.Hc(2,z)))("title",t.translations.myProfile)}}function B(t,e){if(1&t&&(b.jc(0,"div",4),b.jc(1,"div",5),b.jc(2,"div",6),b.jc(3,"div",7),b.ec(4,"avatar",8),b.ic(),b.jc(5,"div",9),b.jc(6,"div",10),b.fd(7),b.ic(),b.jc(8,"div",11),b.dd(9,D,2,1,"span",12),b.dd(10,k,2,0,"span",12),b.ic(),b.ic(),b.ic(),b.ic(),b.dd(11,L,2,1,"div",13),b.jc(12,"div",14),b.dd(13,R,1,5,"widget-action-button",15),b.dd(14,U,1,3,"widget-action-button",15),b.dd(15,q,1,5,"widget-action-button",15),b.ic(),b.ic()),2&t){const t=b.vc();b.Mb(1),b.Dc("ngStyle",t.coverStyle()),b.Mb(3),b.Dc("initials",t.data.initials)("image_url",t.showProfilePicture()?t.data.avatar:null)("size",40),b.Mb(3),b.gd(t.data.fullName),b.Mb(2),b.Dc("ngIf",t.showEmail()),b.Mb(1),b.Dc("ngIf",!t.showEmail()),b.Mb(1),b.Dc("ngIf",t.showAdditionalFields()),b.Mb(2),b.Dc("ngIf",t.allowPasswordChange),b.Mb(1),b.Dc("ngIf",t.showLink("MyActivities")),b.Mb(1),b.Dc("ngIf",t.showLink("MyProfile"))}}const V=function(t){return{"myprofile-fixed-height":t}};class G extends l.a{constructor(t){super(),this.widgetSettingsDependenciesService=t,this.serviceProvider=t.backendService,this.config=this.initConfig({name:"myprofile",preview:"/public/images/pages/myprofile-widget-preview.jpg",heading:r.a.t("menu_course","_PROFILE"),description:r.a.t("admin_webpages","Show profile panel with user's details"),params:[{name:"title",type:"textMultilang",label:r.a.t("standard","Title"),legend:r.a.t("dashboard","Leave blank to hide the title"),settings:{showCounter:!0,maxLength:255}},{name:"options",title:r.a.t("admin","Options"),type:"group",subFields:[{name:"showUserProfilePicture",type:"switch",label:r.a.t("admin_webpages","Show user's profile picture"),defaultValue:!0},{name:"showUserEmail",type:"switch",label:r.a.t("admin_webpages","Show user's email"),defaultValue:!0},{name:"showMyActivitiesLink",type:"switch",label:r.a.t("admin_webpages",'Show "My Activities" link'),defaultValue:!0},{name:"showMyProfileLink",type:"switch",label:r.a.t("admin_webpages",'Show "My Profile" link'),defaultValue:!0}]},{name:"additionalFieldsToDisplay",title:"Additional fields to display",type:"group",subFields:[{name:"additionalFieldsToShow",type:"multiselect",label:r.a.t("admin_webpages","Selected Fields"),defaultValue:[],asyncOptions:!0,options:[]}]},{name:"widgetHeight",type:"group",title:r.a.t("dashboard","Widget height"),subtitle:r.a.t("admin_webpages","When the natural height of the widget content is smaller than the selected height, the widget will be forced to resize to the selected value"),subFields:[{name:"minHeightPx",type:"number",label:r.a.t("templatemanager","Min height"),legend:r.a.t("admin_webpages","Leave blank to use default height"),validation:[d.a.range(1,1e3)]}]}]})}asyncSettings(t){this.getAdditionalFieldsAsync().subscribe(e=>{this.config.params.find(t=>"additionalFieldsToDisplay"===t.name).subFields.find(t=>"additionalFieldsToShow"===t.name).options=e.data,t.next(this.config)},e=>{t.next(this.config)})}getAdditionalFieldsAsync(){return this.serviceProvider.request("/loki/widget/v1/user_profile/settings","GET")}}function W(t,e){return Object(i.a)(this,void 0,void 0,function*(){try{console.log("Waiting for store");const t=function(t,e){let n=!1;return e.select("featureToggles").pipe(Object(a.a)(1)).subscribe(t=>{console.log("*** Store is ready. Checking for feature toggle."),n=Object(u.a)(t,g.a.TOGGLE_ADMIN_PAGES_WIDGETS_MYPROFILE)}),n}(0,e);return console.log("Result is:",t),t}catch(t){return console.log("Error:",t),!1}})}let H=(()=>{let t=class extends c.a{constructor(t,e,n,i,s,a,o,c){super(),this.store=t,this.actions=e,this.translationService=n,this.sanitizier=i,this.widgetRenderService=s,this.changeDetectorRef=a,this._toggleService=o,this._myProfileService=c,this.data={id:"",type:"",settings:{assignToAll:!0,showMyProfileLink:!1,showMyActivitiesLink:!1,showUserEmail:!1,showUserProfilePicture:!1,minHeightPx:null,additionalFieldsToShow:[],translationsLocalizableFields:{title:{en:""}}},cover:{color:"",image:""},avatar:"",fullName:"",initials:"",email:"",additionalFields:{}},this.translations={changePassword:r.a.t("profile","_CHANGEPASSWORD"),myActivities:r.a.t("course","My Activities"),myProfile:r.a.t("menu_course","_PROFILE")},this.state={additionalFieldCount:0,showWidget:!1},this.allowPasswordChange=this._myProfileService.isChangePasswordAllowed(),void 0!==this.store&&this.store.dispatch(this.actions.init())}ngOnInit(){this.reduxListener(),this.setWidgetTitle(this.translationService.currentLang,o.b.getInstance().default_language)}ngOnDestroy(){this.reduxSubscriber.unsubscribe()}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(_.h).subscribe(t=>{switch(this.currentState=t,this.currentState.status){case"DATA_LOADED":case"DEMO_DATA_LOADED":this.mergeData(this.currentState.customPageData),this.setState({showWidget:!0}),this.changeDetectorRef.markForCheck();break;default:return}}))}setState(t){this.state=Object.assign(Object.assign({},this.state),t)}coverStyle(){return{"background-color":this.coverColor(),"background-image":this.coverImage()}}showProfilePicture(){return this.data.settings.showUserProfilePicture}showEmail(){return this.data.settings.showUserEmail}showAdditionalFields(){return this.data.settings.additionalFieldsToShow&&this.data.settings.additionalFieldsToShow.length>0}showLink(t){switch(t){case"MyProfile":return this.data.settings.showMyProfileLink;case"MyActivities":return this.data.settings.showMyActivitiesLink;default:return!1}}showWidget(){return this.state.showWidget}actualAdditionalFieldsToShow(t){const e=new Array;for(let n=0;n<t.length;++n){const i=this.additionalField(t[n]);i&&e.push(i)}return e}hasFixedHeight(){return this.data.settings.minHeightPx&&this.data.settings.minHeightPx>0}additionalField(t){return void 0!==this.data.additionalFields?this.data.additionalFields[this.additionalFieldKeyFromDemoOrReal(t)]:{label:"",type:h.a.textfield,value:""}}additionalFieldKeyFromDemoOrReal(t){return this.setState({additionalFieldCount:this.state.additionalFieldCount<9?this.state.additionalFieldCount+1:1}),Object(p.a)(this.widgetRenderService)?`99999${this.state.additionalFieldCount}`:t}coverColor(){return void 0!==this.data.cover?this.data.cover.color:""}coverImage(){return void 0!==this.data.cover&&null!==this.data.cover.image?this.sanitizier.bypassSecurityTrustStyle(`url(${this.data.cover.image})`):null}};return t.\u0275fac=function(e){return new(e||t)(b.dc(f.d),b.dc(w.a),b.dc(C.a),b.dc(O.b),b.dc(v.a),b.dc(b.i),b.dc(M.g),b.dc(y.a))},t.\u0275cmp=b.Xb({type:t,selectors:[["myprofile-widget"]],features:[b.Jb],decls:3,vars:7,consts:[[1,"root",3,"ngClass"],[3,"widgetTitle",4,"ngIf"],["class","wrapper wrapper-shadow",4,"ngIf"],[3,"widgetTitle"],[1,"wrapper","wrapper-shadow"],[1,"cover",3,"ngStyle"],[1,"profile"],[1,"avatar-container"],[3,"initials","image_url","size"],[1,"details-container"],[1,"fullName"],[1,"email"],[4,"ngIf"],["class","additional-fields-container",4,"ngIf"],[1,"widget-actions-container"],[3,"link","title",4,"ngIf"],[1,"additional-fields-container"],["class","additional-field",3,"additionalField",4,"ngFor","ngForOf"],[1,"additional-field",3,"additionalField"],[3,"link","title"]],template:function(t,e){1&t&&(b.jc(0,"div",0),b.dd(1,T,1,1,"widget-title",1),b.dd(2,B,16,11,"div",2),b.ic()),2&t&&(b.cd("min-height",(null==e.data.settings?null:e.data.settings.minHeightPx)+"px"),b.Dc("ngClass",b.Ic(5,V,e.hasFixedHeight())),b.Mb(1),b.Dc("ngIf",e.widgetTitle),b.Mb(1),b.Dc("ngIf",e.showWidget()))},directives:[P.n,P.p,S.a,P.q,I.a,P.o,x.a,E.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]{display:flex}.root[_ngcontent-%COMP%]{flex-grow:1;font-size:1rem;width:100%}.cover[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{background-color:#fff}.cover[_ngcontent-%COMP%]{font-weight:600;background-size:cover;background-position:100%}.profile[_ngcontent-%COMP%]{padding:20px 25px}.avatar-container[_ngcontent-%COMP%]{margin:0 0 15px}.details-container[_ngcontent-%COMP%]{font-size:1em;color:#fff}.details-container[_ngcontent-%COMP%]   .fullName[_ngcontent-%COMP%]{margin:0 0 5px;font-size:1em}.details-container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:.75em}.additional-fields-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;padding:20px 25px 17.5px;font-size:1em}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .additional-fields-container{flex-direction:row}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .additional-fields-container{flex-direction:row-reverse}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .additional-fields-container{justify-content:flex-start}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .additional-fields-container{justify-content:flex-end}.widgets-column-small   [_nghost-%COMP%]     .additional-fields-container .root, .widgets-column-small   [_nghost-%COMP%]     .additional-fields-container .root{align-items:flex-start}@media screen and (max-width:640px){.widgets-column-small   [_nghost-%COMP%]     .additional-fields-container .root, [_nghost-%COMP%]     .additional-fields-container .root{align-items:flex-start}}.widgets-column-small[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%], .widgets-column-small[_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]{padding:20px 25px 2.5px}@media screen and (max-width:640px){.additional-fields-container[_ngcontent-%COMP%], .widgets-column-small[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]{padding:20px 25px 2.5px}}.additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%]{box-sizing:border-box;flex-basis:25%;margin:0 0 7px;min-width:25%;font-size:1em}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .additional-fields-container .additional-field{padding:0 10px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .additional-fields-container .additional-field{padding:0 0 0 10px}.widgets-column-inherit-medium[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-medium[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-inherit-medium[_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-inherit-medium   [_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-medium[_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-medium   [_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%]{min-width:33%}@media screen and (max-width:992px){.additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-medium[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%]{min-width:33%}}.widgets-column-half[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-inherit-half[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-half[_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-half   [_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-inherit-half[_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%]{min-width:50%}@media screen and (max-width:768px){.additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-half[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%]{min-width:50%}}.widgets-column-small[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-small[_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%]{margin:0 0 12.5px}@media screen and (max-width:640px){.additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%], .widgets-column-small[_ngcontent-%COMP%]   .additional-fields-container[_ngcontent-%COMP%]   .additional-field[_ngcontent-%COMP%]{margin:0 0 12.5px}}.myprofile-fixed-height[_ngcontent-%COMP%], .myprofile-fixed-height[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.myprofile-fixed-height[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%], .myprofile-fixed-height[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0}),t=Object(i.b)([Object(s.a)({name:"myprofile",module:"pages",settings:G,conditions:{exists:W}})],t),t})();const $=m},fCoP:function(t,e,n){"use strict";n.d(e,"b",function(){return q}),n.d(e,"a",function(){return B}),n.d(e,"c",function(){return V});var i=n("mrSG"),s=n("dRcD"),a=n("bUIS"),o=n("gvJE"),r=n("r0xE"),c=n("d+dA"),l=n("fYJ8"),d=n("0XDt");let g=(()=>{class t{}return t.labels={best_answer:{label:o.a.t("app7020",'My answers marked as "Best Answer"')},score_elearning:{label:o.a.t("admin_webpages","Best score in an E-Learning course")},score_classroom:{label:o.a.t("admin_webpages","Best score in a Classroom course")},logged_users:{label:o.a.t("admin_webpages","Users recently active in courses")},assets_day:{label:o.a.t("admin_webpages","Assets loaded to Coach & Share for current day")},assets_7days:{label:o.a.t("admin_webpages","Assets loaded to Coach & Share for last 7 days")},qa_day:{label:o.a.t("admin_webpages","Q&A in coach&share for current day")},qa_7days:{label:o.a.t("admin_webpages","Q&A in coach&share for last seven days")},managed_courses:{label:o.a.t("dashlets","Managed courses")},managed_users:{label:o.a.t("dashlets","Managed users")},answered_questions:{label:o.a.t("app7020","Answered questions")},reviewed_approved_assets:{label:o.a.t("admin_webpages","Reviewed/approved assets")}},t.settings={users:[{position:3,checked:!0,name:"best_answer"},{position:1,checked:!0,name:"score_elearning"},{position:2,checked:!0,name:"score_classroom"}],power_user:[{position:1,checked:!0,name:"logged_users"}],super_admin:[{position:1,checked:!0,name:"managed_users"}],experts:[{position:1,checked:!1,name:"answered_questions"}]},t.usersLabel={sa_students:o.a.t("standard","All Users (Superadmins and Students)"),sa_pu_students:o.a.t("standard","All Users (Superadmins, Power Users and Students)"),sa_experts_students:o.a.t("standard","All Users (Superadmins, Experts and Students)"),sa_pu_experts_students:o.a.t("standard","All Users (Superadmins, Power Users, Experts and Students)")},t.ShareAppBoxes=["assets_day","assets_7days","qa_day","qa_7days","best_answer","assets_day","assets_7days","qa_day","qa_7days","answered_questions","reviewed_approved_assets"],t})();var u=n("QrFL");const h=c.b.getInstance().isPluginActive("Share7020App"),p=c.b.getInstance().isPluginActive("PowerUserApp");function m(){let t=g.usersLabel.sa_students;p&&(t=g.usersLabel.sa_pu_students),h&&(t=g.usersLabel.sa_experts_students),p&&h&&(t=g.usersLabel.sa_pu_experts_students);let e=[{position:5,checked:!1,name:"logged_users",label:g.labels.logged_users.label}],n=[],i=[{position:2,checked:!1,name:"score_elearning",label:g.labels.score_elearning.label},{position:3,checked:!1,name:"score_classroom",label:g.labels.score_classroom.label}],s=[];p&&(n=[{position:5,checked:!1,name:"logged_users",label:g.labels.logged_users.label},{position:6,checked:!1,name:"managed_courses",label:g.labels.managed_courses.label},{position:7,checked:!1,name:"managed_users",label:g.labels.managed_users.label}]),p&&h&&(n=[{position:1,checked:!1,name:"assets_day",label:g.labels.assets_day.label},{position:2,checked:!1,name:"assets_7days",label:g.labels.assets_7days.label},{position:3,checked:!1,name:"qa_day",label:g.labels.qa_day.label},{position:4,checked:!1,name:"qa_7days",label:g.labels.qa_7days.label},...n]),h&&(i=[{position:1,checked:!1,name:"best_answer",label:g.labels.best_answer.label},...i],e=[{position:1,checked:!1,name:"assets_day",label:g.labels.assets_day.label},{position:2,checked:!1,name:"assets_7days",label:g.labels.assets_7days.label},{position:3,checked:!1,name:"qa_day",label:g.labels.qa_day.label},{position:4,checked:!1,name:"qa_7days",label:g.labels.qa_7days.label},...e],s=[{position:1,checked:!1,name:"answered_questions",label:g.labels.answered_questions.label},{position:2,checked:!1,name:"reviewed_approved_assets",label:g.labels.reviewed_approved_assets.label}]);const a={name:"users",type:"orderedCheckbox",label:t,fieldConfig:{orderedCheckboxes:i},defaultValue:"",conditions:{},hooks:{onValueLoad:u.a}},r={name:"super_admin",type:"orderedCheckbox",label:o.a.t("standard","Superadmin Only"),fieldConfig:{orderedCheckboxes:e},defaultValue:"",conditions:{},hooks:{onValueLoad:u.a}},c={name:"power_user",type:"orderedCheckbox",label:o.a.t("standard","Power Users Only"),fieldConfig:{orderedCheckboxes:n},defaultValue:"",conditions:{},hooks:{onValueLoad:u.a}},l={name:"experts",type:"orderedCheckbox",label:o.a.t("app7020","Experts only"),fieldConfig:{orderedCheckboxes:s},defaultValue:"",conditions:{},hooks:{onValueLoad:u.a}};let d=[a,r];p&&(d=[...d,c]),h&&(d=[...d,l]);const m=t=>{for(let e=0;e<t.length;e++)t[e].position=e+1};return m(i),m(e),m(n),d}class _{static cutCoachAndShareBoxes(t,e){if(h)return;const n=[];for(const i in t[e])g.ShareAppBoxes.indexOf(t[e][i].name)>-1&&n.push(i);for(let i=n.length-1;i>=0;i--)t[e].splice(Number(n[i]),1)}}var b,f=n("6NlR"),w=n("LC/E"),C=n("8lF4"),O=n("fXoL"),v=n("bS13"),M=n("+sIT"),y=n("l7P3"),P=n("JA8w"),S=n("ofXK"),I=n("Vqln"),x=n("u9ID");const E=["myKpiWrapper"],T=["widgetMainTitle"];function D(t,e){if(1&t&&(O.jc(0,"div",null,5),O.ec(2,"widget-title",6),O.ic()),2&t){const t=O.vc();O.Mb(2),O.Dc("widgetTitle",t.widgetTitle)}}function k(t,e){if(1&t&&(O.jc(0,"small",16),O.fd(1),O.ic()),2&t){const t=O.vc().$implicit;O.Mb(1),O.gd(t.course_title)}}const A=function(t){return{disabled:t}};function L(t,e){if(1&t&&(O.jc(0,"li"),O.jc(1,"a",12),O.jc(2,"h5",13),O.fd(3),O.wc(4,"t"),O.ic(),O.jc(5,"span",14),O.fd(6),O.dd(7,k,2,1,"small",15),O.ic(),O.ic(),O.ic()),2&t){const t=e.$implicit,n=O.vc(2);O.Rb("col-1of",n.columnSize," border-grey-light"),O.Mb(1),O.Dc("href",n.getSlideUrl(t.url),O.Xc)("ngClass",O.Ic(10,A,!t.url)),O.Mb(2),O.gd(O.xc(4,8,n.tileLabel[t.name])),O.Mb(3),O.hd(" ",t.value," "),O.Mb(1),O.Dc("ngIf",t.course_title)}}const j=function(t,e){return{"disabled text-grey":t,"text-grey-mid":e}},N=function(t,e){return{"zmdi-chevron-left":t,"zmdi-chevron-right":e}},R=function(t,e){return{"zmdi-chevron-right":t,"zmdi-chevron-left":e}};function F(t,e){if(1&t){const t=O.kc();O.jc(0,"div",17),O.jc(1,"div",18),O.jc(2,"div",19),O.fd(3),O.wc(4,"t"),O.jc(5,"span"),O.fd(6),O.ic(),O.ic(),O.jc(7,"nav",20),O.jc(8,"a",21),O.rc("click",function(e){return O.Uc(t),O.vc(2).switchPage(e,"prev")}),O.ec(9,"i",22),O.ic(),O.jc(10,"a",23),O.rc("click",function(e){return O.Uc(t),O.vc(2).switchPage(e,"next")}),O.ec(11,"i",22),O.ic(),O.ic(),O.ic(),O.ic()}if(2&t){const t=O.vc(2);O.Mb(3),O.jd(" ",t.itemsFrom,"-",t.itemsTo," ",O.xc(4,8,"_OF")," "),O.Mb(3),O.gd(t.itemsCount),O.Mb(2),O.Dc("ngClass",O.Jc(10,j,t.noPrevPage,!t.noPrevPage)),O.Mb(1),O.Dc("ngClass",O.Jc(13,N,!t.isRtl,t.isRtl)),O.Mb(1),O.Dc("ngClass",O.Jc(16,j,t.noNextPage,!t.noNextPage)),O.Mb(1),O.Dc("ngClass",O.Jc(19,R,!t.isRtl,t.isRtl))}}const U=function(t){return{"has-pagination":t}};function z(t,e){if(1&t&&(O.jc(0,"div",7),O.jc(1,"div",8),O.jc(2,"ul",9),O.dd(3,L,8,12,"li",10),O.ic(),O.ic(),O.dd(4,F,12,22,"div",11),O.ic()),2&t){const t=O.vc();O.Mb(1),O.Dc("ngClass",O.Ic(3,U,t.hasPagination)),O.Mb(2),O.Dc("ngForOf",t.slideItems),O.Mb(1),O.Dc("ngIf",t.hasPagination)}}class q extends r.a{constructor(){super(),this.checkboxSettings(),this.config=this.initConfig({name:"mykpis",preview:"/public/images/pages/my-kpis-widget-preview.jpg",heading:o.a.t("dashlets","My KPIs"),description:o.a.t("admin_webpages","Shows statistics related to users and the LMS"),params:[{name:"title",type:"textMultilang",label:o.a.t("standard","Title"),legend:o.a.t("dashboard","Leave blank to hide the title"),settings:{showCounter:!0,maxLength:255}},{type:"group",name:"group-options",title:o.a.t("standard","Items to Display"),subtitle:o.a.t("admin_webpages","Select the items you want to show in the widget. Drag & drop to reorder items. If you select items that are only viewable by a certain user level, other user levels will only see a blank widget"),subFields:m()},{title:o.a.t("dashboard","Widget height"),subtitle:o.a.t("admin_webpages","When the natural height of the widget content is smaller than the selected height, the widget will be forced to resize to the selected value"),type:"group",name:"group-height",subFields:[{name:"height",type:"text",label:o.a.t("templatemanager","Min height"),defaultValue:"",validation:[d.a.validNumbersRange(1,1e3)],legend:o.a.t("admin_webpages","Leave blank to use default height")}]}]})}checkboxSettings(){this.formValidator=t=>{const e=Object.keys(t.controls);let n=!0;for(let i=0;i<e.length;i++){const s=e[i];if(""!==t.controls[s].value&&null!==t.controls[s].value)for(let e=0;e<t.controls[s].value.length;e++)if(!0===t.controls[s].value[e].checked){n=!1;break}}return n?{snackbarError:"You must select at least one item to display in the widget"}:null}}}let B=(()=>{let t=b=class extends a.a{constructor(t,e,n,i,a){super(),this._actions=t,this.docLayoutService=e,this._store=n,this.translationService=i,this._ref=a,this.data={id:"",type:"",settings:g.settings,data:[{url:"/learn/course/course-id/slug-name",value:"23",name:"name",course_title:"Time management"}]},this.tileLabel={},this.blankSlate={isVisible:!1,title:"No Content",type:"no-content"},this.isRtl=c.b.getInstance().getLangByShortCode(s.a.getInstance().language).is_rtl,this.noPrevPage=!0,this.noNextPage=!1,this.itemsFrom=1,this.columnSize=1,this.hasPagination=!1,this.pageCount=1,this.componentId=null,this.componentId=Math.random().toString(36).substring(7)}checkPagePagination(){this.checkWidgetSize()}ngOnInit(){if(void 0!==this._store){const t={items:this.orderedKPICheckboxes()};Object.keys(t.items).length>0&&this._store.dispatch(this._actions.init(t,this.componentId))}const t=this.translationService.currentLang,e=c.b.getInstance().default_language;this.setWidgetTitle(t,e)}ngAfterViewInit(){this.reduxListener(),this.setWidgetBodyMinHeight()}reduxListener(){void 0!==this._store&&(this.reduxSubscriber=this._store.select(w.g).subscribe(t=>{switch(this.currentState=t,this.currentState.status){case"DATA_LOADED":this.mergeData(this.currentState),this.loadData();break;case"API_ERROR":this.docLayoutService.toast.showToast({message:t.errorMsg,type:"error"}),this.blankSlate.isVisible=!0}}))}loadData(){if(!this.data.customPageData[this.componentId])return!1;const t=this.data.customPageData[this.componentId].data;for(let e=0;e<t.length;e++)null===t[e].value&&(t[e].value="0");this.itemsCount=t.length,this.setTitleLabel(this.data.settings),this.checkWidgetSize(),this.itemsTo=this.pageSize,this.slideItems=t.slice(0,this.pageSize),this._ref.detectChanges(),this.calculatePaginationNumbers()}setTitleLabel(t){Object.keys(g.labels).forEach(t=>{this.tileLabel[t]=g.labels[t].label})}checkWidgetSize(){if(!this.myKpiWrapper)return;let t,e=this.myKpiWrapper.nativeElement.offsetHeight;e<b.KPIS_DEFAULT_MINIMUM_HEIGHT&&(e=b.KPIS_DEFAULT_MINIMUM_HEIGHT);let n=Number(((e-b.KPIS_PAGINATION_OFFSET)/b.KPIS_ITEM_HEIGHT).toFixed(0));t=window.innerWidth<=768?4:this.size,t>4?(3===this.itemsCount&&6!==t?this.columnSize=3:this.itemsCount>=2&&(this.columnSize=2),this.itemsCount>8&&(this.hasPagination=!0,this._ref.detectChanges()),2===this.columnSize&&(n=Number((2*n).toFixed(0))),this.pageSize=n>0?n:8):(this.itemsCount>4&&(this.hasPagination=!0,this._ref.detectChanges()),this.pageSize=n>0?n:4)}reduceCheckboxes(){const t=s.a.getInstance().user_level,e=Object.assign({},this.data.settings);switch(!l.a.keyExistInObject(e,"experts")||h&&s.a.getInstance().isExpert()||delete e.experts,t){case"user":delete e.power_user,delete e.super_admin,_.cutCoachAndShareBoxes(e,"users");break;case"power_user":delete e.super_admin,_.cutCoachAndShareBoxes(e,"users"),_.cutCoachAndShareBoxes(e,"power_user");break;case"super_admin":delete e.power_user,_.cutCoachAndShareBoxes(e,"users"),_.cutCoachAndShareBoxes(e,"super_admin")}return Object.assign({},e)}orderedKPICheckboxes(){const t=this.reduceCheckboxes(),e=Object.keys(t);let n=[];for(let s=0;s<e.length;s++){const i=e[s];Array.isArray(t[i])&&(t[i]=t[i].sort((t,e)=>t.position-e.position),n=[...n,...t[i]])}const i={};n.filter(t=>{if(t.checked)return i[t.name]=1,t});for(const a in i)"score_elearning"!==a&&"score_classroom"!==a||(i[a]={id_user:s.a.getInstance().id});return i}switchPage(t,e){switch(t&&t.preventDefault(),e){case"prev":1!==this.pageCount&&this.pageCount--;break;case"next":this.pageCount++}this.calculatePaginationNumbers()}calculatePaginationNumbers(){const t=this.data.customPageData[this.componentId].data,e=t&&Array.isArray(t)?t.length:0;this.noNextPage=this.pageCount>=e/this.pageSize,this.noPrevPage=1===this.pageCount;const n=this.pageCount*this.pageSize,i=n-this.pageSize;this.slideItems=t.slice(i,n),this._ref.detectChanges(),this.itemsFrom=0!==i?i+1:1,this.itemsTo=t.length>n?n:t.length}getSlideUrl(t){return!!t&&("/"===t.charAt(0)&&"/"!==t.charAt(1)?t.substr(1,t.length):t)}setWidgetBodyMinHeight(){let t=0,e=0;this.widgetMainTitle&&(t=this.widgetMainTitle.nativeElement.offsetHeight+b.WIDGET_TITLE_MARGIN),this.data.settings.height&&(e=this.data.settings.height-t,this.myKpiWrapper&&(this.myKpiWrapper.nativeElement.style.minHeight=e))}ngOnDestroy(){this.reduxSubscriber&&this.reduxSubscriber.unsubscribe()}};return t.KPIS_PAGINATION_OFFSET=41,t.KPIS_ITEM_HEIGHT=72,t.KPIS_DEFAULT_MINIMUM_HEIGHT=332,t.WIDGET_TITLE_MARGIN=20,t.\u0275fac=function(e){return new(e||t)(O.dc(v.a),O.dc(M.a),O.dc(y.d),O.dc(P.a),O.dc(O.i))},t.\u0275cmp=O.Xb({type:t,selectors:[["my-kpis-widget"]],viewQuery:function(t,e){if(1&t&&(O.md(E,1),O.md(T,1)),2&t){let t;O.Qc(t=O.sc())&&(e.myKpiWrapper=t.first),O.Qc(t=O.sc())&&(e.widgetMainTitle=t.first)}},hostBindings:function(t,e){1&t&&O.rc("resize",function(t){return e.checkPagePagination(t)},!1,O.Tc)},features:[O.Jb],decls:6,vars:7,consts:[[4,"ngIf"],[1,"widget-kpis","wrapper-shadow","bg-white"],["myKpiWrapper",""],["class","widget-content",4,"ngIf"],[3,"isVisible","title","type"],["widgetMainTitle",""],[3,"widgetTitle"],[1,"widget-content"],[1,"widget-body",3,"ngClass"],[1,"list-kpis"],[3,"class",4,"ngFor","ngForOf"],["class","widget-foot border-grey-light",4,"ngIf"],[3,"href","ngClass"],[1,"subtitle-normal","text-grey-dark","description-two-line-13fs-white"],[1,"text-main","ellipsis"],["class","ellipsis text-grey-mid",4,"ngIf"],[1,"ellipsis","text-grey-mid"],[1,"widget-foot","border-grey-light"],[1,"pagination"],[1,"pagination-label"],[1,"pagination-nav"],["href","#",1,"arrow-prev",3,"ngClass","click"],[1,"zmdi",3,"ngClass"],["href","#",1,"arrow-next",3,"ngClass","click"]],template:function(t,e){1&t&&(O.jc(0,"div"),O.dd(1,D,3,1,"div",0),O.jc(2,"div",1,2),O.dd(4,z,5,5,"div",3),O.ec(5,"blankslate",4),O.ic(),O.ic()),2&t&&(O.cd("min-height",null==e.data.settings?null:e.data.settings.height),O.Mb(1),O.Dc("ngIf",e.widgetTitle),O.Mb(3),O.Dc("ngIf",!e.blankSlate.isVisible),O.Mb(1),O.Dc("isVisible",e.blankSlate.isVisible)("title",e.blankSlate.title)("type",e.blankSlate.type))},directives:[S.p,I.a,x.a,S.n,S.o],pipes:[o.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]{overflow:hidden;font-size:0;line-height:0}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-width:0 0 1px;border-style:solid;box-sizing:border-box;transition:background .3s}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:block;height:72px}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:104px;font-size:23px;line-height:32px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:25px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{left:25px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{text-align:right}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{text-align:left}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:12px;line-height:17px;font-style:italic}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%], [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:25px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:25px}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.disabled):hover{background:var(--ui-color-layout-background)}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,rgba(var(--ui-color-layout-background),0) 0,rgba(var(--ui-color-layout-background),1));background:-webkit-linear-gradient(left,rgba(var(--ui-color-layout-background),0),rgba(var(--ui-color-layout-background),1))}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]:before{transform:rotate(0deg)}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]:before{transform:rotate(180deg)}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of1[_ngcontent-%COMP%]{float:none;width:100%}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]{width:50%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]:nth-child(odd){border-width:0 1px 1px 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]:nth-child(odd){border-width:0 0 1px 1px}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of3[_ngcontent-%COMP%]{width:33.3333%;border-bottom:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of3[_ngcontent-%COMP%] + .col-1of3[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of3[_ngcontent-%COMP%]:last-child{border-width:0 0 0 1px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of3[_ngcontent-%COMP%] + .col-1of3[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of3[_ngcontent-%COMP%]:last-child{border-width:0 1px 0 0}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widget-body.has-pagination[_ngcontent-%COMP%]{padding-bottom:40px}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .has-pagination[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .has-pagination[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-style:solid;border-width:0 0 1px}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .has-pagination[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]:nth-child(odd), [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .has-pagination[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){border-style:solid}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .has-pagination[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]:nth-child(odd), .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .has-pagination[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){border-width:0 1px 1px 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .has-pagination[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]:nth-child(odd), .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .has-pagination[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]:nth-last-child(2):nth-child(odd){border-width:0 0 1px 1px}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{padding:0 25px;border-width:1px 0 0;border-style:solid;margin-top:1px;position:absolute;width:100%;box-sizing:border-box;bottom:0}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{height:40px;font-size:14px;line-height:38px}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-label[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-nav[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-nav[_ngcontent-%COMP%]{float:right}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-nav[_ngcontent-%COMP%]{float:left}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-nav[_ngcontent-%COMP%]{margin-right:-6px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-nav[_ngcontent-%COMP%]{margin-left:-6px}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px;font-size:22px;outline:none;transition:color .3s}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-left:5px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .pagination-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widgets-column-half[_nghost-%COMP%]   h5[_ngcontent-%COMP%], .widgets-column-half   [_nghost-%COMP%]   h5[_ngcontent-%COMP%]{left:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widgets-column-half[_nghost-%COMP%]   h5[_ngcontent-%COMP%], .widgets-column-half   [_nghost-%COMP%]   h5[_ngcontent-%COMP%]{left:34%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widgets-column-half[_nghost-%COMP%]   h5[_ngcontent-%COMP%], .widgets-column-half   [_nghost-%COMP%]   h5[_ngcontent-%COMP%]{right:34%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widgets-column-half[_nghost-%COMP%]   h5[_ngcontent-%COMP%], .widgets-column-half   [_nghost-%COMP%]   h5[_ngcontent-%COMP%]{right:5.63%}@media screen and (max-width:768px){[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]{float:none;width:100%}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li.col-1of2[_ngcontent-%COMP%]:nth-child(odd){border-width:1px 0}}.widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:25%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:34%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:34%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:5.63%}.widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{padding:0 5.63%}.widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:25%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:34%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:34%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:5.63%}.widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{padding:0 5.63%}@media screen and (max-width:640px){.widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:25%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:34%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:34%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:5.63%}.widgets-column-small   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{padding:0 5.63%}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:25%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:34%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:34%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:5.63%}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .widget-foot[_ngcontent-%COMP%]{padding:0 5.63%}}.widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:35%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:34%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:36%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:5.63%}.widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:35%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:34%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:36%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-inherit-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:5.63%}@media screen and (max-width:768px){.widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:35%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:34%}.router-outlet:not(.direction-rtl):not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:36%}.router-outlet.direction-rtl:not(.heracles-root)   .widgets-column-half   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:5.63%}[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:35%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:5.63%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{left:34%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:36%}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{right:5.63%}}.mdl-cell--12-col[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%], .mdl-cell--12-col   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%], .mdl-cell--8-col[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%], .mdl-cell--8-col   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{width:calc(50% - 25px)}.mdl-cell--12-col[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .mdl-cell--12-col   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .mdl-cell--8-col[_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .mdl-cell--8-col   [_nghost-%COMP%]   .widget-kpis[_ngcontent-%COMP%]   .list-kpis[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{max-width:calc(50% - 25px)}"]}),t=b=Object(i.b)([Object(C.a)({name:"mykpis",module:"pages",settings:q})],t),t})();const V=f},fMkf:function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"4","sequence":"0","widgets":[{"id":"","type":"subscriptioncode","name":{"en":"SubscriptionCode","fa":"SubscriptionCode","fi":"SubscriptionCode","it":"SubscriptionCode"},"settings":{}}]},{"size":"8","sequence":"1","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":2,"columns":[{"size":"6","sequence":"0","widgets":[{"id":"","type":"subscriptioncode","name":{"en":"SubscriptionCode","fa":"SubscriptionCode","fi":"SubscriptionCode","it":"SubscriptionCode"},"settings":{}}]},{"size":"6","sequence":"1","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":3,"columns":[{"size":"8","sequence":"0","widgets":[{"id":"","type":"subscriptioncode","name":{"en":"SubscriptionCode","fa":"SubscriptionCode","fi":"SubscriptionCode","it":"SubscriptionCode"},"settings":{}}]},{"size":"4","sequence":"1","widgets":[]}]},{"background":{"type":"no-color"},"layout":"12","sequence":4,"columns":[{"size":"12","sequence":"0","widgets":[{"id":"","type":"subscriptioncode","name":{"en":"SubscriptionCode","fa":"SubscriptionCode","fi":"SubscriptionCode","it":"SubscriptionCode"},"settings":{}}]}]}]}}')},fn6i:function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"c",function(){return b}),n.d(e,"b",function(){return f});var i=n("oTkX"),s=n("ef7w"),a=n("rg0p"),o=n("wYOk"),r=(n("yT07"),n("3Ys6"),n("KuM8")),c=(n("Cz1B"),n("SrXe"),n("cIHy"),n("LQhd")),l=n("xXh+"),d=n("fCoP"),g=(n("C8kt"),n("yn+W")),u=n("mMaQ"),h=(n("ecWn"),n("0IxS")),p=n("Fk63"),m=n("a2IQ");n("5tGi");const _=[i.a,s.b,o.a,a.k,r.a,c.a,l.a,d.a,g.a,u.a,h.a,p.b,m.a],b={myprofile:s.d,activitiesstream:a.m,coursesandlearningplansoverview:o.c,tasklist:r.c,activityoverview:c.c,mytransactions:l.c,trending:g.c,gamification:u.c,mykpis:d.c,subscriptioncode:h.d,customcontentbox:p.d,image:m.c},f=[i.b,s.c,o.b,a.l,r.b,c.b,l.b,g.b,u.b,d.b,h.b,p.c,m.b]},gdse:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.comment=0]="comment",t[t.question=1]="question",t[t.answer=2]="answer",t}({})},"h/VL":function(t){t.exports=JSON.parse('{"data":{"cover":{"image":"","color":""},"avatar":"/public/images/pages/myprofile.png","firstName":"Lorem","lastName":"Ipsum","email":"lorem.ipsum@dolor.com","additionalFields":{"999991":{"label":"Itaque","type":"textfield","value":"voluptas"},"999992":{"label":"Nam libero","type":"textfield","value":"maiores"},"999993":{"label":"At vero","type":"textfield","value":"possimus"},"999994":{"label":"Omnis iste","type":"textfield","value":"laudantium"},"999995":{"label":"Sed ut perspiciatis","type":"textfield","value":"voluptatem"},"999996":{"label":"Temporibus","type":"textfield","value":"exercitation"},"999997":{"label":"Lorem","type":"textfield","value":"ex ea commodo"},"999998":{"label":"Dolor","type":"textfield","value":"reprehenderit"},"999999":{"label":"Sit Amet","type":"textfield","value":"voluptate velit"}}}}')},hAKv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.codicefiscale=0]="codicefiscale",t[t.country=1]="country",t[t.date=2]="date",t[t.dropdown=3]="dropdown",t[t.freetext=4]="freetext",t[t.textfield=5]="textfield",t[t.yesno=6]="yesno",t[t.upload=7]="upload",t}({})},hIRN:function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var i=n("gvJE");i.a.t("app7020","No Content");const s={heading:i.a.t("gamification","Gamification"),description:i.a.t("gamification","Shows gamification badges, leaderboards and latest contests"),nameLabel:i.a.t("standard","Title"),nameLegend:i.a.t("dashboard","Leave blank to hide the title"),displayItemsTitle:i.a.t("standard","Items to Display"),displayItemsTitleSubtitle:i.a.t("standard","You must select at least one item. Drag & drop to reorder items"),heightLabel:i.a.t("dashboard","Widget height"),heightSubtitle:i.a.t("admin_webpages","When the natural height of the widget content is smaller than the selected height, the widget will be forced to resize to the selected value"),minHeightLabel:i.a.t("templatemanager","Min height"),minHeightLegend:i.a.t("admin_webpages","Leave blank to use default height")},a={badges:i.a.t("gamification","Badges"),leaderboards:i.a.t("gamification","Leaderboards"),contests:i.a.t("gamification","Contests")},o={title:i.a.t("gamification","Badges"),"switch-1-name":"notYetAwarded","switch-1-label":i.a.t("gamification","Show also how many badges are not yet awarded"),"switch-2-name":"viewAllLink","switch-2-label":i.a.t("gamification",'Show "view all" link')},r={id:0,type:"gamification",settings:{name:"Gamification",assignToAll:!0,viewAllLink:!0,displayItems:[{name:"badges",checked:!0,position:1},{name:"leaderboards",checked:!0,position:2},{name:"contests",checked:!0,position:3}],notYetAwarded:!1},gamificationWidget:{badges:{items:[{id_badge:0,id_user:0,total_score:0,badge_icon:"https://picsum.photos/50/?image=96",badge_name:"Lily",badge_description:"",total_badges_count:1}],count:1,has_more_data:!1,current_page:1,current_page_size:1,total_page_count:1,total_count:1,extra_data:{total_points:0,not_awarded_count:0}},contests:{items:[{id:0,from_date:"2016-10-24 00:00:00",to_date:"2016-10-28 23:59:59",timezone:"Europe/Rome",goal:"Lorem ipsum",name:"Lorem ipsum",description:"",rank:0,id_badge:0,score:0,icon:""}],extra_data:[{name:"Lorem ipsum est sed",from_date:"2017-11-26 00:00:00",to_date:"2017-11-30 23:59:59",timezone:"Europe/Sofia"},{name:"Lorem ipsum est sed Lorem",from_date:"2017-11-30 00:00:00",to_date:"2017-12-31 23:59:59",timezone:"Europe/Sofia"},{name:"Lorem ipsum est sed Lorem",from_date:"2017-11-26 00:00:00",to_date:"2017-11-30 23:59:59",timezone:"America/Detroit"}],count:0,has_more_data:!1,current_page:0,current_page_size:0,total_page_count:0,total_count:0},leaderboards:{items:[{id_board:1,name:"Default Leaderboard",is_active:!0,default:!0,is_visible:!0,positions:[{points:0,last_assign:"2017-11-14 16:06:21",id_user:0,userid:"/staff.support",is_me:!1,user:{firstname:"Lorem",lastname:"Ipsum",username:"staff.support",avatar:"https://picsum.photos/80/?image=953&gravity=east"},percentage:0,position:0}],my_position:{points:0,last_assign:"2017-11-14 19:55:36",id_user:0,userid:"/staff.support",is_me:!0,user:{firstname:"Andrew",lastname:"Byron",username:"staff.support",avatar:"https://picsum.photos/80/?image=999&gravity=east"},percentage:0,position:0}}],count:0,has_more_data:!1,current_page:0,current_page_size:0,total_page_count:0,total_count:0}}}},hNND:function(t){t.exports=JSON.parse('{"error":"Error while getting data from API.","message":{"name":"Bad Request","message":["Invalid or expired coupon code"],"code":1001,"status":400}}')},hQwR:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t[t.DELETE="delete"]="DELETE",t[t.CONFIRM="confirm"]="CONFIRM",t}({})},hU5d:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("gvJE"),s=n("4SMR"),a=n("gdse"),o=n("/kKY"),r=n("LC/E"),c=n("wZxL"),l=n("fXoL"),d=n("l7P3"),g=n("7Zvt");function u(t,e){if(1&t&&(l.jc(0,"div",14),l.ec(1,"activities-stream-rating",15),l.ic()),2&t){const t=l.vc();l.Mb(1),l.Dc("params",t.ratingParams())}}function h(t,e){if(1&t&&l.ec(0,"activities-stream-item-asset-comments",19),2&t){const t=l.vc(2);l.Dc("itemType",t.commentItemType.subitem)("params",t.subCommentsParams())}}function p(t,e){if(1&t&&l.ec(0,"activities-stream-item-asset-form",20),2&t){const t=l.vc(2);l.Dc("params",t.formParams())}}function m(t,e){if(1&t&&(l.jc(0,"div",16),l.dd(1,h,1,2,"activities-stream-item-asset-comments",17),l.dd(2,p,1,1,"activities-stream-item-asset-form",18),l.ic()),2&t){const t=l.vc();l.Mb(1),l.Dc("ngIf",t.showSubComments()),l.Mb(1),l.Dc("ngIf",t.showForm())}}const _=function(t){return[t]},b=function(t){return{length:"medium",relativeMaxDaysDifference:t}};let f=(()=>{class t extends c.a{constructor(t,e){super(),this.store=t,this.actions=e,this.commentItemType=o.a,this.translations={answerNow:i.a.t("app7020","Answer now"),answers:i.a.t("standard","Answers"),asked:i.a.t("standard","asked"),comment:i.a.t("standard","Comment"),commented:i.a.t("standard","commented"),hide:i.a.t("standard","Hide"),replies:i.a.t("standard","replies"),replyNow:i.a.t("app7020","Reply now"),view:i.a.t("standard","View"),writeHereYourAnswer:i.a.t("app7020","Write here your answer..."),writeHereYourReply:i.a.t("app7020","Write here your reply...")},this.state={showForm:!1,showSubComments:!1}}ngOnInit(){this.reduxListener()}ngOnDestroy(){this.reduxSubscriber.unsubscribe()}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(r.c).subscribe(t=>{switch(t.status){case"SUBMITTED_CONTENT_LOADED":this.setState({showForm:!1})}}))}commentedAsked(){return this.translations[this.params.type===a.a.question?"asked":"commented"]}formParams(){return{activityId:this.params.activityId,commentId:this.comment.id,submitButtonText:this.translations.replyNow,textareaLabel:this.params.type===a.a.question?this.translations.writeHereYourAnswer:this.translations.writeHereYourReply,type:this.params.type,widgetId:this.params.widgetId}}ratingParams(){return{commentType:this.params.type,item:{id:this.comment.id,title:this.comment.content,is_best:this.comment.isBestAnswer,read_only:this.comment.isReadOnly,created_at:this.comment.time,rating:{likes:this.comment.ratings.likes,dislikes:this.comment.ratings.dislikes},owner:{id:this.comment.author.id,uuid:this.comment.author.uuid,short_name:this.comment.author.initials,full_name:this.comment.author.fullName,avatar:this.comment.author.avatar,is_expert:this.comment.author.isExpert},voted:this.comment.voted},type:void 0!==this.comment.ratings.dislikes?s.a.likedislike:s.a.vote}}repliesAnswers(){return this.translations[this.params.type===a.a.question?"answers":"replies"]}replyAnswerNow(){return this.translations[this.params.type===a.a.question?"answerNow":"replyNow"]}showRating(){return null!==this.comment.ratings.dislikes||null!==this.comment.ratings.likes||null!==this.comment.ratings.vote}showSubComments(){return this.state.showSubComments}showForm(){return this.state.showForm}subCommentsParams(){return{activityId:this.params.activityId,comments:this.comment.subItems,type:this.params.type}}toggleShowSubComments(){this.setState({showSubComments:!this.state.showSubComments,showForm:!this.state.showSubComments})}toggleShowForm(){this.setState({showForm:!0,showSubComments:!0})}viewHide(){return this.translations[this.state.showSubComments?"hide":"view"]}}return t.\u0275fac=function(e){return new(e||t)(l.dc(d.d),l.dc(g.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["activities-stream-item-asset-comments-item"]],inputs:{comment:"comment",params:"params"},features:[l.Jb],decls:30,vars:35,consts:[[1,"root"],[1,"avatar-container"],[3,"initials","image_url","size"],[1,"wrapper"],[1,"heading"],[1,"text-main",3,"routerLink"],[1,"content"],[3,"content","lines","removeHtml"],[1,"meta"],[1,"answer-actions","text-main"],[1,"action","text-main",3,"click"],["class","ratings-container",4,"ngIf"],[1,"time"],["class","sub-comments",4,"ngIf"],[1,"ratings-container"],[1,"rating",3,"params"],[1,"sub-comments"],[3,"itemType","params",4,"ngIf"],[3,"params",4,"ngIf"],[3,"itemType","params"],[3,"params"]],template:function(t,e){1&t&&(l.jc(0,"div",0),l.jc(1,"div",1),l.ec(2,"avatar",2),l.ic(),l.jc(3,"div",3),l.jc(4,"div",4),l.jc(5,"a",5),l.fd(6),l.ic(),l.fd(7),l.wc(8,"t"),l.ic(),l.jc(9,"div",6),l.ec(10,"line-limiter",7),l.wc(11,"sanitizeHtml"),l.wc(12,"discoverMention"),l.ic(),l.jc(13,"div",8),l.jc(14,"div",9),l.jc(15,"button",10),l.rc("click",function(){return e.toggleShowForm()}),l.jc(16,"span"),l.fd(17),l.wc(18,"t"),l.ic(),l.ic(),l.fd(19," | "),l.jc(20,"button",10),l.rc("click",function(){return e.toggleShowSubComments()}),l.jc(21,"span"),l.fd(22),l.wc(23,"t"),l.wc(24,"t"),l.ic(),l.ic(),l.ic(),l.dd(25,u,2,1,"div",11),l.jc(26,"div",12),l.fd(27),l.wc(28,"dateTime"),l.ic(),l.ic(),l.dd(29,m,3,2,"div",13),l.ic(),l.ic()),2&t&&(l.Mb(2),l.Dc("initials",e.comment.author.initials)("image_url",e.comment.author.avatar)("size",40),l.Mb(3),l.Dc("routerLink",l.Ic(31,_,"/share/personalChannel/"+e.comment.author.uuid)),l.Mb(1),l.gd(e.comment.author.fullName),l.Mb(1),l.hd(" ",l.xc(8,15,e.commentedAsked()),": "),l.Mb(3),l.Dc("content",l.xc(11,17,l.yc(12,19,e.comment.content,e.comment.mentions)))("lines",3)("removeHtml",!1),l.Mb(7),l.gd(l.xc(18,22,e.replyAnswerNow())),l.Mb(5),l.id("",l.xc(23,24,e.viewHide())," ",l.xc(24,26,e.repliesAnswers()),""),l.Mb(3),l.Dc("ngIf",e.showRating()),l.Mb(2),l.gd(l.yc(28,28,e.comment.time,l.Ic(33,b,-1))),l.Mb(2),l.Dc("ngIf",e.showSubComments()||e.showForm()))},styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.root[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:1em}.avatar-container[_ngcontent-%COMP%]{font-weight:600}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .avatar-container{padding:0 15px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .avatar-container{padding:0 0 0 15px}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{padding:0 0 2px;font-size:.825em;font-weight:600;color:var(--ui-color-typography-secondary)}.wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 0 8px;font-size:.825em}[_nghost-%COMP%]     .wrapper .content p{line-height:140%}.wrapper[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;flex-direction:row}.answer-actions[_ngcontent-%COMP%]{font-size:.825em}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .answer-actions{margin:0 25px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .answer-actions{margin:0 0 0 25px}.answer-actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{padding:0;border:0;border-radius:0;margin:0;font-family:Open Sans,sans-serif;font-size:1em;font-weight:600;cursor:pointer;background-color:transparent}.answer-actions[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .ratings-container{margin:0 15px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .ratings-container{margin:0 0 0 15px}.ratings-container[_ngcontent-%COMP%]   activities-stream-rating[_ngcontent-%COMP%]{font-size:1em}.time[_ngcontent-%COMP%]{font-size:.8em;color:var(--ui-color-typography-secondary)}"]}),t})()},hcsV:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n("gvJE"),s=n("fXoL"),a=n("jhN1"),o=n("3zhW"),r=n("ofXK"),c=n("tyNb"),l=n("Gnvh"),d=n("SOpw");function g(t,e){if(1&t&&(s.hc(0),s.fd(1),s.wc(2,"t"),s.gc()),2&t){const t=s.vc();s.Mb(1),s.hd(" ",s.xc(2,1,t.translations.youHaveBeenEnrolledInCourse)," ")}}function u(t,e){if(1&t&&(s.fd(0),s.wc(1,"t")),2&t){const t=s.vc();s.hd(" ",s.xc(1,1,t.translations.youHaveBeenEnrolledInLP)," ")}}const h=function(t){return[t]},p=function(t){return{length:"medium",relativeMaxDaysDifference:t}};let m=(()=>{class t{constructor(t,e){this.translationPipe=t,this.sanitizier=e,this.translations={youHaveBeenEnrolledInCourse:i.a.t("standard","You have been enrolled in course"),youHaveBeenEnrolledInLP:i.a.t("standard","You have been successfully enrolled to the Learning Plan."),levels:{_LEVEL_3:i.a.t("levels","_LEVEL_3"),_LEVEL_4:i.a.t("levels","_LEVEL_4"),_LEVEL_6:i.a.t("levels","_LEVEL_6"),_LEVEL_8:i.a.t("levels","_LEVEL_8")}}}course(){const t=function(t){switch(t.status){case"enrolled":return{can_enter:t.canEnter,status_id:t.status,status_label:i.a.t("standard","Enrolled")};case"in_progress":return{can_enter:t.canEnter,status_id:t.status,status_label:i.a.t("standard","In progress")};case"completed":return{can_enter:t.canEnter,status_id:t.status,status_label:i.a.t("standard","Done")};case"subscription_to_confirm":return{can_enter:!0,status_id:t.status};case"waiting":return{can_enter:t.canEnter,can_enter_reason:t.canEnterReason,status_id:t.status};case"suspended":case"overbooking":return{can_enter:!1,status_id:t.status}}}(this.activity.enrollmentMetadata);return{type_id:"my-course",visual_style:"horizontal-card-plain",uri:this.activity.where[0].link,title:this.activity.where[0].title,image_url:this.activity.where[0].thumbnail,is_new:this.activity.enrollmentMetadata.isNew,show_waiting:"waiting"===t.status_id,other_fields:{"my-course":{can_enter:t.can_enter,can_enter_reason:t.can_enter_reason,language:this.activity.enrollmentMetadata.language,level:this.translationPipe.transform(this.level()),status_id:t.status_id,status_label:this.translationPipe.transform(t.status_label),type:this.activity.enrollmentMetadata.type}}}}level(){return this.translations.levels[this.activity.enrollmentMetadata.level]}thumbnail(){return null!=this.activity.where[0].thumbnail?this.sanitizier.bypassSecurityTrustStyle(`url(${this.activity.where[0].thumbnail})`):null}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.b),s.dc(a.b))},t.\u0275cmp=s.Xb({type:t,selectors:[["activities-stream-item-enrollment"]],inputs:{activity:"activity"},features:[s.Lb([i.b])],decls:17,vars:16,consts:[[1,"root"],[1,"avatar-container"],[3,"initials","image_url","size"],[1,"content"],[1,"header"],[1,"title-container"],[1,"title"],[4,"ngIf","ngIfElse"],["lpLabel",""],[1,"text-main",3,"routerLink"],[1,"time"],[1,"preview","horizontal-inline"],[3,"data"]],template:function(t,e){if(1&t&&(s.jc(0,"div",0),s.jc(1,"div",1),s.ec(2,"avatar",2),s.ic(),s.jc(3,"div",3),s.jc(4,"div",4),s.jc(5,"div",5),s.jc(6,"div",6),s.dd(7,g,3,3,"ng-container",7),s.dd(8,u,2,3,"ng-template",null,8,s.ed),s.jc(10,"a",9),s.fd(11),s.ic(),s.ic(),s.jc(12,"div",10),s.fd(13),s.wc(14,"dateTime"),s.ic(),s.ic(),s.ic(),s.jc(15,"div",11),s.ec(16,"tile",12),s.ic(),s.ic(),s.ic()),2&t){const t=s.Rc(9);s.Mb(2),s.Dc("initials",e.activity.author.initials)("image_url",e.activity.author.avatar)("size",40),s.Mb(5),s.Dc("ngIf","learning_plan"!==e.activity.enrollmentMetadata.type)("ngIfElse",t),s.Mb(3),s.Dc("routerLink",s.Ic(12,h,e.activity.where[0].link)),s.Mb(1),s.gd(e.activity.where[0].title),s.Mb(2),s.gd(s.yc(14,9,e.activity.when,s.Ic(14,p,-1))),s.Mb(3),s.Dc("data",e.course())}},directives:[o.a,r.p,c.k,l.b],pipes:[d.a,i.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.root[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:18px}.avatar-container[_ngcontent-%COMP%]{font-size:.875em;font-weight:600}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .avatar-container{margin:0 14px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .avatar-container{margin:0 0 0 14px}.content[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0 0 15px}.header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}.header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:.875em;font-weight:600;color:#878787}.header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600}.header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:.825em;color:var(--ui-color-typography-secondary)}.preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;font-size:.825em;font-weight:600}.preview[_ngcontent-%COMP%]   tile[_ngcontent-%COMP%]{width:100%;padding:0}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]   tile[_ngcontent-%COMP%]     .demo-card-wide{padding:0}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]   tile[_ngcontent-%COMP%]     .demo-card-wide .tile-bg, [_nghost-%COMP%]   .preview[_ngcontent-%COMP%]   tile[_ngcontent-%COMP%]     .demo-card-wide .tile-bg-image{max-width:108px!important;max-height:55px!important}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]   tile[_ngcontent-%COMP%]     .demo-card-wide .tile-bg-image .demo-card-image, [_nghost-%COMP%]   .preview[_ngcontent-%COMP%]   tile[_ngcontent-%COMP%]     .demo-card-wide .tile-bg .demo-card-image{min-height:55px!important}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]   tile[_ngcontent-%COMP%]     .tile-bg-image{background-color:var(--ui-color-typography-secondary)}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]   tile[_ngcontent-%COMP%]     .title-block{margin-bottom:0}[_nghost-%COMP%]   .preview[_ngcontent-%COMP%]   tile[_ngcontent-%COMP%]     .title-block a{font-weight:600}"]}),t})()},l8ap:function(t,e,n){"use strict";n.r(e),n.d(e,"ManageMenusModule",function(){return Ye});var i=n("tyNb"),s=n("tfGn"),a=n("nUpK"),o=n("9jGm"),r=n("l7P3"),c=n("9Ejp"),l=n("mqip"),d=n("gvJE"),g=n("3Pt+"),u=n("dRcD"),h=n("galx"),p=n("e3q5"),m=n("Zt9p"),_=function(t){return t[t.NOT_INITIALIZED="not_initialized"]="NOT_INITIALIZED",t[t.INITIALIZING="initializing"]="INITIALIZING",t[t.INITIALIZED="initialized"]="INITIALIZED",t[t.REJECTED="rejected"]="REJECTED",t}({}),b=n("fXoL");let f=(()=>{class t{menusListInitialize(e){return{type:t.MENUS_LIST_INITIALIZE,payload:e}}menusListSuccess(e){return{type:t.MENUS_LIST_SUCCESS,payload:e}}menusListRejected(){return{type:t.MENUS_LIST_REJECTED}}createNewMenuInitialize(e){return{type:t.CREATE_NEW_MENU_ITEM_INITIALIZE,payload:e}}createNewMenuSuccess(e){return{type:t.CREATE_NEW_MENU_ITEM_SUCCESS,payload:e}}createNewMenuRejected(e){return{type:t.CREATE_NEW_MENU_ITEM_REJECTED,payload:e}}singleMenuInformationInitialize(e){return{type:t.SINGLE_MENU_INFORMATION_INITIALIZE,payload:e}}singleMenuInformationSuccess(e){return{type:t.SINGLE_MENU_INFORMATION_SUCCESS,payload:e}}singleMenuInformationReject(){return{type:t.SINGLE_MENU_INFORMATION_REJECTED}}saveSingleMenuInformationInitialize(e){return{type:t.SAVE_SINGLE_MENU_INFORMATION_INITIALIZE,payload:e}}saveSingleMenuInformationSuccess(e){return{type:t.SAVE_SINGLE_MENU_INFORMATION_SUCCESS,payload:e}}saveSingleMenuInformationReject(e){return{type:t.SAVE_SINGLE_MENU_INFORMATION_REJECTED,payload:e}}menuResetState(e){return{type:t.MENU_RESET_STATES,payload:e}}initializeAvailablePages(e){return{type:t.ACTION_INITIALIZE_AVAILABLE_PAGES,payload:e}}initializeAvailablePagesSuccess(e){return{type:t.ACTION_INITIALIZE_AVAILABLE_PAGES_SUCCESS,payload:e}}initializeAvailablePagesRejected(e){return{type:t.ACTION_INITIALIZE_AVAILABLE_PAGES_REJECT,payload:e}}deleteSingleMenu(e){return{type:t.DELETE_SINGLE_MENU,payload:e}}deleteSingleMenuSuccess(e){return{type:t.DELETE_SINGLE_MENU_SUCCESS,payload:e}}deleteSingleMenuReject(e){return{type:t.DELETE_SINGLE_MENU_REJECTED,payload:e}}}return t.MENUS_LIST_INITIALIZE="[Menu Items] Menu Items Loading Initializing",t.MENUS_LIST_SUCCESS="[Menu Items] Menu Items Loading Success",t.MENUS_LIST_REJECTED="[Menu Items] Menu Items Loading Rejected",t.CREATE_NEW_MENU_ITEM_INITIALIZE="[New Menu Items] Creating New Menu Item Initializing",t.CREATE_NEW_MENU_ITEM_SUCCESS="[New Menu Items] Creating New Menu Item Success",t.CREATE_NEW_MENU_ITEM_REJECTED="[New Menu Items] Creating New Menu Item Rejected",t.SINGLE_MENU_INFORMATION_INITIALIZE="[Menu Single Item] Menu Single Item Information Initializing",t.SINGLE_MENU_INFORMATION_SUCCESS="[Menu Single Item] Menu Single Item Information Success",t.SINGLE_MENU_INFORMATION_REJECTED="[Menu Single Item] Menu Single Item Information Rejected",t.SAVE_SINGLE_MENU_INFORMATION_INITIALIZE="[Single Menu Save] Save Menu Single Item Information Initializing",t.SAVE_SINGLE_MENU_INFORMATION_SUCCESS="[Single Menu Save] Save Menu Single Item Information Success",t.SAVE_SINGLE_MENU_INFORMATION_REJECTED="[Single Menu Save] Save Menu Single Item Information Rejected",t.MENU_RESET_STATES="[RESET STATE] Resetting The Menu State",t.ACTION_INITIALIZE_AVAILABLE_PAGES="[Menu Single Item] Initialize available pages",t.ACTION_INITIALIZE_AVAILABLE_PAGES_SUCCESS="[Menu Single Item] Initialize available pages API success",t.ACTION_INITIALIZE_AVAILABLE_PAGES_REJECT="[Menu Single Item] Initialize available page APi rejected",t.DELETE_SINGLE_MENU="[Single Menu Delete] Delete Menu Single Item",t.DELETE_SINGLE_MENU_SUCCESS="[Single Menu Delete] Delete Menu Single Item Success",t.DELETE_SINGLE_MENU_REJECTED="[Single Menu Delete] Delete Menu Single Item Rejected",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b.Zb({token:t,factory:t.\u0275fac}),t})();var w=n("LvDl"),C=n.n(w);const O={internal:{items:[],count:1,current_page:1,current_page_size:12,total_count:1,menu_creation:{status:_.NOT_INITIALIZED,errors:[],id:null},single_menu_information:{information:{},saved_success:!1,status:_.NOT_INITIALIZED,errors:[]},delete_single_menu:{status:_.NOT_INITIALIZED,errors:[]}},available_pages:{list:[],state:_.NOT_INITIALIZED},state:_.NOT_INITIALIZED,hasChanged:!1};class v{static listAllAvailableMenus(t,e){const n=O;return n.internal.items=e.items.sort((t,e)=>t.position-e.position),n.internal.count=e.count,n.internal.current_page=e.current_page,n.internal.current_page_size=e.current_page_size,n.internal.total_count=e.total_count,n.state=_.INITIALIZED,n.hasChanged=!1,C.a.assign({},t,n)}static createNewMenuInitialize(t){const e=O;return e.internal.menu_creation.status=_.INITIALIZING,C.a.assign({},t,e)}static createNewMenu(t,e){const n=O;return n.internal.menu_creation.id=e.id,n.internal.menu_creation.status=_.INITIALIZED,n.internal.menu_creation.errors=[],n.hasChanged=!0,C.a.assign({},t,n)}static createNewMenuRejected(t,e){const n=O;return n.internal.menu_creation.status=_.REJECTED,n.internal.menu_creation.errors=e,C.a.assign({},t,n)}static singleMenuInitialize(t){const e=O;return e.internal.single_menu_information.status=_.INITIALIZING,C.a.assign({},t,e)}static singleMenuSuccess(t,e){const n=O;return n.internal.single_menu_information.information=e,n.internal.single_menu_information.status=_.INITIALIZED,n.internal.single_menu_information.errors=[],n.hasChanged=!0,C.a.assign({},t,n)}static singleMenuRejected(t,e){const n=O;return n.internal.single_menu_information.status=_.REJECTED,n.internal.single_menu_information.errors=e,C.a.assign({},t,n)}}const M={manage_menus:function(t=O,e){let n;switch(e.type){case f.MENU_RESET_STATES:return C.a.assign({},t,e.payload);case f.MENUS_LIST_INITIALIZE:return C.a.assign({},t,{state:_.INITIALIZING});case f.MENUS_LIST_SUCCESS:return v.listAllAvailableMenus(t,e.payload.data);case f.CREATE_NEW_MENU_ITEM_INITIALIZE:return v.createNewMenuInitialize(t);case f.CREATE_NEW_MENU_ITEM_SUCCESS:return v.createNewMenu(t,e.payload.data);case f.CREATE_NEW_MENU_ITEM_REJECTED:return v.createNewMenuRejected(t,e.payload.message);case f.SINGLE_MENU_INFORMATION_INITIALIZE:return v.singleMenuInitialize(t);case f.SINGLE_MENU_INFORMATION_SUCCESS:return v.singleMenuSuccess(t,e.payload.data);case f.SINGLE_MENU_INFORMATION_REJECTED:return v.singleMenuRejected(t,e.payload.message);case f.DELETE_SINGLE_MENU_SUCCESS:return n=t,n.internal.delete_single_menu.status=_.INITIALIZED,n.hasChanged=!0,C.a.assign({},t,n);case f.DELETE_SINGLE_MENU_REJECTED:return n=t,n.internal.delete_single_menu.status=_.REJECTED,n.internal.delete_single_menu.errors=e.payload.message,C.a.assign({},t,n);case f.SAVE_SINGLE_MENU_INFORMATION_INITIALIZE:return n=O,n.internal.single_menu_information.status=_.INITIALIZING,n.internal.single_menu_information.saved_success=!1,n.internal.single_menu_information.errors="",n.hasChanged=!1,C.a.assign({},t,n);case f.SAVE_SINGLE_MENU_INFORMATION_SUCCESS:return n=O,n.internal.single_menu_information.status=_.INITIALIZED,n.state=_.NOT_INITIALIZED,n.internal.single_menu_information.saved_success=!0,e.payload.data.message&&(n.internal.single_menu_information.errors=e.payload.data),n.hasChanged=!0,C.a.assign({},t,n);case f.SAVE_SINGLE_MENU_INFORMATION_REJECTED:return n=O,n.internal.single_menu_information.errors=e.payload.message,n.internal.single_menu_information.status=_.REJECTED,n.internal.single_menu_information.saved_success=!1,n.hasChanged=!1,C.a.assign({},t,n);case f.ACTION_INITIALIZE_AVAILABLE_PAGES:return C.a.assign({},t,{available_pages:{list:[],state:_.INITIALIZING}});case f.ACTION_INITIALIZE_AVAILABLE_PAGES_SUCCESS:return C.a.assign({},t,{available_pages:{list:e.payload.data.items,state:_.INITIALIZED}});case f.ACTION_INITIALIZE_AVAILABLE_PAGES_REJECT:default:return t}}},y=Object(r.k)("manage-menu");var P=n("SxV6"),S=n("Jc1x");let I=(()=>{class t{constructor(t){this.ref=t,this.in_accordion=!1}ngOnInit(){void 0===this.textfield_data&&(this.textfield_data={code:{inputFormControl:new g.e("")},menu_name:{inputFormControl:new g.e("")}}),this.textFields={floating_label:!0,type:"text",code:{id:"menu-code-text-field",label:d.a.t("standard","Code"),show_counter:!0,max_length:25},menu_name:{id:"menu-name-text-field",label:d.a.t("standard","Menu Name"),show_counter:!0,max_length:255}}}updateFormValues(){this.textfield_data.code.inputFormControl.markAsTouched(),this.textfield_data.menu_name.inputFormControl.markAsTouched(),this.ref.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(b.dc(b.i))},t.\u0275cmp=b.Xb({type:t,selectors:[["ng-component"]],inputs:{textfield_data:"textfield_data",in_accordion:"in_accordion"},decls:5,vars:21,consts:[[1,"menu-details_field-container"],[3,"type","id","labelClass","label","floating_label","value","show_counter","max_length","inputFormControl"],[3,"type","id","labelClass","label","floating_label","show_counter","max_length","value","inputFormControl"]],template:function(t,e){1&t&&(b.jc(0,"div"),b.jc(1,"div",0),b.ec(2,"textfield",1),b.ic(),b.jc(3,"div",0),b.ec(4,"textfield",2),b.ic(),b.ic()),2&t&&(b.Rb("menu-details__wrapper",e.in_accordion?"-accordion border-grey-light":"",""),b.Mb(2),b.Dc("type",e.textFields.type)("id",e.textFields.code.id)("labelClass",e.textFields.labelClass)("label",e.textFields.code.label)("floating_label",e.textFields.floating_label)("value",null==e.textfield_data?null:e.textfield_data.code.value)("show_counter",e.textFields.code.show_counter)("max_length",e.textFields.code.max_length)("inputFormControl",null==e.textfield_data?null:e.textfield_data.code.inputFormControl),b.Mb(2),b.Dc("type",e.textFields.type)("id",e.textFields.menu_name.id)("labelClass",e.textFields.labelClass)("label",e.textFields.menu_name.label)("floating_label",e.textFields.floating_label)("show_counter",e.textFields.menu_name.show_counter)("max_length",e.textFields.menu_name.max_length)("value",null==e.textfield_data?null:e.textfield_data.menu_name.value)("inputFormControl",null==e.textfield_data?null:e.textfield_data.menu_name.inputFormControl))},directives:[S.a],styles:[".menu-details__wrapper[_ngcontent-%COMP%] {\n        display: block;\n        width: 100%;\n      }\n      \n      .menu-details__wrapper-accordion[_ngcontent-%COMP%] {\n        margin: 15px -25px 0;\n        width: calc(100% + 50px);\n        padding: 10px 0 25px 0;\n        border-width: 1px 0 0;\n        border-style: solid;\n      }\n      \n      .menu-details_field-container[_ngcontent-%COMP%] {\n        margin-top: 5px;\n        padding: 0 25px;\n      }"]}),t})();var x=n("szes"),E=n("j5TW");class T{static menuVisibilityIconRender(t){if(void 0!==t)return`<span class="${"manage-lms-menus-icon-preview "+(0!==t?"text-main":"text-warning")}">\n                <span class="table-cell-label count-number">${t}</span>\n                <i class="zmdi zmdi-format-list-bulleted menu-number-icons text-bigger-icons"></i>\n            </span>`}static renderPublishedIcon(t){if(void 0===t)return;let e="zmdi-circle text-grey";return t&&(e="zmdi-check-circle text-positive-green"),`<i class="zmdi ${e} table-big-icons"></i>`}static renderDefaultIcon(t){if(void 0===t)return;let e="zmdi-star-circle text-grey";return t&&(e="zmdi-star-circle text-main"),`<i class="zmdi ${e} table-big-icons"></i>`}}var D=n("IzEk"),k=n("lJxs");class A extends E.b{constructor(t,e,n,i,s){super(t,e,n,i,s),this.menusSliceSelector=Object(r.m)(y,t=>t.manage_menus),this.filterParams={},this.multipleSorting=!1}static getStoreAndState(t,e,n="SET"){if(t&&(this.store=t),e&&(this.action=e),"GET"===n)return{store:this.store,action:this.action}}fetchData(t){return this.reduxVariables=A.getStoreAndState(null,null,"GET"),t.sort_attr=this.sort_by[0].column_id,t.sort_dir=this.sort_by[0].order,t.page_size=this.page_size,Object.keys(this.filterParams).length>0&&(t.filters=this.filterParams.filters,t.search_text=this.filterParams.search_text),this.reduxVariables.store.dispatch(this.reduxVariables.action.menusListInitialize(t)),this.reduxVariables.store.select(this.menusSliceSelector).pipe(Object(P.a)(t=>t&&t.state===_.INITIALIZED),Object(k.a)(t=>t.internal))}}var L=n("ubRZ"),j=n("35q8"),N=n("JA8w"),R=n("D6+O"),F=n("Y9qQ"),U=n("s3Kw"),z=n("+sIT"),q=n("Gql0"),B=n("T+s5"),V=n("ofXK");const G=["lmsMenusListingTable"],W=["pageSwitchComponent"];function H(t,e){1&t&&b.ec(0,"ui-spinner",6)}function $(t,e){1&t&&(b.jc(0,"div",7),b.ec(1,"ui-spinner"),b.ic())}function Q(t,e){if(1&t){const t=b.kc();b.jc(0,"draggable-table",8,9),b.rc("updateTable",function(e){return b.Uc(t),b.vc().onDrop(e)}),b.ic()}if(2&t){const t=b.vc();b.Dc("panels",t.listingTableParams.panels)("tableParams",t.listingTableParams.tableParams)}}const J=function(t,e){return{"pages-switch-active":t,"is-reloading":e}};let Y=(()=>{class t extends class{constructor(t,e,n,i,s,a,o,c,l){this.router=t,this.ref=e,this.translate=n,this.toggleService=i,this.sessionActions=s,this.docLayoutService=a,this.store=o,this.menuActions=c,this.backendService=l,this.menusSliceSelector=Object(r.m)(y,t=>t.manage_menus),u.a.getInstance().getPlatformPUID(this.backendService).pipe(Object(D.a)(1)).subscribe(t=>this.puLevelID=t)}defineTableColumns(t){const e=[{id:"handler",name:"",width:"20px",is_sortable:!1,renderer:x.a.menuHandleIconRenderer,hidden:!0}],n=[];n.push({id:"code",name:d.a.t("gamification","Code"),is_sortable:!1,renderer:E.b.PlainText,textRenderer:!0},{id:"name",name:d.a.t("standard","Name"),is_sortable:!1,renderer:E.b.PlainText,textRenderer:!0,onClick:t=>{this.router.navigate([`/pages/menu-management/settings/${t.id}`,{tab:"menu-settings"}])}},{id:"visible_by",name:d.a.t("standard","Visible by"),is_sortable:!1,renderer:this.menuVisibileByRender.bind(this),textRenderer:!0,onClick:t=>{this.router.navigate([`/pages/menu-management/settings/${t.id}`,{tab:"menu-settings",panel:"visibility"}])}}),this.toggleService.isOn(p.a.TOGGLE_ADMIN_PAGES_MULTIPLE_PAGES_PER_MENU)&&(n.push({id:"items_count",name:d.a.t("manmenu","_TITLE_MENUVOICE"),width:"125px",is_sortable:!1,renderer:T.menuVisibilityIconRender,onClick:t=>{this.router.navigate([`/pages/menu-management/settings/${t.id}`,{tab:"desktop-main-menu"}])}}),this.toggleService.isOn(p.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)&&n.push({id:"moble_pages_count",name:d.a.t("admin_webpages","Mobile Menu Items"),width:"170px",is_sortable:!1,renderer:T.menuVisibilityIconRender,onClick:t=>{this.router.navigate([`/pages/menu-management/settings/${t.id}`,{tab:"mobile-main-menu"}])}})),n.push({id:"is_default",width:"90px",name:d.a.t("admin_webpages","Default"),is_sortable:!1,renderer:T.renderDefaultIcon,onClick:t=>{0==+t.is_default&&this.setDefault([t.id])}},{id:"is_published",width:"105px",name:d.a.t("standard","Published"),is_sortable:!1,renderer:T.renderPublishedIcon,onClick:t=>{this.setPublishStatus(1==+t.is_published?0:1,[t.id])}});const i=[...e,...n];switch(t){case"all":return i;case"column-view":return i.map(t=>C.a.pick(t,["id","name"]));case"filter":return n}}updateMenuSinglePropertyFromTable(t){const e=Array.isArray(t.menu_id)?t.menu_id[0]:t.menu_id;this.store.dispatch(this.menuActions.saveSingleMenuInformationInitialize(t));const n=this.store.select(this.menusSliceSelector).subscribe(i=>{if(!i&&!i.internal.single_menu_information)return;const s=i.internal.single_menu_information.status===_.INITIALIZED,a=i.internal.single_menu_information.status===_.REJECTED,o=!0===i.internal.single_menu_information.saved_success,r=i.internal.items.find(t=>Number(t.id)===Number(e));s&&o&&(this.store.dispatch(this.sessionActions.loadSession()),this.docLayoutService.toast.showToast(0===t.params.is_published?{message:d.a.t("standard","{item} has been unpublished successfully",{item:"<b>"+r.name+"</b>"}),type:"success"}:1===t.params.is_published?{message:d.a.t("standard","{item} has been published successfully",{item:"<b>"+r.name+"</b>"}),type:"success"}:{message:d.a.t("standard","{item} was successfuly updated",{item:"<b>"+r.name+"</b>"}),type:"success"}),n.unsubscribe()),a&&!o&&(this.docLayoutService.toast.showToast({message:i.internal.single_menu_information.errors.message,type:"error"}),n.unsubscribe())})}menuVisibileByRender(t){if(void 0===t)return"";if(t.hasOwnProperty("all")&&t.all)return new d.b(this.translate,this.ref).transform(d.a.t("standard","All branches, groups and levels"));let e="";const n=Object.assign({},t),i=Object.keys(n),s={branches:d.a.t("standard","branches"),groups:d.a.t("standard","_GROUPS"),levels:d.a.t("manmenu","_LEVELS")};for(let a=0;a<i.length;a++){if(!s.hasOwnProperty(i[a]))continue;let t=n[i[a]].length;"levels"===i[a]&&1===n[i[a]].length&&0===n[i[a]][0]&&(t=0),e+=` ${t} ${new d.b(this.translate,this.ref).transform(s[i[a]]).toLowerCase()}`,a<i.length-2?e+=",":a===i.length-2&&(e+=` ${new d.b(this.translate,this.ref).transform(d.a.t("standard","AND"))} `),"levels"===i[a]&&n.levels.indexOf(this.puLevelID)>-1&&n.pu_profiles&&n.pu_profiles.length>0&&(e+=` (${new d.b(this.translate,this.ref).transform(d.a.t("standard","Power Users: {xxx} profiles selected",{xxx:n.pu_profiles.length}))})`)}return e}setPublishStatus(t,e){this.updateMenuSinglePropertyFromTable({menu_id:e,method:"PUT",params:{is_published:t}})}setDefault(t){this.updateMenuSinglePropertyFromTable({menu_id:t,method:"PUT",params:{is_default:1}})}}{constructor(t,e,n,i,s,a,o,c,l,d,g,h,p){super(s,a,o,c,e,h,i,t,l),this.menuActions=t,this.sessionActions=e,this.pageService=n,this.store=i,this.router=s,this.ref=a,this.translate=o,this.toggleService=c,this.backendService=l,this.fb=d,this.uiActions=g,this.docLayoutService=h,this._formatterService=p,this.disableDragAndDrop=!1,this.menusSliceSelector=Object(r.m)(y,t=>t.manage_menus),this.storeSubscriber=[],this.isLoadingSpinnerVisible=!1,this.isSuperAdmin=()=>u.a.getInstance().isCurrentUserA(u.a.LEVEL_SUPERADMIN)}ngOnInit(){this.addActionButtons(),this.setPageTitles(),this.createNewMenuForm=this.fb.group({code:["",g.x.maxLength(25)],name:["",g.x.compose([g.x.required,g.x.maxLength(255)])]}),A.getStoreAndState(this.store,this.menuActions);const t=this.defineTableColumns("all");this.listingTableParams={tableParams:{columns:t,source:new A(1,[{column_id:"position",order:"asc"}],1024,null,this.defineTableColumns("all")),row_actions:this.getRowActions(),enable_massive_actions:!1,cache_prefix:"lms-listing-menus",massive_actions:[],calc_height:!1},panels:[{icon:"view-column",content:{params:{columns:this.defineTableColumns("all"),max_selectable:t.length,locked_columns:[{id:"name",title:d.a.t("standard","Name")}]},component:m.a}}]}}ngAfterViewInit(){this.lmsMenusTable&&(this.storeSubscriber.push(this.store.select(this.menusSliceSelector).subscribe(t=>{if(t){if(t.hasChanged){if(!this.lmsMenusTable||this.lmsMenusTable.extendedTable&&!this.lmsMenusTable.extendedTable.hasOwnProperty("table"))return;this.lmsMenusTable.extendedTable.table.refreshTable()}t.state===_.INITIALIZED&&t.internal.single_menu_information.status===_.INITIALIZED&&(this.disableDragAndDrop=!1),this.totalMenusCount=t.internal.total_count}})),this.lmsMenusTable.extendedTable&&this.lmsMenusTable.extendedTable.table.updateTableHeight())}ngOnDestroy(){for(const t of this.storeSubscriber)t.unsubscribe();this.store.dispatch(this.menuActions.menuResetState({hasChanged:!1,internal:{single_menu_information:{status:_.NOT_INITIALIZED}}})),this.docLayoutService.actionButtons.clearActionButtons(),this.store.dispatch(this.uiActions.hideRightpanel())}addActionButtons(){const t={properties:{icons:["plus"],textClass:"custom-circle-button text-white",BgClass:"bg-positive-green hover-bg-positive-green hover-text-white",tooltipText:d.a.t("admin_webpages","New internal menu"),tooltipPosition:"bottom",baloon:{width:300,style:"main",showOnClick:!0,position:this._formatterService.isUserLanguageRTL()?"right":"bottom-left",title:d.a.t("admin_webpages","New menu!"),text:d.a.t("pages","Create a menu for desktop or mobile, then edit it in a few simple steps!"),isSuggestionBalloon:!0}},onClick:()=>{this.isLoadingSpinnerVisible||this.openNewMenuCreationPanel()}},e={properties:{icons:["view-list-alt"],tooltipText:d.a.t("admin_webpages","Switch to Manage Pages"),tooltipPosition:"bottom"},onClick:()=>{this.isLoadingSpinnerVisible||this.router.navigate(["/pages/page-management"])}};this.isSuperAdmin()?this.docLayoutService.actionButtons.setActionButtons([e,t]):this.docLayoutService.actionButtons.setActionButtons([t])}errorDuplicateCallback(){this.isLoadingSpinnerVisible=!1,this.docLayoutService.toast.showToast({message:d.a.t("standard","Operation failed."),type:"error"})}getRowActions(){return[{id:"edit",title:d.a.t("standard","Edit"),icon:"edit text-main",action:t=>{this.router.navigate([`/pages/menu-management/settings/${t.id}`])}},{id:"duplicate_and_edit",title:d.a.t("app7020","Duplicate and Edit"),icon:"plus-circle-o-duplicate text-main",action:t=>{this.menusLimitReached()||(this.isLoadingSpinnerVisible=!0,this.backendService.request("/pages/v1/menu/duplicate","POST",{id:t.id}).subscribe(t=>{1==t.data.success?(window.sessionStorage.setItem("duplicate_and_edit","success"),this.router.navigate(["/pages/menu-management/settings/"+t.data.duplicate_id])):this.errorDuplicateCallback()},()=>{this.errorDuplicateCallback()}))}},{id:"delete",title:d.a.t("standard","Delete"),icon:"delete text-error",action:t=>{this.pageService.dialog.open(function(t,e,n,i,s){return{id:3,width:470,height:210,title:d.a.t("admin_webpages","Delete menu"),content:d.a.t("standard","Are you sure you want to delete menu {menu}? By deleting this menu, the pages associated to it will not be deleted.",{menu:t.name}),type:"confirmation",actions:[{type:"cancel",properties:{text:d.a.t("standard","Cancel")},handler:t=>{t.close()}},{type:"normal",properties:{text:d.a.t("standard","Confirm")},handler:a=>{a.close(),e.dispatch(s.deleteSingleMenu(t.id));const o=Object(r.m)(y,t=>t.manage_menus);e.select(o).pipe(Object(P.a)(t=>!t||t.internal.delete_single_menu.status===_.INITIALIZED&&t.hasChanged||t.internal.delete_single_menu.status===_.REJECTED)).subscribe(s=>{if(!s)return;const a=s.internal.delete_single_menu;a.status===_.INITIALIZED&&s.hasChanged&&(e.dispatch(i.loadSession()),n.toast.showToast({message:d.a.t("admin_webpages","{item} has been deleted",{item:t.name}),type:"success"})),a.status===_.REJECTED&&n.toast.showToast({message:a.errors[0],type:"error"})})}}]}}(t,this.store,this.docLayoutService,this.sessionActions,this.menuActions))}}]}initializeRightPanelForCreatingPage(){return{width:500,title:d.a.t("admin_webpages","Create a New Internal Menu"),content:{component:I,params:{textfield_data:{code:{inputFormControl:this.createNewMenuForm.controls.code},menu_name:{inputFormControl:this.createNewMenuForm.controls.name}}}},actions:[{type:"submit",properties:{text:d.a.t("standard","Create & Edit")},handler:t=>{this.createNewMenuAction(t)}},{type:"cancel",properties:{text:d.a.t("app7020","Cancel")},handler:t=>{t.close()}}],mode:h.j.MODAL,inputFormControl:this.createNewMenuForm,loadContentOnOpen:!0}}createNewMenuAction(t){const e=this.createNewMenuForm.getRawValue();this.store.dispatch(this.menuActions.createNewMenuInitialize(e));const n=this.store.select(this.menusSliceSelector).subscribe(e=>{if(e.internal.menu_creation.status===_.INITIALIZED&&(t.close(),this.docLayoutService.toast.showToast({message:d.a.t("admin_webpages","{menu_name} has been created successfully",{menu_name:this.createNewMenuForm.controls.name.value}),type:"success"}),this.store.dispatch(this.uiActions.hideRightpanel()),this.router.navigate([`/pages/menu-management/settings/${e.internal.menu_creation.id}`]),n.unsubscribe()),e.internal.menu_creation.status===_.REJECTED)for(let i=0;i<e.internal.menu_creation.errors.length;i++){const s=e.internal.menu_creation.errors[i];if(void 0===s.field)return;this.createNewMenuForm.controls[s.field].setErrors(s.message),t.getComponentInstance().updateFormValues(),n.unsubscribe()}})}onDrop(t){const e={menu_id:t.id,method:"PUT",params:{position:t.position}};this.disableDragAndDrop=!0,this.updateMenuSinglePropertyFromTable(e)}getDragAndDropAvailability(){return this.disableDragAndDrop}setPageTitles(){this.docLayoutService.header.showTitleBar({title:d.a.t("admin_webpages","Manage menus"),subtitle:d.a.t("pages","Create, edit and delete the menus of your platform"),fullWidth:!0,mode:"bordered"})}openNewMenuCreationPanel(){this.menusLimitReached()||(this.createNewMenuForm.reset(),this.store.dispatch(this.uiActions.showRightPanel(this.initializeRightPanelForCreatingPage())),this.store.dispatch(this.uiActions.openRightpanel()))}menusLimitReached(){let e=this.toggleService.isOn(p.a.TOGGLE_ADMIN_MENU_250_MENU_LIMIT)?t.MAX_MENUS_TOGGLE_LIMIT:t.MAX_MENUS_LIMIT,n=this.toggleService.isOn(p.a.TOGGLE_ADMIN_MENU_250_MENU_LIMIT)?15:10;return this.totalMenusCount>=e&&(this.docLayoutService.toast.showToast({message:d.a.t("admin_webpages","The maximum amount of menus is {limit}. Please remove some menus before creating a new one.",{limit:e}),type:"error",duration:n}),!0)}}return t.MAX_MENUS_LIMIT=200,t.MAX_MENUS_TOGGLE_LIMIT=250,t.\u0275fac=function(e){return new(e||t)(b.dc(f),b.dc(L.a),b.dc(j.a),b.dc(r.d),b.dc(i.h),b.dc(b.i),b.dc(N.a),b.dc(R.a),b.dc(F.a),b.dc(g.d),b.dc(U.e),b.dc(z.a),b.dc(q.b))},t.\u0275cmp=b.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(b.md(G,1),b.md(W,1)),2&t){let t;b.Qc(t=b.sc())&&(e.lmsMenusTable=t.first),b.Qc(t=b.sc())&&(e.pageSwitchComponent=t.first)}},features:[b.Jb],decls:7,vars:7,consts:[[1,"bg-white","lms-custom-menus-listing__wrapper"],["pageSwitchComponent",""],["class","dnd-wait-spinner",4,"ngIf"],[1,"lms-custom-menus-listing__body",3,"ngClass"],["class","spinner menu-spinner",4,"ngIf"],[3,"panels","tableParams","updateTable",4,"ngIf"],[1,"dnd-wait-spinner"],[1,"spinner","menu-spinner"],[3,"panels","tableParams","updateTable"],["lmsMenusListingTable",""]],template:function(t,e){if(1&t&&(b.jc(0,"div",0),b.ec(1,"pages-switch",null,1),b.dd(3,H,1,0,"ui-spinner",2),b.jc(4,"div",3),b.dd(5,$,2,0,"div",4),b.dd(6,Q,2,2,"draggable-table",5),b.ic(),b.ic()),2&t){const t=b.Rc(2);b.Mb(3),b.Dc("ngIf",e.getDragAndDropAvailability()),b.Mb(1),b.Dc("ngClass",b.Jc(4,J,null==t?null:t.showComponent,e.getDragAndDropAvailability())),b.Mb(1),b.Dc("ngIf",e.isLoadingSpinnerVisible),b.Mb(1),b.Dc("ngIf",e.listingTableParams&&!e.isLoadingSpinnerVisible)}},directives:[B.a,V.p,V.n,a.bd,x.a],styles:[".menu-spinner[_ngcontent-%COMP%] { padding-top: 15rem; }"]}),t})();var K=n("cgKn"),X=n("S2Qf"),Z=n("z52M");function tt(t,e){if(1&t&&b.ec(0,"tabs",3),2&t){const t=b.vc();b.ad(t.menusListingTabsParams.style),b.Dc("panels",t.menusListingTabsParams.panels)("reInitTabsOnChange",t.menusListingTabsParams.reInitTabsOnChange)("initialTab",t.menusListingTabsParams.initialTab)}}let et=(()=>{class t{constructor(t,e,n,i){this.router=t,this.docLayoutService=e,this.asknicelyService=n,this.toggleService=i,this.docLayoutService.breadcrumbs.setHierarchicalBreadcrumbs([{label:d.a.t("admin_webpages","Manage menus"),href:this.router.url}])}ngOnInit(){this.docLayoutService.page.activateFullHeightMode();const t={title:d.a.t("standard","Internal menu"),content:{params:{},component:Y}};this.menusListingTabsParams={panels:[t],style:"tabs-box",initialTab:{},reInitTabsOnChange:!1},this.toggleService.isOn(X.f.TOGGLE_ASK_NICELY_NPS)&&this.asknicelyService.getSettings().subscribe(t=>{let e=t.data;e.alignment="left",this.asknicelyService.askNicelyCall(e)})}}return t.\u0275fac=function(e){return new(e||t)(b.dc(i.h),b.dc(z.a),b.dc(K.a),b.dc(X.g))},t.\u0275cmp=b.Xb({type:t,selectors:[["ng-component"]],features:[b.Lb([K.a])],decls:3,vars:1,consts:[[1,"bg-white","lms-custom-menus-listing__wrapper"],[1,"lms-custom-menus-listing__body"],[3,"panels","reInitTabsOnChange","style","initialTab",4,"ngIf"],[3,"panels","reInitTabsOnChange","initialTab"]],template:function(t,e){1&t&&(b.jc(0,"div",0),b.jc(1,"div",1),b.dd(2,tt,1,5,"tabs",2),b.ic(),b.ic()),2&t&&(b.Mb(2),b.Dc("ngIf",e.menusListingTabsParams))},directives:[V.p,Z.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]     .lms-custom-menus-listing__body.is-reloading  {opacity:.7;pointer-events:none}[_nghost-%COMP%]     .lms-custom-menus-listing__body.is-reloading   .wrap-table-inner tbody tr:hover .icon-dot.text-grey-mid.handle-inner{opacity:0;display:none}[_nghost-%COMP%]     .lms-custom-menus-listing__body.is-reloading   .wrap-table-inner tbody .menu-drag-handle{display:none}[_nghost-%COMP%]     .lms-custom-menus-listing__body   .mdl-tabs.loaded, [_nghost-%COMP%]     .lms-custom-menus-listing__body   .mdl-tabs.loaded .tabs-body{height:100%}[_nghost-%COMP%]     .lms-custom-menus-listing__body   .mdl-tabs.loaded .tabs-body .tabs-content{padding:0;height:100%}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .dnd-wait-spinner{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .manage-lms-menus-icon-preview{display:inline-block;line-height:22px}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .manage-lms-menus-icon-preview .count-number{height:18px;vertical-align:middle}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .manage-lms-menus-icon-preview .menu-number-icons{vertical-align:middle}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody tr td.td-is_default, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody tr td.td-is_published, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody tr td.td-items_count, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody tr td.td-moble_pages_count, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper thead tr th.th-is_default, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper thead tr th.th-is_published, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper thead tr th.th-items_count, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper thead tr th.th-moble_pages_count{text-align:center}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .table-extended{height:100%}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .table-container .header-table thead th.th-handler{padding-left:0}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .table-container .wrap-table-inner .text-lowercase{text-transform:lowercase}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .table-container .wrap-table-inner .listing-menu-no-transform{text-transform:none}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .table-container .wrap-table-inner .docebo-table tbody tr td.td-handler{padding-left:0}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.ex-over, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.gu-unselectable{color:inherit}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.ex-over tr, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.gu-unselectable tr{opacity:.8}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.ex-over tr.gu-mirror, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.gu-unselectable tr.gu-mirror{max-width:100vw;display:flex;opacity:1;background:hsla(0,0%,100%,.6);border:1px solid rgba(0,0,0,.12);height:40px!important}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.ex-over tr.gu-mirror td, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.gu-unselectable tr.gu-mirror td{max-width:unset!important;flex-grow:1;border-width:0;display:flex;align-items:center;align-content:center}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.ex-over tr.gu-mirror td.td-is_default, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.ex-over tr.gu-mirror td.td-is_published, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.ex-over tr.gu-mirror td.td-items_count, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.gu-unselectable tr.gu-mirror td.td-is_default, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.gu-unselectable tr.gu-mirror td.td-is_published, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.gu-unselectable tr.gu-mirror td.td-items_count{justify-content:center}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.ex-over tr.gu-mirror td.table-actions, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody.gu-unselectable tr.gu-mirror td.table-actions{opacity:0}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .handle, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .icon-dot.text-grey-mid.handle-inner, [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .menu-drag-handle{cursor:move;display:block;position:absolute;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:20px;height:25px;margin:-13px 0 0;top:50%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .handle, .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .icon-dot.text-grey-mid.handle-inner, .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .menu-drag-handle{left:0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .handle, .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .icon-dot.text-grey-mid.handle-inner, .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .menu-drag-handle{left:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .handle, .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .icon-dot.text-grey-mid.handle-inner, .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .menu-drag-handle{right:auto}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .handle, .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .icon-dot.text-grey-mid.handle-inner, .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .menu-drag-handle{right:0}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .menu-drag-handle{z-index:2}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody .icon-dot.text-grey-mid.handle-inner{opacity:0;z-index:1;text-align:center;line-height:25px;font-size:20px;letter-spacing:-1px}[_nghost-%COMP%]     .lms-custom-menus-listing__wrapper .wrap-table-inner tbody tr:hover .icon-dot.text-grey-mid.handle-inner{opacity:1}.ie-browser[_nghost-%COMP%]     .manage-lms-menus-icon-preview .menu-number-icons, .ie-browser   [_nghost-%COMP%]     .manage-lms-menus-icon-preview .menu-number-icons{height:17px}.ie-browser[_nghost-%COMP%]     tr.gu-mirror .handle-inner, .ie-browser   [_nghost-%COMP%]     tr.gu-mirror .handle-inner, .ie-browser[_nghost-%COMP%]     tr.gu-mirror .menu-drag-handle, .ie-browser   [_nghost-%COMP%]     tr.gu-mirror .menu-drag-handle{margin:3px 0 0!important}.ie-browser[_nghost-%COMP%]     tr .handle-inner, .ie-browser   [_nghost-%COMP%]     tr .handle-inner, .ie-browser[_nghost-%COMP%]     tr .menu-drag-handle, .ie-browser   [_nghost-%COMP%]     tr .menu-drag-handle{margin:7px 0 0!important}"]}),t})();var nt=n("mrSG"),it=n("LkXk");let st=(()=>{class t{constructor(t){this._ref=t,this.peopleSelectorParams=null}ngOnInit(){const t=this.menuSettingsFormControl.controls.visible_by.value,e=t.all,n=t.groups,i=t.branches,s=t.levels,a=t.pu_profiles;this.peopleSelectorParams={title:d.a.t("report","_CURRENT_SELECTION"),labelForSwitch:d.a.t("standard","Custom selection"),selected:{all:e,groups:n,branches:i,levels:s,pu_profiles:a,users:[]},manage:{branches:!0,groups:!0,levels:!0,users:!1},maxSelectable:{all:50,groups:50,branches:50,users:15,pu_profiles:15},maxSuggested:{all:50,groups:50,branches:50,users:15,pu_profiles:15}},this._ref.detectChanges()}selectionChanged(t){this.menuSettingsFormControl.controls.visible_by.markAsDirty(),this.menuSettingsFormControl.controls.visible_by.setValue(t)}}return t.\u0275fac=function(e){return new(e||t)(b.dc(b.i))},t.\u0275cmp=b.Xb({type:t,selectors:[["ng-component"]],inputs:{menuSettingsFormControl:"menuSettingsFormControl"},decls:3,vars:6,consts:[[1,"menu-visibility-settings__wrapper","mdl-wrapper","border-grey-light"],[1,"menu-visibility-settings__body","mdl-cell--12-col"],[3,"title","labelForSwitch","selected","manage","maxSelectable","maxSuggested","onSelectionChanged"]],template:function(t,e){1&t&&(b.jc(0,"div",0),b.jc(1,"div",1),b.jc(2,"people-selector-boxed",2),b.rc("onSelectionChanged",function(t){return e.selectionChanged(t)}),b.ic(),b.ic(),b.ic()),2&t&&(b.Mb(2),b.Dc("title",e.peopleSelectorParams.title)("labelForSwitch",e.peopleSelectorParams.labelForSwitch)("selected",e.peopleSelectorParams.selected)("manage",e.peopleSelectorParams.manage)("maxSelectable",e.peopleSelectorParams.maxSelectable)("maxSuggested",e.peopleSelectorParams.maxSuggested))},directives:[it.a],styles:[".menu-visibility-settings__wrapper[_ngcontent-%COMP%] {\n            margin: 15px -25px -18px;\n            width: calc(100% + 50px);\n            padding: 0;\n            border-width: 1px 0 0;\n            border-style: solid;\n        }"]}),t})();var at=n("M+yG");const ot=["menuSettingsAccordionTemplate"];function rt(t,e){if(1&t&&b.ec(0,"accordion",3,4),2&t){const t=b.vc();b.Dc("type",t.menuSettingsAccordion.type)("panels",t.menuSettingsAccordion.panels)}}let ct=(()=>{class t{constructor(t){this.route=t,this.menuSettingsAccordion=null}ngOnInit(){this.routeSubscriber=this.route.params.subscribe(t=>{void 0!==t.panel&&"visibility"===String(t.panel)&&(this.visibilityPanelOpened=!0),this.initializeTheAccordionComponent()})}initializeTheAccordionComponent(){const t={title:d.a.t("admin_webpages","Menu Details"),description:d.a.t("admin_webpages","Define menu details"),opened:!this.visibilityPanelOpened,active:!this.visibilityPanelOpened,content:{params:{textfield_data:{code:{inputFormControl:this.menuSettingsFormControl.controls.code},menu_name:{inputFormControl:this.menuSettingsFormControl.controls.name}},in_accordion:!0},component:I}},e={title:d.a.t("app7020","Visibility"),description:d.a.t("admin_webpages","Set the visibility for this menu"),opened:this.visibilityPanelOpened,active:this.visibilityPanelOpened,content:{params:{menuSettingsFormControl:this.menuSettingsFormControl},component:st},balloonParams:{title:d.a.t("app7020","Visibility"),position:"top",text:d.a.t("admin_webpages","Set the visibility for this menu"),style:"main",balloonGroup:"menu-main-settings"}};this.menuSettingsAccordion={type:"split",panels:[t,e]}}ngOnDestroy(){this.routeSubscriber&&this.routeSubscriber.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(b.dc(i.a))},t.\u0275cmp=b.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&b.md(ot,1),2&t){let t;b.Qc(t=b.sc())&&(e.menuSettingsAccordionTemplate=t.first)}},inputs:{menuSettingsFormControl:"menuSettingsFormControl",settings:"settings",page_id:"page_id"},decls:3,vars:1,consts:[[1,"menu-settings-accordion__wrapper"],[1,"mdl-cell","mdl-cell--8-col","menu-settings-accordion_container"],[3,"type","panels",4,"ngIf"],[3,"type","panels"],["menuSettingsAccordionTemplate",""]],template:function(t,e){1&t&&(b.jc(0,"div",0),b.jc(1,"div",1),b.dd(2,rt,2,2,"accordion",2),b.ic(),b.ic()),2&t&&(b.Mb(2),b.Dc("ngIf",e.menuSettingsAccordion))},directives:[V.p,at.a],styles:[".menu-settings-accordion__wrapper[_ngcontent-%COMP%] {\n        margin-top: 15px;\n      }\n      .menu-settings-accordion_container[_ngcontent-%COMP%]{\n        margin-left: auto;\n        margin-right: auto;\n      }"]}),t})();var lt=n("d+dA"),dt=n("QmWI"),gt=n("qI0D"),ut=n("3D7D");function ht(t,e){if(1&t&&(b.jc(0,"span",6),b.ec(1,"i",7),b.ic()),2&t){const t=b.vc();b.Ec("tooltip",t.warningTooltipText)}}function pt(t,e){if(1&t&&(b.jc(0,"span",8),b.wc(1,"t"),b.ec(2,"i",9),b.ic()),2&t){const t=b.vc();b.Ec("tooltip",b.xc(1,1,t.infoTooltipText))}}let mt=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Xb({type:t,selectors:[["page-label"]],inputs:{name:"name",description:"description",warningTooltipText:"warningTooltipText",infoTooltipText:"infoTooltipText",displayIcon:"displayIcon"},decls:9,vars:7,consts:[[1,"fsl-component-page-name__content"],[1,"title-normal-regular","text-grey-dark","fsl-component-page-name"],[1,"name-wrapping"],["class","external-warning","position","top",3,"tooltip",4,"ngIf"],["position","top",3,"tooltip",4,"ngIf"],[1,"name-description","name-wrapping","text-grey-mid"],["position","top",1,"external-warning",3,"tooltip"],[1,"zmdi","zmdi-alert-triangle","warning-icon","text-warning"],["position","top",3,"tooltip"],[1,"zmdi","zmdi-info","text-mid-icons","text-grey-mid","aware-icon"]],template:function(t,e){1&t&&(b.jc(0,"span",0),b.ec(1,"i"),b.jc(2,"span",1),b.jc(3,"span",2),b.fd(4),b.dd(5,ht,2,1,"span",3),b.dd(6,pt,3,3,"span",4),b.ic(),b.jc(7,"span",5),b.fd(8),b.ic(),b.ic(),b.ic()),2&t&&(b.Mb(1),b.Rb("",e.displayIcon," text-grey-mid table-big-icons"),b.Mb(3),b.hd(" ",e.name,""),b.Mb(1),b.Dc("ngIf",e.warningTooltipText),b.Mb(1),b.Dc("ngIf",e.infoTooltipText),b.Mb(2),b.gd(e.description))},directives:[V.p,ut.a],pipes:[d.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]     .external-warning i.warning-icon{font-size:18px;margin:0 5px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .table-big-icons{margin:0 10px 0 15px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .table-big-icons{margin:0 15px 0 10px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .aware-icon{margin:0 0 0 8px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .aware-icon{margin:0 8px 0 0}"]}),t})();var _t=n("/76g"),bt=n("9lTW"),ft=n("XNiG"),wt=n("1G5W"),Ct=n("JPcv"),Ot=function(t){return t.CHECKBOX="checkbox",t.RADIO="radio",t}({});class vt{constructor(){this._selectionOverride=!1,this._currentSelections=Object(Ct.Set)()}get isRadio(){return this._currentSelectionType===Ot.RADIO}get isCheckbox(){return this._currentSelectionType===Ot.CHECKBOX}checkRep(){if(!this._currentSelectionType)throw new Error("You must specify a selection type");if(!this._currentSelections)throw new bt.AssertionError;if(this.isRadio&&this.isCheckbox)throw new bt.AssertionError}setSelectionType(t){if(null!=this._currentSelectionType)throw new Error("cannot change selection configuration, component already initialized");this._currentSelectionType=t,this.isRadio&&(this.radioControl=new g.e),this.checkRep()}get selectionOverride(){return this._selectionOverride}overrideSelectionEnablement(t){this._selectionOverride=t}getCurrentSelections(){if(this.isCheckbox)return this._currentSelections.toArray();if(this.isRadio)return this.radioControl.value;throw new bt.AssertionError}get noSelection(){if(this.isCheckbox)return this._currentSelections.isEmpty();if(this.isRadio)return null==this.radioControl.value;throw new bt.AssertionError}isSelected(t){return this._currentSelections.contains(t)}addToSelections(t){this.checkRep(),this.isCheckbox&&(this._currentSelections=this._currentSelections.add(t))}removeFromSelections(t){this.checkRep(),this.isCheckbox&&(this._currentSelections=this._currentSelections.remove(t))}clearSelections(){this.checkRep(),this.isCheckbox?this._currentSelections=this._currentSelections.clear():this.isRadio&&this.radioControl.reset()}}function Mt(t,e){if(!t)throw new bt.AssertionError;return{newItems:e.filter(e=>e.label.params.name.toLowerCase().includes(t.toLocaleLowerCase())),success:!0}}let yt=(()=>{class t{constructor(){this._searchResults=[],this._currentSearchTerm=t.SEARCH_INACTIVE,this._search=Mt}get searchResults(){return this._searchResults}get noSearchResults(){return this.isSearchActive&&!this.areThereSearchResults}get areThereSearchResults(){return 0!==this._searchResults.length}configureSearch(t){this.userConf=t||{}}checkRep(){if(null==this._search||!C.a.isFunction(this._search))throw new Error("Default search function is missing");if(null==this.userConf)throw new Error("Search delegate not configured")}get currentSearchTerm(){return this._currentSearchTerm}get isSearchActive(){return this._currentSearchTerm!==t.SEARCH_INACTIVE}search(e,n){if(this.checkRep(),!e)return;this._currentSearchTerm=e;const i=Object.freeze(C.a.cloneDeep(n));if(this.userConf.onSearchOverride&&C.a.isFunction(this.userConf.onSearchOverride)){const{newItems:n,success:s}=this.userConf.onSearchOverride.call(e,i);this._searchResults=n,s||(this._currentSearchTerm=t.SEARCH_INACTIVE)}else{const{newItems:n,success:s}=this._search(e,i);this._searchResults=n,s||(this._currentSearchTerm=t.SEARCH_INACTIVE)}}clearSearchResults(){this._currentSearchTerm=t.SEARCH_INACTIVE,this._searchResults=[]}}return t.SEARCH_INACTIVE="",t})(),Pt=(()=>{class t{constructor(){this._entries=[],this.selection=new vt,this._searchDelegate=new yt}setUiUpdateStream(t){this._stateChanged$=t}get noEntriesToShow(){return!!this._entries&&0===this._entries.length}checkRep(){if(null==this._stateChanged$)throw new bt.AssertionError;if(null==this._searchDelegate)throw new bt.AssertionError;if(null==this.selection)throw new bt.AssertionError}get entries(){return this._searchDelegate.isSearchActive?this._searchDelegate.searchResults:this._entries}setEntriesList(t){this.checkRep(),t&&(C.a.isEqual(this._entries,t)||(this._entries=C.a.cloneDeep(t),this.updateSearchResults(),this._stateChanged$.next()))}getSelections(){return this.selection.noSelection?null:this.selection.getCurrentSelections()}configureSearch(t){this._searchDelegate.configureSearch(t)}get noSearchResults(){return this._searchDelegate.noSearchResults}search(t){t&&(this._searchDelegate.search(t,this._entries),this._stateChanged$.next())}clearSearchResults(){this._searchDelegate.clearSearchResults(),this._stateChanged$.next()}updateSearchResults(){this._searchDelegate.isSearchActive&&this.search(this._searchDelegate.currentSearchTerm)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b.Zb({token:t,factory:t.\u0275fac}),t})();var St=n("yRWM");const It={title:_t.a.t("standard","Whoops, No results found!"),subtitle:_t.a.t("myteam","Please try again using different search/filters criteria."),type:St.a.EMPTY001};var xt=function(t){return t.CHECKBOX="checkbox",t.RADIO="radio",t}({});function Et(t,e){return e.id}var Tt=n("aRdF"),Dt=n("SYYg"),kt=n("DbCY"),At=n("PEGs"),Lt=n("ySfU"),jt=n("/hE/"),Nt=n("nX3d"),Rt=n("Vqln"),Ft=n("4Y2v");function Ut(t,e){1&t&&b.fc(0)}const zt=function(t){return{$implicit:t}};function qt(t,e){if(1&t&&(b.hc(0),b.dd(1,Ut,1,0,"ng-container",17),b.gc()),2&t){const t=e.$implicit;b.vc(3);const n=b.Rc(10);b.Mb(1),b.Dc("ngTemplateOutlet",n)("ngTemplateOutletContext",b.Ic(2,zt,t))}}const Bt=function(t){return{disabled:t}};function Vt(t,e){if(1&t){const t=b.kc();b.hc(0),b.jc(1,"div",10),b.jc(2,"virtual-scroller",11,12),b.dd(4,qt,2,4,"ng-container",13),b.ic(),b.ic(),b.jc(5,"div",14),b.jc(6,"div",15),b.jc(7,"basic-button",16),b.rc("click",function(){return b.Uc(t),b.vc(2).onSubmit()}),b.ic(),b.ic(),b.ic(),b.gc()}if(2&t){const t=b.Rc(3),e=b.vc(2);b.Mb(2),b.Dc("items",e._modelService.entries)("bufferAmount",2),b.Mb(2),b.Dc("ngForOf",t.viewPortItems),b.Mb(2),b.ad(e.uiLabels.action.balloon.style),b.Dc("width",e.uiLabels.action.balloon.width)("position",e.uiLabels.action.balloon.position)("title",e.uiLabels.action.balloon.title)("text",e.uiLabels.action.balloon.text)("showOnClick",e.uiLabels.action.balloon.showOnClick)("balloonGroup",e.uiLabels.action.balloon.balloonGroup),b.Mb(1),b.Dc("ngClass",b.Ic(15,Bt,e._selection.selectionOverride))("type","submit")("text",e.uiLabels.action.buttonLabel)("customClasses",e.uiLabels.action.customClasses)}}function Gt(t,e){if(1&t&&(b.hc(0),b.jc(1,"div",8),b.ec(2,"search-field",9),b.ic(),b.dd(3,Vt,8,17,"ng-container",4),b.gc()),2&t){const t=b.vc(),e=b.Rc(14);b.Mb(1),b.Dc("ngClass",b.Ic(6,Bt,t._selection.selectionOverride)),b.Mb(1),b.Dc("label",t.uiLabels.searchbar)("action",t.onSearch.bind(t))("searchOnKeypress",t.searchConf.searchOnKeypress),b.Mb(1),b.Dc("ngIf",!t.showBlankslate.nullSearch)("ngIfElse",e)}}const Wt=function(){return{category:"admin_webpages"}};function Ht(t,e){if(1&t&&(b.jc(0,"span",23),b.wc(1,"t"),b.ec(2,"i",24),b.ic()),2&t){const t=b.vc(2).$implicit,e=b.vc();b.Ec("tooltip",b.yc(1,2,"Page available both for desktop and for mobile",b.Hc(5,Wt))),b.Dc("ngClass",b.Ic(6,Bt,!t.enabled||e._selection.selectionOverride))}}function $t(t,e){if(1&t&&(b.jc(0,"span",23),b.wc(1,"t"),b.ec(2,"i",25),b.ic()),2&t){const t=b.vc(2).$implicit,e=b.vc();b.Ec("tooltip",b.yc(1,2,"Page available for desktop only",b.Hc(5,Wt))),b.Dc("ngClass",b.Ic(6,Bt,!t.enabled||e._selection.selectionOverride))}}const Qt=function(t){return{"list-item-disabled":t}};function Jt(t,e){if(1&t){const t=b.kc();b.hc(0),b.jc(1,"div",19),b.jc(2,"checkbox",20),b.rc("onChange",function(e){b.Uc(t);const n=b.vc().$implicit;return b.vc().onEntrySelection(e,n)}),b.ec(3,"page-label",21),b.ic(),b.dd(4,Ht,3,8,"span",22),b.dd(5,$t,3,8,"span",22),b.ic(),b.gc()}if(2&t){const t=b.vc().$implicit,e=b.vc();b.Mb(1),b.Dc("ngClass",b.Ic(14,Qt,!t.enabled||e._selection.selectionOverride)),b.Mb(1),b.Dc("label",t.label)("checked",e._selection.isSelected(t.id))("value",t.checked)("enabled",t.enabled&&!e._selection.selectionOverride)("filled",e.checkboxFilled)("dynamicLabelContent",t.label&&(null==t.label?null:t.label.params)),b.Mb(1),b.Dc("name",t.label.params.name)("description",t.label.params.description)("warningTooltipText",t.label.params.warningTooltipText)("infoTooltipText",t.label.params.infoTooltipText)("displayIcon",t.label.params.displayIcon),b.Mb(1),b.Dc("ngIf",e.showRowIcons&&(null==t?null:t.is_mobile)),b.Mb(1),b.Dc("ngIf",e.showRowIcons&&!(null!=t&&t.is_mobile)&&e._mobileCompatible)}}function Yt(t,e){if(1&t){const t=b.kc();b.jc(0,"dcl-wrapper",29),b.rc("onLoad",function(){return b.Uc(t),b.vc(3).triggerCD()}),b.ic()}if(2&t){const t=b.vc(2).$implicit;b.Dc("type",t.label.component)("params",t.label.params)}}function Kt(t,e){if(1&t&&(b.jc(0,"span",23),b.wc(1,"t"),b.ec(2,"i",24),b.ic()),2&t){const t=b.vc(2).$implicit,e=b.vc();b.Ec("tooltip",b.yc(1,2,"Page available both for desktop and for mobile",b.Hc(5,Wt))),b.Dc("ngClass",b.Ic(6,Bt,!t.enabled||e._selection.selectionOverride))}}function Xt(t,e){if(1&t&&(b.jc(0,"span",23),b.wc(1,"t"),b.ec(2,"i",25),b.ic()),2&t){const t=b.vc(2).$implicit,e=b.vc();b.Ec("tooltip",b.yc(1,2,"Page available for desktop only",b.Hc(5,Wt))),b.Dc("ngClass",b.Ic(6,Bt,!t.enabled||e._selection.selectionOverride))}}function Zt(t,e){if(1&t){const t=b.kc();b.hc(0),b.jc(1,"div",19),b.jc(2,"radio",26,27),b.rc("OnChange",function(e){b.Uc(t);const n=b.vc().$implicit;return b.vc().onEntrySelection(e,n)}),b.dd(4,Yt,1,2,"dcl-wrapper",28),b.ic(),b.dd(5,Kt,3,8,"span",22),b.dd(6,Xt,3,8,"span",22),b.ic(),b.gc()}if(2&t){const t=b.vc().$implicit,e=b.vc();b.Mb(1),b.Dc("ngClass",b.Ic(10,Qt,!t.enabled||e._selection.selectionOverride)),b.Mb(1),b.Dc("label","")("inputFormControl",e._selection.radioControl)("name","menu_items")("enabled",t.enabled&&!e._selection.selectionOverride)("value",t.id)("boxed","true"),b.Mb(2),b.Dc("ngIf",t.label&&(null==t.label?null:t.label.component)),b.Mb(1),b.Dc("ngIf",e.showRowIcons&&(null==t?null:t.is_mobile)),b.Mb(1),b.Dc("ngIf",e.showRowIcons&&!(null!=t&&t.is_mobile)&&e._mobileCompatible)}}function te(t,e){if(1&t&&(b.dd(0,Jt,6,16,"ng-container",18),b.dd(1,Zt,7,12,"ng-container",18)),2&t){const t=b.vc();b.Dc("ngIf",t._selection.isCheckbox),b.Mb(1),b.Dc("ngIf",t._selection.isRadio)}}function ee(t,e){if(1&t&&(b.jc(0,"div",30),b.ec(1,"blankslate",31),b.ic()),2&t){const t=b.vc();b.Mb(1),b.Dc("isVisible",!0)("title",t.noItemsBlankslate.title)("subtitle",t.noItemsBlankslate.subtitle)("type",t.noItemsBlankslate.type)}}function ne(t,e){if(1&t&&(b.jc(0,"div",30),b.ec(1,"blankslate",31),b.ic()),2&t){const t=b.vc();b.Mb(1),b.Dc("isVisible",!0)("title",t.nullSearchBlankslate.title)("subtitle",t.nullSearchBlankslate.subtitle)("type",t.nullSearchBlankslate.type)}}let ie=(()=>{class t{constructor(t,e,n){this._cdr=t,this._modelService=e,this._toggleService=n,this.checkboxFilled=!1,this.showRowIcons=!0,this.trackByFunc=Et,this._uiUpdateStream$=new ft.a,this.showBlankslate={noItems:!1,nullSearch:!1},this.nullSearchBlankslate=It,this.searchConf={},this.onSubmit$=new b.q,this._ngDestroy$=new ft.a,this._mobileCompatible=this._toggleService.isOn(X.f.TOGGLE_MOBILE_COMPATIBLE_WIDGETS),this._modelService.setUiUpdateStream(this._uiUpdateStream$)}set selectionType(t){t&&this._selection.setSelectionType(t)}set entries(t){this._modelService.setEntriesList(t)}set disableSelectionOverride(t){this._selection.overrideSelectionEnablement(t)}ngOnInit(){this.subscribeToStateChanges(this.updateState.bind(this)),this._modelService.configureSearch(this.searchConf)}ngAfterViewInit(){this._uiUpdateStream$.next()}subscribeToStateChanges(t){this._uiUpdateStream$.pipe(Object(wt.a)(this._ngDestroy$)).subscribe(t)}updateState(){this.showBlankslate=this.updateBlankslateSwitch(),this.triggerCD()}triggerCD(){this._cdr.markForCheck(),this._cdr.detectChanges()}updateBlankslateSwitch(){return{noItems:this._modelService.noEntriesToShow,nullSearch:this._modelService.noSearchResults}}onSearch(t){t?this._modelService.search(t):this._modelService.clearSearchResults()}get _selection(){return this._modelService.selection}onEntrySelection(t,e){t.checked?this._selection.addToSelections(e.id):this._selection.removeFromSelections(e.id)}onSubmit(){const t=this._modelService.getSelections();t&&(this.onSubmit$.next(t),this._selection.clearSelections())}ngOnDestroy(){this._ngDestroy$.next(),this._ngDestroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(b.dc(b.i),b.dc(Pt),b.dc(X.g))},t.\u0275cmp=b.Xb({type:t,selectors:[["buffered-select-list"]],inputs:{uiLabels:"uiLabels",selectionType:"selectionType",entries:"entries",checkboxFilled:"checkboxFilled",showRowIcons:"showRowIcons",disableSelectionOverride:"disableSelectionOverride",noItemsBlankslate:"noItemsBlankslate",searchConf:"searchConf"},outputs:{onSubmit$:"onSubmit$"},features:[b.Lb([Pt])],decls:15,vars:12,consts:[[1,"buffered-list-container","bg-white"],[1,"title-group","border-grey-light"],[1,"title","text-grey-dark","bolded",3,"innerHTML"],[1,"subtitle","text-grey-mid","hint",3,"innerHTML"],[4,"ngIf","ngIfElse"],["rowPicker",""],["noItemsBlankslateRef",""],["nullSearchBlankslateRef",""],[1,"search-container","bg-white",3,"ngClass"],[3,"label","action","searchOnKeypress"],[1,"list-container","border-grey-light"],[3,"items","bufferAmount"],["container",""],[4,"ngFor","ngForOf"],[1,"action-container","border-grey-light"],["balloon","",1,"balloon-button-wrap",3,"width","position","title","text","showOnClick","balloonGroup"],[3,"ngClass","type","text","customClasses","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[1,"list-item","border-grey-light",3,"ngClass"],[3,"label","checked","value","enabled","filled","dynamicLabelContent","onChange"],[3,"name","description","warningTooltipText","infoTooltipText","displayIcon"],["class","mobile-icon","position","top",3,"ngClass","tooltip",4,"ngIf"],["position","top",1,"mobile-icon",3,"ngClass","tooltip"],[1,"zmdi","zmdi-devices","text-grey-mid"],[1,"zmdi","zmdi-laptop","text-grey-mid"],[3,"label","inputFormControl","name","enabled","value","boxed","OnChange"],["radio",""],[3,"type","params","onLoad",4,"ngIf"],[3,"type","params","onLoad"],[1,"blankslate-container","blankslate-wrapper","border-grey-light"],[3,"isVisible","title","subtitle","type"]],template:function(t,e){if(1&t&&(b.jc(0,"div",0),b.jc(1,"div",1),b.ec(2,"div",2),b.wc(3,"sanitizeHtml"),b.wc(4,"t"),b.ec(5,"div",3),b.wc(6,"sanitizeHtml"),b.wc(7,"t"),b.ic(),b.dd(8,Gt,4,8,"ng-container",4),b.ic(),b.dd(9,te,2,2,"ng-template",null,5,b.ed),b.dd(11,ee,2,4,"ng-template",null,6,b.ed),b.dd(13,ne,2,4,"ng-template",null,7,b.ed)),2&t){const t=b.Rc(12);b.Mb(2),b.Dc("innerHTML",b.xc(3,4,b.xc(4,6,e.uiLabels.header.title)),b.Vc),b.Mb(3),b.Dc("innerHTML",b.xc(6,8,b.xc(7,10,e.uiLabels.header.subtitle)),b.Vc),b.Mb(3),b.Dc("ngIf",!e.showBlankslate.noItems)("ngIfElse",t)}},directives:[V.p,V.n,Tt.a,Dt.a,V.o,kt.a,At.a,V.u,Lt.a,mt,ut.a,jt.a,Nt.a,Rt.a],pipes:[Ft.a,d.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.buffered-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.title-group[_ngcontent-%COMP%]{flex:0;padding:15px 25px;border-width:1px 0;border-style:solid}.title[_ngcontent-%COMP%]{font-size:16px;line-height:22px}.subtitle[_ngcontent-%COMP%]{font-size:12px;line-height:17px}.search-container[_ngcontent-%COMP%]{flex:0;padding:0 10px;height:50px}.list-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;border-width:1px 0 0;border-style:solid}virtual-scroller[_ngcontent-%COMP%]{flex:1}checkbox[_ngcontent-%COMP%], label[_ngcontent-%COMP%], radio[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden;padding:5px 0;min-height:25px}.mobile-icon[_ngcontent-%COMP%]{justify-self:flex-end;width:24px;height:24px;font-size:24px;line-height:24px;text-align:center;cursor:default}.router-outlet:not(.direction-rtl):not(.heracles-root)[_nghost-%COMP%]   .mobile-icon[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .mobile-icon[_ngcontent-%COMP%]{margin-left:20px}.router-outlet.direction-rtl:not(.heracles-root)[_nghost-%COMP%]   .mobile-icon[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .mobile-icon[_ngcontent-%COMP%]{margin-right:20px}.action-container[_ngcontent-%COMP%]{flex:0;display:flex;flex-direction:row-reverse;flex-basis:auto;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:12px 7px;border-width:1px 0 0;border-style:solid}.router-outlet[_ngcontent-%COMP%]:not(.direction-rtl):not(.heracles-root)   .action-container[_ngcontent-%COMP%]{text-align:right}.router-outlet.direction-rtl[_ngcontent-%COMP%]:not(.heracles-root)   .action-container[_ngcontent-%COMP%]{text-align:left}.balloon-button-wrap[_ngcontent-%COMP%]{justify-self:flex-start}.blankslate-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;flex:1;height:100%;border-width:1px 0 0;border-style:solid;position:relative;overflow-y:auto;overflow-x:hidden}  radio label{max-width:100%;overflow-x:hidden}  .docebo-checkbox{margin:0!important}  .docebo-radio{margin-bottom:0}  .blank-slate-image img{max-width:110px}  .blank-slate-title{font-size:15px;line-height:17px}  .blank-slate-subtitle{font-size:12px}.list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;position:relative;padding:0 20px;border-width:0 0 1px;border-style:solid;height:60px;box-sizing:border-box}.list-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.disabled[_ngcontent-%COMP%]{display:block}.disabled[_ngcontent-%COMP%], .list-item-disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none}virtual-scroller[_ngcontent-%COMP%]::-webkit-scrollbar{width:9px;height:6px;background:var(--ui-color-badge-background-light)}virtual-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0;height:0;margin:0 14px}virtual-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border:0 transparent;border-radius:50px}virtual-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-corner, virtual-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-track, virtual-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-track:hover{background:transparent;border:0 transparent}virtual-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active, virtual-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--ui-color-typography-secondary)}virtual-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-track:active{background:var(--ui-color-badge-background-light)}"],changeDetection:0}),t})();const se={title:_t.a.t("admin_webpages","No pages to add to your menu"),subtitle:"",type:St.a.EMPTY002};class ae{constructor(t){this._multiplePagesEnabled=t,this.searchConf={searchOnKeypress:!0},this.noItemsBlankslate=se,this._disableSelectionOverride=!1,this._uiLabels={header:{title:_t.a.t("admin_webpages","Available Pages for Desktop"),subtitle:_t.a.t("admin_webpages",this._multiplePagesEnabled?"Add pages to your menu":"You are allowed to add only one page per menu")},searchbar:_t.a.t("standard","Search..."),action:{buttonLabel:_t.a.t("standard",this._multiplePagesEnabled?"Add pages":"Add page"),balloon:{style:"main",width:296,position:"top",title:_t.a.t("admin_webpages","Add Pages!"),text:_t.a.t("admin_webpages","Add your Pages and create your menu, you can add other elements too."),showOnClick:!0,balloonGroup:"menu-main-settings-tab2"}}},this.selectionType=this._multiplePagesEnabled?xt.CHECKBOX:xt.RADIO}get flsComponentListOfChoices(){return this._pagesAsObject}setPotentialMenuPages(t){this._pagesAsObject=t}get entriesList(){return this._pagesAsObject&&this._pagesAsObject.group1?this._pagesAsObject.group1:[]}set entriesList(t){this._pagesAsObject&&(this._pagesAsObject.group1=t)}removePagesFromPotentialList(...t){const e=C.a.cloneDeep(this._pagesAsObject),n=[];if(t.sort(),t.forEach(t=>{const i=e.group1.findIndex(e=>+e.id==+t);n.push(...e.group1.splice(i,1))}),t.length!==n.length)throw new bt.AssertionError;return this.setPotentialMenuPages(e),n}addPagesToPotentialList(...t){const e=C.a.cloneDeep(this._pagesAsObject);e.group1.push(...t),this.setPotentialMenuPages(e)}get uiLabels(){return this._uiLabels}get disableSelectionOverride(){return this._disableSelectionOverride}preventSelectionOfNewPages(){this._disableSelectionOverride=!0}allowSelectionOfNewPages(){this._disableSelectionOverride=!1}}var oe=n("2YCl");const re=["fslComponent"],ce=["dragulaContainer"];function le(t,e){1&t&&(b.jc(0,"div",14),b.ec(1,"ui-spinner"),b.ic())}function de(t,e){if(1&t&&(b.jc(0,"div",15),b.ec(1,"blankslate",16),b.ic()),2&t){const t=b.vc();b.Mb(1),b.Dc("isVisible",t.blankslateForNoAssignedPages.isVisible)("title",t.blankslateForNoAssignedPages.title)("subtitle",t.blankslateForNoAssignedPages.subtitle)("type",t.blankslateForNoAssignedPages.type)}}function ge(t,e){if(1&t&&b.ec(0,"i"),2&t){const t=b.vc().$implicit;b.Rb("",t.icon," text-grey-mid listing-selected-pages-icon")}}const ue=function(){return{category:"login"}};function he(t,e){1&t&&(b.jc(0,"span",32),b.fd(1),b.wc(2,"t"),b.ic()),2&t&&(b.Mb(1),b.hd(" (",b.yc(2,1,"_HOMEPAGE",b.Hc(4,ue)),") "))}function pe(t,e){if(1&t&&(b.jc(0,"span",33),b.ec(1,"i",34),b.ic()),2&t){const t=b.vc(),e=t.$implicit,n=t.index,i=b.vc();b.Dc("tooltip",i.getWarningText(e,n))("position","top")}}const me=function(t){return{"aware-icon":t}};function _e(t,e){if(1&t&&(b.ec(0,"i",35),b.wc(1,"t")),2&t){const t=b.vc(),e=t.$implicit,n=t.index,i=b.vc();b.Dc("tooltip",b.xc(1,3,e.infoTooltipText))("position","top")("ngClass",b.Ic(5,me,!i.showWarningText(e,n)))}}function be(t,e){if(1&t&&(b.jc(0,"span",36),b.wc(1,"t"),b.ec(2,"i",37),b.ic()),2&t){const t=b.vc(2);b.Ec("tooltip",b.xc(1,1,t.mobileIconTooltip))}}function fe(t,e){if(1&t&&(b.jc(0,"span",36),b.wc(1,"t"),b.ec(2,"i",38),b.ic()),2&t){const t=b.vc(2);b.Ec("tooltip",b.xc(1,1,t.desktopIconTooltip))}}function we(t,e){if(1&t&&(b.jc(0,"div",17),b.ec(1,"div",18),b.jc(2,"div",19),b.ec(3,"i",20),b.ec(4,"i",20),b.ic(),b.jc(5,"span",21),b.dd(6,ge,1,3,"i",22),b.jc(7,"span",23),b.jc(8,"span",24),b.fd(9),b.wc(10,"localizable"),b.dd(11,he,3,5,"span",25),b.dd(12,pe,2,2,"span",26),b.dd(13,_e,2,7,"i",27),b.ic(),b.jc(14,"span",28),b.fd(15),b.wc(16,"localizable"),b.ic(),b.ic(),b.ic(),b.dd(17,be,3,3,"span",29),b.dd(18,fe,3,3,"span",29),b.jc(19,"div",30),b.ec(20,"btn-ellipsis",31),b.ic(),b.ic()),2&t){const t=e.$implicit,n=e.index,i=b.vc();b.Ec("name",null==t?null:t.position),b.Mb(6),b.Dc("ngIf",null==t?null:t.icon),b.Mb(3),b.hd(" ",b.xc(10,12,null==t?null:t.names)," "),b.Mb(2),b.Dc("ngIf",i.isHomePage(i.assignedPagesToMenuArray,n)),b.Mb(1),b.Dc("ngIf",i.showWarningText(t,n)),b.Mb(1),b.Dc("ngIf",t.infoTooltipText),b.Mb(2),b.gd(b.xc(16,14,null==t?null:t.descriptions)),b.Mb(2),b.Dc("ngIf",null==t?null:t.is_mobile),b.Mb(1),b.Dc("ngIf",!(null!=t&&t.is_mobile)&&i.toggleMobileOn),b.Mb(2),b.Dc("id",t.id+"_menu-item-number"+n)("params",t)("actions",i.ellipsisMainMenuAction)}}const Ce=function(){return{category:"admin_webpages"}},Oe=function(t){return{hidden:t}};let ve=(()=>{class t{constructor(t,e,n,i,s,a){this._storeMenus=t,this._actionMenus=e,this.dragulaService=n,this.translate=i,this.changeDetectRef=s,this.toggleService=a,this.assignedPagesToMenuArray=[],this.showTheListComponent=!1,this.blankslateForNoAssignedPages={isVisible:!0,title:d.a.t("admin_webpages","You haven't added any pages to your menu yet."),subtitle:"",type:"empty002"},this.mobileIconTooltip=this.toggleService.isOn(p.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?d.a.t("admin_webpages","Page available both for desktop and for mobile"):d.a.t("admin_webpages","Page also available for the Mobile App"),this.desktopIconTooltip=d.a.t("admin_webpages","Page available for desktop only"),this.toggleMobileOn=!1,this.sessionLanguage=u.a.getInstance().language,this.platformLanguage=lt.b.getInstance().default_language,this.menuStates=_,this.multiplePagesEnabled=this.toggleService.isOn(p.a.TOGGLE_ADMIN_PAGES_MULTIPLE_PAGES_PER_MENU),this.toggleMobileOn=this.toggleService.isOn(p.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS),this.multiplePagesEnabled||(this.blankslateForNoAssignedPages.title=d.a.t("admin_webpages","You are allowed to add only one page per menu")),this.initializeTemplateUIComponents()}set flsComponentListOfChoices(t){this.bufferedSelectListDelegate.setPotentialMenuPages(t)}get flsComponentListOfChoices(){return this.bufferedSelectListDelegate.flsComponentListOfChoices}initializeTemplateUIComponents(){this.bufferedSelectListDelegate=new ae(this.multiplePagesEnabled),this.ellipsisMainMenuAction=[{title:d.a.t("skill","Remove"),customCss:"text-positive-green bolded",action:t=>{this.removePageFromList(t)}}]}ngOnInit(){this.dragulaService.createGroup("wrapper-bag-pages",{revertOnSpill:!0,moves:function(t,e,n){return n.classList.contains("handle")},mirrorContainer:this.dragulaContainer.nativeElement}),this.dragulaService.over("wrapper-bag-pages").subscribe(t=>{this.onOver(t)}),this.dragulaService.out("wrapper-bag-pages").subscribe(t=>{this.onOut(t)});const t=this._storeMenus.select(this.menuSlice).subscribe(e=>{e&&(this.menuSettingsState=e.available_pages.state,e.available_pages.state===_.NOT_INITIALIZED&&this._storeMenus.dispatch(this._actionMenus.initializeAvailablePages({})),e.available_pages.state===_.INITIALIZED&&(t&&t.unsubscribe(),this.distributePagesBetweenContainers(e.available_pages.list)))})}generateLabel(t,e){const n=(new dt.a).transform(t.names),i=(new dt.a).transform(t.descriptions),s=this.chooseIcon(t),a=this.showWarningText(t,e)?this.getWarningText(t,e):"",o=this.getInfoTooltipText(t.uuid);return{component:mt,params:{name:n,description:i,displayIcon:s,warningTooltipText:a,infoTooltipText:o}}}sortPage(t,e,n){if(0===t.length)this.bufferedSelectListDelegate.addPagesToPotentialList(n);else{const i=t.find(t=>+t.id_item==+e);i?(n.position=+i.position,this.assignedPagesToMenuArray.push(n)):(this.multiplePagesEnabled||(n.enabled=!1),this.bufferedSelectListDelegate.addPagesToPotentialList(n))}}distributePagesBetweenContainers(t){if(this.flsComponentListOfChoices={group1:[]},this.useTheMainFormControlIfDataIsSet())return;const e=this.menuSettingsFormControl.controls.selected_pages.value;t.filter(t=>"login_page"!==t.code).forEach((t,n)=>{const i=this.generateLabel(t,n),s={id:parseInt(t.id,10),icon:i.params.displayIcon,enabled:!0,label:i,infoTooltipText:i.params.infoTooltipText,checked:!1,names:t.names,is_mobile:this.toggleService.isOn(p.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)&&t.is_mobile,type:t.type,published:t.published,descriptions:t.descriptions};this.sortPage(e,t.id,s)}),this.setUpTheTemporaryControlForTheDesktopMenuPage(!1),this.sortPagesSequence("assignedPagesToMenuArray","position"),this.sortPagesSequence("flsComponentListOfChoices","id","group1"),this.showTheListComponent=!0}getInfoTooltipText(t){let e="";return"my_areas_of_improvement"===t&&(e=d.a.t("standard","This page will be visible only to the users assigned to the channel dedicated to their areas of interest")),e}useTheMainFormControlIfDataIsSet(){return!!this.menuSettingsFormControl.controls.desktop_main_menu.value.hasOwnProperty("flsComponentListOfChoices")&&(this.flsComponentListOfChoices=this.menuSettingsFormControl.controls.desktop_main_menu.value.flsComponentListOfChoices,this.menuSettingsFormControl.controls.desktop_main_menu.value.hasOwnProperty("assignedPagesToMenuArray")&&(this.assignedPagesToMenuArray=this.menuSettingsFormControl.controls.desktop_main_menu.value.assignedPagesToMenuArray,!this.multiplePagesEnabled&&this.assignedPagesToMenuArray.length&&(this.bufferedSelectListDelegate.entriesList=this.bufferedSelectListDelegate.entriesList.map(t=>(t.enabled=!1,t)))),this.showTheListComponent=!0,!0)}chooseIcon(t){if(null!=t.icon&&""!==t.icon)return t.icon;if(!t.hasOwnProperty("type"))return"zmdi zmdi-view-dashboard";switch(t.type){case"external":return"zmdi zmdi-link";case"widget":return"zmdi zmdi-view-dashboard"}}isHomePage(t,e){if(!t||t.length<=0)return!1;const n=t.length;let i=null;for(let s=0;s<n;s++)if(void 0===t[s].type||t[s].type===gt.b.WIDGET){i=s;break}return e===i}showWarningText(t,e){return 0===e&&t.type===gt.b.EXTERNAL||!t.published}getWarningText(t,e){const n=new d.b(this.translate,this.changeDetectRef).transform(d.a.t("admin_webpages","External Link Pages cannot be used as Home Pages. The Home Page is therefore set to the first Built-in Page or Widget Page in the list")),i=new d.b(this.translate,this.changeDetectRef).transform(d.a.t("admin_webpages","This page is currently unpublished. You can add it as a menu item, but it will be only be shown to users when published."));let s="";return t.type===gt.b.EXTERNAL&&0===e&&(s=n),t.published||(""!==s&&(s+="<br><br>"),s+=i),s}addNewPagesToMenu(t){let e;e=Array.isArray(t)?this.bufferedSelectListDelegate.removePagesFromPotentialList(...t):this.bufferedSelectListDelegate.removePagesFromPotentialList(t),this.assignedPagesToMenuArray=[...this.assignedPagesToMenuArray,...e],this.setUpTheTemporaryControlForTheDesktopMenuPage(),this.setUpMenuPositioning()}removePageFromList(t){t.checked=!1;for(let e=this.assignedPagesToMenuArray.length-1;e>=0;e--)if(this.assignedPagesToMenuArray[e].id===t.id){this.assignedPagesToMenuArray.splice(e,1);break}if(this.bufferedSelectListDelegate.addPagesToPotentialList(t),!this.multiplePagesEnabled){const t=this.assignedPagesToMenuArray.length;this.bufferedSelectListDelegate.entriesList=this.bufferedSelectListDelegate.entriesList.map(e=>(e.enabled=!(t>0),e))}this.setUpMenuPositioning(),this.sortPagesSequence("flsComponentListOfChoices","id","group1"),this.setUpTheTemporaryControlForTheDesktopMenuPage()}sortPagesSequence(t,e,n=null){null===n?this[t].sort(function(t,n){return t[e]-n[e]}):this[t][n].sort(function(t,n){return t[e]-n[e]})}setUpMenuPositioning(){const t=[];for(let e=0;e<this.assignedPagesToMenuArray.length;e++)this.assignedPagesToMenuArray[e].position=e,t.push({id_item:this.assignedPagesToMenuArray[e].id,position:e,names:this.assignedPagesToMenuArray[e].names,is_mobile:this.assignedPagesToMenuArray[e].is_mobile});this.menuSettingsFormControl.controls.selected_pages.setValue(t),this.menuSettingsFormControl.controls.selected_pages.markAsDirty(),this.menuSettingsFormControl.controls.selected_pages.markAsTouched(),this.menuSettingsFormControl.controls.selected_pages.updateValueAndValidity(),this.setUpTheTemporaryControlForTheDesktopMenuPage(!0)}setUpTheTemporaryControlForTheDesktopMenuPage(t=!0){const e={flsComponentListOfChoices:this.flsComponentListOfChoices,assignedPagesToMenuArray:this.assignedPagesToMenuArray};!this.multiplePagesEnabled&&this.assignedPagesToMenuArray.length>0?this.bufferedSelectListDelegate.preventSelectionOfNewPages():this.bufferedSelectListDelegate.allowSelectionOfNewPages(),this.menuSettingsFormControl.controls.desktop_main_menu.setValue(e),t&&(this.menuSettingsFormControl.controls.desktop_main_menu.markAsDirty(),this.menuSettingsFormControl.controls.desktop_main_menu.markAsTouched(),this.menuSettingsFormControl.controls.desktop_main_menu.updateValueAndValidity())}ngOnDestroy(){this.dragulaService&&null!=this.dragulaService.find("wrapper-bag-pages")&&this.dragulaService.destroy("wrapper-bag-pages"),this._storeMenus.dispatch(this._actionMenus.menuResetState({available_pages:{list:[],state:_.NOT_INITIALIZED}}))}onOver(t){this.addClass(t.el,"ex-over")}onOut(t){this.removeClass(t.el,"ex-over")}hasClass(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)}addClass(t,e){this.hasClass(t,e)||(t.className=t.className?[t.className,e].join(" "):e)}removeClass(t,e){this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)","g"),""))}}return t.\u0275fac=function(e){return new(e||t)(b.dc(r.d),b.dc(f),b.dc(c.c),b.dc(N.a),b.dc(b.i),b.dc(R.a))},t.\u0275cmp=b.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(b.md(re,1),b.md(ce,3)),2&t){let t;b.Qc(t=b.sc())&&(e.fslComponent=t.first),b.Qc(t=b.sc())&&(e.dragulaContainer=t.first)}},inputs:{menuSettingsFormControl:"menuSettingsFormControl",menuSlice:"menuSlice"},decls:18,vars:24,consts:[[1,"mdl-wrapper","menu-settings-desktop-main__wrapper"],[1,"mdl-grid"],[1,"mdl-cell","mdl-cell--4-col","pages-listing-component__wrapper","bg-white","desktop-main-shadow"],["class","loader__wrapper",4,"ngIf"],[3,"uiLabels","noItemsBlankslate","selectionType","entries","disableSelectionOverride","searchConf","onSubmit$"],[1,"mdl-cell","mdl-cell--8-col","assigned-pages-to-menu__content"],[1,"items-wrapper"],[1,"header-wrapper","border-grey-light","bg-white"],[1,"list-title","text-grey-dark","bolded"],[1,"list-desc","text-grey-mid","hint"],["class","no-assigned-menus border-grey-light bg-white desktop-main-shadow",4,"ngIf"],[1,"wrapper-bag-container","assigned-menus","border-grey-light","bg-white","desktop-main-shadow",3,"ngClass","dragula","dragulaModel","dragulaModelChange"],["dragulaContainer",""],["class","single-menu-row-item bg-white bg-hover-grey-superlight border-grey-light",3,"name",4,"ngFor","ngForOf"],[1,"loader__wrapper"],[1,"no-assigned-menus","border-grey-light","bg-white","desktop-main-shadow"],[3,"isVisible","title","subtitle","type"],[1,"single-menu-row-item","bg-white","bg-hover-grey-superlight","border-grey-light",3,"name"],[1,"handle"],[1,"icon-dot","text-grey-mid"],[1,"zmdi","zmdi-more-vert"],[1,"menu-name"],[3,"class",4,"ngIf"],[1,"name-of-menu"],[1,"heading"],["class","home-menu-item",4,"ngIf"],["class","external-warning",3,"tooltip","position",4,"ngIf"],["class","zmdi zmdi-info text-mid-icons text-grey-mid",3,"tooltip","position","ngClass",4,"ngIf"],[1,"menu-description","text-grey-mid"],["class","mobile-icon",3,"tooltip",4,"ngIf"],[1,"ellipsis-actions__container"],[3,"id","params","actions"],[1,"home-menu-item"],[1,"external-warning",3,"tooltip","position"],[1,"zmdi","zmdi-alert-triangle","text-warning"],[1,"zmdi","zmdi-info","text-mid-icons","text-grey-mid",3,"tooltip","position","ngClass"],[1,"mobile-icon",3,"tooltip"],[1,"zmdi","zmdi-devices","text-grey-mid"],[1,"zmdi","zmdi-laptop","text-grey-mid"]],template:function(t,e){1&t&&(b.jc(0,"div",0),b.jc(1,"div",1),b.jc(2,"div",2),b.dd(3,le,2,0,"div",3),b.jc(4,"buffered-select-list",4),b.rc("onSubmit$",function(t){return e.addNewPagesToMenu(t)}),b.ic(),b.ic(),b.jc(5,"div",5),b.jc(6,"div",6),b.jc(7,"div",7),b.jc(8,"h3",8),b.fd(9),b.wc(10,"t"),b.ic(),b.jc(11,"div",9),b.fd(12),b.wc(13,"t"),b.ic(),b.ic(),b.dd(14,de,2,4,"div",10),b.jc(15,"div",11,12),b.rc("dragulaModelChange",function(t){return e.assignedPagesToMenuArray=t})("dragulaModelChange",function(){return e.setUpMenuPositioning()}),b.dd(17,we,21,16,"div",13),b.ic(),b.ic(),b.ic(),b.ic(),b.ic()),2&t&&(b.Mb(3),b.Dc("ngIf",!e.showTheListComponent),b.Mb(1),b.Dc("uiLabels",e.bufferedSelectListDelegate.uiLabels)("noItemsBlankslate",e.bufferedSelectListDelegate.noItemsBlankslate)("selectionType",e.bufferedSelectListDelegate.selectionType)("entries",e.bufferedSelectListDelegate.entriesList)("disableSelectionOverride",e.bufferedSelectListDelegate.disableSelectionOverride)("searchConf",e.bufferedSelectListDelegate.searchConf),b.Mb(5),b.gd(b.yc(10,14,"Menu Items",b.Hc(20,Ce))),b.Mb(3),b.gd(b.yc(13,17,"Pages added to your menu",b.Hc(21,Ce))),b.Mb(2),b.Dc("ngIf",0===(null==e.assignedPagesToMenuArray?null:e.assignedPagesToMenuArray.length)&&e.menuSettingsState!==e.menuStates.INITIALIZING),b.Mb(1),b.Dc("ngClass",b.Ic(22,Oe,!e.assignedPagesToMenuArray.length))("dragula","wrapper-bag-pages")("dragulaModel",e.assignedPagesToMenuArray),b.Mb(2),b.Dc("ngForOf",e.assignedPagesToMenuArray))},directives:[V.p,ie,V.n,c.a,V.o,a.bd,Rt.a,oe.a,ut.a],pipes:[d.b,dt.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.menu-settings-desktop-main__wrapper[_ngcontent-%COMP%]{margin-top:15px}.assigned-menus[_ngcontent-%COMP%]{width:100%;border-width:1px 0 0;border-style:solid}.loader__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:550px}.pages-listing-component__wrapper[_ngcontent-%COMP%]{height:550px;max-height:550px;overflow:hidden;box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.assigned-pages-to-menu__content[_ngcontent-%COMP%]{min-height:242px;margin-bottom:15px;text-align:center;position:relative;display:flex;align-items:flex-start;justify-content:center}.assigned-menus[_ngcontent-%COMP%]{text-align:left}.assigned-menus.ex-over[_ngcontent-%COMP%]{border-color:var(--ui-color-badge-background-light);color:inherit}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]{padding:0 25px;height:59px;align-items:center;display:flex;border-width:0 0 1px;border-style:solid;position:relative}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]:last-child{border-width:0}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]{height:23px;display:flex;align-items:center;max-width:90%}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]   .listing-selected-pages-icon[_ngcontent-%COMP%]{width:17px;font-size:22px}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]   .zmdi[_ngcontent-%COMP%]{margin-right:10px}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]   .home-menu-item[_ngcontent-%COMP%]{margin-left:10px}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]   .name-of-menu[_ngcontent-%COMP%]{max-width:100%}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;align-items:center}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-description[_ngcontent-%COMP%]{font-size:12px;text-overflow:ellipsis;display:block;max-width:100%;white-space:nowrap;overflow:hidden}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .icon-dot[_ngcontent-%COMP%]{position:absolute;display:none;height:25px;width:24px;text-align:center;font-size:22px;letter-spacing:3px;z-index:0;top:0;bottom:0;margin:auto;left:0}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]:hover   .icon-dot[_ngcontent-%COMP%]{display:inline-block}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{display:inline-block;cursor:all-scroll;height:100%;line-height:3.3em;width:24px;text-align:center;font-size:20px;letter-spacing:-1px;position:absolute;z-index:1;top:0;bottom:0;margin:auto;left:0}.assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%]{font-size:18px;display:inline-block;margin-top:2px}.router-outlet:not(.direction-rtl):not(.heracles-root)[_nghost-%COMP%]   .assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%]{margin-left:5px}.router-outlet.direction-rtl:not(.heracles-root)[_nghost-%COMP%]   .assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%]{margin-right:5px}.no-assigned-menus[_ngcontent-%COMP%]{text-align:center;width:100%;border-width:1px 0 0;border-style:solid}[_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .fsl-component-page-name__content{font-size:.88rem;font-size:var(--hyd-typography-size-sm);display:flex;align-items:center;line-height:18px;font-weight:400}[_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name{overflow-y:hidden;width:100%}[_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name:before{background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff);background:-webkit-linear-gradient(left,hsla(0,0%,100%,0),#fff)}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name:before{transform:rotate(0deg)}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name:before{transform:rotate(180deg)}[_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name .name-wrapping{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}[_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name .name-description{font-size:12px;max-width:100%}[_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .no-assigned-menus .blankslate .header.header-buttons{height:auto}[_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .no-assigned-menus .blankslate .header{padding:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .single-menu-row-item .ellipsis-actions__container{margin-right:-12px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .single-menu-row-item .ellipsis-actions__container{margin-left:-12px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .single-menu-row-item .aware-icon{margin-left:8px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .menu-settings-desktop-main__wrapper .single-menu-row-item .aware-icon{margin-right:8px}[_nghost-%COMP%]     .single-menu-row-item .ellipsis-actions__container{flex-grow:2;text-align:right}[_nghost-%COMP%]     .single-menu-row-item .ellipsis-actions__container btn-ellipsis .btn-ellipsis>div:not(.is-visible)+button{visibility:hidden;opacity:0}[_nghost-%COMP%]     .single-menu-row-item:hover .ellipsis-actions__container btn-ellipsis .btn-ellipsis>div+button, [_nghost-%COMP%]     .single-menu-row-item:hover .ellipsis-actions__container btn-ellipsis .btn-ellipsis>div.is-visible+button, [_nghost-%COMP%]     .single-menu-row-item:hover .ellipsis-actions__container btn-ellipsis .btn-ellipsis>div:not(.is-visible)+button{visibility:visible;opacity:1}[_nghost-%COMP%]     blankslate.is-visible{padding:55px 25px}.list-title[_ngcontent-%COMP%]{font-size:16px;line-height:22px}.list-desc[_ngcontent-%COMP%]{font-size:12px;line-height:17px}.header-wrapper[_ngcontent-%COMP%]{padding:15px 25px;border-width:1px 1px 0;border-style:solid}.router-outlet:not(.direction-rtl):not(.heracles-root)[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{text-align:left}.router-outlet.direction-rtl:not(.heracles-root)[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{text-align:right}.items-wrapper[_ngcontent-%COMP%]{width:100%;box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.mobile-icon[_ngcontent-%COMP%]{position:absolute;z-index:1;width:24px;height:24px;font-size:24px;line-height:24px;text-align:center;cursor:default}.router-outlet:not(.direction-rtl):not(.heracles-root)[_nghost-%COMP%]   .mobile-icon[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .mobile-icon[_ngcontent-%COMP%]{right:50px}.router-outlet.direction-rtl:not(.heracles-root)[_nghost-%COMP%]   .mobile-icon[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .mobile-icon[_ngcontent-%COMP%]{left:50px}"]}),t})();class Me{constructor(){this.noItemsBlankslate=se,this._pagesAsObject={group2:[]},this.searchConf={searchOnKeypress:!0},this.selectionType=xt.CHECKBOX,this.showRowIcons=!1,this.uiLabels={header:{title:_t.a.t("admin_webpages","Available Pages for Mobile"),subtitle:_t.a.t("admin_webpages","Add pages to your menu")},searchbar:_t.a.t("standard","Search..."),action:{buttonLabel:_t.a.t("standard","Add pages"),customClasses:"bolded",balloon:{style:"main",width:296,position:"top",title:_t.a.t("admin_webpages","Add Pages!"),text:_t.a.t("admin_webpages","Add your Pages and create your menu, you can add other elements too."),showOnClick:!0,balloonGroup:"menu-main-settings-tab2"}}}}get entriesList(){return this._pagesAsObject&&this._pagesAsObject.group2?this._pagesAsObject.group2:[]}get pagesAsObject(){return this._pagesAsObject}set pagesAsObject(t){console.log("NEW OUTER REP",t),this._pagesAsObject=t}removePagesFromPotentialList(...t){const e=C.a.cloneDeep(this._pagesAsObject),n=[];if(t.sort(),t.forEach(t=>{const i=e.group2.findIndex(e=>+e.id==+t);n.push(...e.group2.splice(i,1))}),t.length!==n.length)throw new bt.AssertionError;return this._pagesAsObject=e,n}addPagesToPotentialList(...t){const e=C.a.cloneDeep(this._pagesAsObject);e.group2.push(...t),this._pagesAsObject=e}}var ye=n("2wEv");const Pe=["fslComponent"],Se=["dragulaContainer"];function Ie(t,e){1&t&&(b.jc(0,"div",21),b.ec(1,"ui-spinner"),b.ic())}function xe(t,e){if(1&t&&(b.jc(0,"div",22),b.ec(1,"blankslate",23),b.ic()),2&t){const t=b.vc();b.Mb(1),b.Dc("isVisible",t.blankslateForNoAssignedPages.isVisible)("title",t.blankslateForNoAssignedPages.title)("subtitle",t.blankslateForNoAssignedPages.subtitle)("type",t.blankslateForNoAssignedPages.type)}}function Ee(t,e){if(1&t&&b.ec(0,"i"),2&t){const t=b.vc().$implicit;b.Rb("",t.icon," text-grey-mid listing-selected-pages-icon")}}const Te=function(){return{category:"login"}};function De(t,e){1&t&&(b.jc(0,"span",36),b.fd(1),b.wc(2,"t"),b.ic()),2&t&&(b.Mb(1),b.hd(" (",b.yc(2,1,"_HOMEPAGE",b.Hc(4,Te)),") "))}function ke(t,e){if(1&t&&(b.jc(0,"span",37),b.ec(1,"i",38),b.ic()),2&t){const t=b.vc(),e=t.$implicit,n=t.index,i=b.vc();b.Dc("tooltip",i.getWarningText(e,n))("position","top")}}function Ae(t,e){if(1&t&&(b.jc(0,"div",24),b.ec(1,"div",25),b.jc(2,"div",26),b.ec(3,"i",27),b.ec(4,"i",27),b.ic(),b.jc(5,"span",28),b.dd(6,Ee,1,3,"i",29),b.jc(7,"span",30),b.jc(8,"span"),b.fd(9),b.wc(10,"localizable"),b.dd(11,De,3,5,"span",31),b.dd(12,ke,2,2,"span",32),b.ic(),b.jc(13,"span",33),b.fd(14),b.wc(15,"localizable"),b.ic(),b.ic(),b.ic(),b.jc(16,"div",34),b.ec(17,"btn-ellipsis",35),b.ic(),b.ic()),2&t){const t=e.$implicit,n=e.index,i=b.vc();b.Ec("name",null==t?null:t.position),b.Mb(6),b.Dc("ngIf",null==t?null:t.icon),b.Mb(3),b.hd(" ",b.xc(10,9,null==t?null:t.names)," "),b.Mb(2),b.Dc("ngIf",i.isHomePage(i.assignedPagesToMenuArray,n)),b.Mb(1),b.Dc("ngIf",i.showWarningText(t,n)),b.Mb(2),b.gd(b.xc(15,11,null==t?null:t.descriptions)),b.Mb(3),b.Dc("id",t.id+"_menu-item-number"+n)("params",t)("actions",i.ellipsisMainMenuAction)}}const Le=function(t){return{"menu-disabled":t}},je=function(){return{category:"admin_webpages"}},Ne=function(t){return{hidden:t}};let Re=(()=>{class t{constructor(t,e,n,i,s,a){this._storeMenus=t,this._actionMenus=e,this.dragulaService=n,this.translate=i,this.changeDetectRef=s,this.pageService=a,this.flsComponentParams={list_title:d.a.t("admin_webpages","Available Pages for Mobile"),list_desc:d.a.t("admin_webpages","Add pages to your menu"),action_btn_properties:{text:d.a.t("standard","Add pages"),type:"submit",customClasses:"bolded",balloon:{style:"main",width:296,position:"top",title:d.a.t("admin_webpages","Add Pages!"),text:d.a.t("admin_webpages","Add your Pages and create your menu, you can add other elements too."),showOnClick:!0,balloonGroup:"menu-main-settings-tab2"}},search_params:{label:d.a.t("standard","Search..."),searchOnKeypress:!0},group_titles:[{key:"group1",value:d.a.t("admin_webpages","available on desktop")},{key:"group2",value:d.a.t("admin_webpages","not available on desktop")}],enabled_groups:{group1:!0,group2:!0},selectionType:Ot.CHECKBOX},this.assignedPagesToMenuArray=[],this.showTheListComponent=!1,this.ellipsisMainMenuAction=[{title:d.a.t("skill","Remove"),customCss:"text-positive-green bolded",action:t=>{this.removePageFromList(t)}}],this.blankslateForNoAssignedPages={isVisible:!0,title:d.a.t("admin_webpages","You haven't added any pages to your menu yet."),subtitle:"",type:"empty002"},this.menuStates=_}get flsComponentListOfChoices(){return this.bufferedSelectListDelegate.pagesAsObject}set flsComponentListOfChoices(t){this.bufferedSelectListDelegate.pagesAsObject=t}ngOnInit(){this.bufferedSelectListDelegate=new Me,this.dragulaService.createGroup("wrapper-bag-pages",{revertOnSpill:!0,moves:function(t,e,n){return n.classList.contains("handle")},mirrorContainer:this.dragulaContainer.nativeElement}),this.dragulaService.over("wrapper-bag-pages").subscribe(t=>{this.onOver(t)}),this.dragulaService.out("wrapper-bag-pages").subscribe(t=>{this.onOut(t)}),this.multiplePagesEnabled=this.menuSettingsFormControl.controls.custom_mobile_menu.value;const t=this._storeMenus.select(this.menuSlice).subscribe(e=>{e&&(this.menuSettingsState=e.available_pages.state,e.available_pages.state===_.NOT_INITIALIZED&&this._storeMenus.dispatch(this._actionMenus.initializeAvailablePages({mobile_pages:!0})),e.available_pages.state===_.INITIALIZED&&(t&&t.unsubscribe(),this.availablePages=e.available_pages.list,this.distributePagesBetweenContainers(e.available_pages.list,!this.multiplePagesEnabled)))});this.enableMenuSwitch={label:d.a.t("standard","Enable"),formControl:this.menuSettingsFormControl.controls.custom_mobile_menu,onChange:t=>{this.multiplePagesEnabled=t,t&&this.distributePagesBetweenContainers(this.availablePages,!t),t||this.pageService.dialog.open({width:450,height:200,title:d.a.t("admin_webpages","Overwrite Mobile App Main Menu"),content:d.a.t("admin_webpages","You are about to overwrite the pages in the current menu with the ones imported from the Desktop Main Menu. The menu configuration will be lost. Are you sure you want to proceed?\u2019"),overlayClick:!1,actions:[{type:"cancel",properties:{text:d.a.t("standard","Cancel")},handler:t=>{t.close(),this.multiplePagesEnabled=!0,this.menuSettingsFormControl.controls.custom_mobile_menu.setValue(!0)}},{type:"normal",properties:{text:d.a.t("standard","Overwrite")},handler:e=>{e.close(),this.distributePagesBetweenContainers(this.availablePages,!t)}}]})}}}ngOnDestroy(){this.dragulaService&&null!=this.dragulaService.find("wrapper-bag-pages")&&this.dragulaService.destroy("wrapper-bag-pages"),this._storeMenus.dispatch(this._actionMenus.menuResetState({available_pages:{list:[],state:_.NOT_INITIALIZED}}))}isHomePage(t,e){if(!t||t.length<=0)return!1;const n=t.length;let i=null;for(let s=0;s<n;s++)if(void 0===t[s].type||t[s].type===gt.b.WIDGET){i=s;break}return e===i}showWarningText(t,e){return 0===e&&t.type===gt.b.EXTERNAL||!t.published}getWarningText(t,e){const n=new d.b(this.translate,this.changeDetectRef).transform(d.a.t("admin_webpages","External Link Pages cannot be used as Home Pages. The Home Page is therefore set to the first Built-in Page or Widget Page in the list")),i=new d.b(this.translate,this.changeDetectRef).transform(d.a.t("admin_webpages","This page is currently unpublished. You can add it as a menu item, but it will be only be shown to users when published."));let s="";return t.type===gt.b.EXTERNAL&&0===e&&(s=n),t.published||(""!==s&&(s+="<br><br>"),s+=i),s}addNewPagesToMenu(t){let e;e=Array.isArray(t)?this.bufferedSelectListDelegate.removePagesFromPotentialList(...t):this.bufferedSelectListDelegate.removePagesFromPotentialList(t),this.assignedPagesToMenuArray=[...this.assignedPagesToMenuArray,...e],this.setUpTheTemporaryControlForTheMobileMenuPage(),this.setUpMenuPositioning(),this.changeDetectRef.detectChanges()}setUpMenuPositioning(){const t=[];for(let e=0;e<this.assignedPagesToMenuArray.length;e++)this.assignedPagesToMenuArray[e].position=e,t.push({id_item:this.assignedPagesToMenuArray[e].id,position:e,names:this.assignedPagesToMenuArray[e].names});this.menuSettingsFormControl.controls.selected_pages_mobile.setValue(t),this.menuSettingsFormControl.controls.selected_pages_mobile.markAsDirty(),this.menuSettingsFormControl.controls.selected_pages_mobile.markAsTouched(),this.menuSettingsFormControl.controls.selected_pages_mobile.updateValueAndValidity()}setUpTheTemporaryControlForTheMobileMenuPage(t=!0){this.menuSettingsFormControl.controls.mobile_main_menu&&(this.menuSettingsFormControl.controls.mobile_main_menu.setValue({flsComponentListOfChoices:this.flsComponentListOfChoices,assignedPagesToMenuArray:this.assignedPagesToMenuArray}),t&&(this.menuSettingsFormControl.controls.mobile_main_menu.markAsDirty(),this.menuSettingsFormControl.controls.mobile_main_menu.markAsTouched(),this.menuSettingsFormControl.controls.mobile_main_menu.updateValueAndValidity()))}removePageFromList(t){t.checked=!1;for(let e=this.assignedPagesToMenuArray.length-1;e>=0;e--)if(this.assignedPagesToMenuArray[e].id===t.id){this.assignedPagesToMenuArray.splice(e,1);break}this.bufferedSelectListDelegate.addPagesToPotentialList(t),this.setUpMenuPositioning(),this.sortPagesSequence("flsComponentListOfChoices","id","group2"),this.setUpTheTemporaryControlForTheMobileMenuPage()}sortPagesSequence(t,e,n=null){null===n?this[t].sort(function(t,n){return t[e]-n[e]}):this[t][n].sort(function(t,n){return t[e]-n[e]})}distributePagesBetweenContainers(t,e){const n=t.filter(t=>t.is_mobile);this.assignedPagesToMenuArray=[],this.flsComponentListOfChoices.group2=[];const i=e?this.menuSettingsFormControl.controls.selected_pages.value:this.menuSettingsFormControl.controls.selected_pages_mobile.value;for(let s=0;s<n.length;s++){const t=n[s];if("login_page"===t.code)continue;const e=this.createTemporaryPageObject(t,s);if(0===i.length)this.bufferedSelectListDelegate.addPagesToPotentialList(e),this.assignedPagesToMenuArray=[];else for(let n=0;n<i.length;n++){if(+i[n].id_item==+t.id){e.position=+i[n].position,this.assignedPagesToMenuArray.push(e);break}n===i.length-1&&this.bufferedSelectListDelegate.addPagesToPotentialList(e)}}this.removePagesFromSelectedItems(),this.setUpTheTemporaryControlForTheMobileMenuPage(!1),this.sortPagesSequence("assignedPagesToMenuArray","position"),this.sortPagesSequence("flsComponentListOfChoices","id","group2"),this.showTheListComponent=!0}createTemporaryPageObject(t,e){const n=new dt.a,i=n.transform(t.names),s=n.transform(t.descriptions),a=this.chooseIcon(t),o=this.showWarningText(t,e)?this.getWarningText(t,e):"";return{id:t.id,icon:a,enabled:!0,label:{component:mt,params:{name:i,description:s,displayIcon:a,warningTooltipText:o}},checked:!1,names:t.names,type:t.type,published:t.published,descriptions:t.descriptions}}useTheMainFormControlIfDataIsSet(){return!!this.menuSettingsFormControl.controls.mobile_main_menu.value.hasOwnProperty("flsComponentListOfChoices")&&(this.flsComponentListOfChoices=this.menuSettingsFormControl.controls.mobile_main_menu.value.flsComponentListOfChoices,this.menuSettingsFormControl.controls.mobile_main_menu.value.hasOwnProperty("assignedPagesToMenuArray")&&(this.assignedPagesToMenuArray=this.menuSettingsFormControl.controls.mobile_main_menu.value.assignedPagesToMenuArray),this.showTheListComponent=!0,!0)}chooseIcon(t){if(null!=t.icon&&""!==t.icon)return t.icon;if(!t.hasOwnProperty("type"))return"zmdi zmdi-view-dashboard";switch(t.type){case"external":return"zmdi zmdi-link";case"widget":return"zmdi zmdi-view-dashboard"}}onOver(t){this.addClass(t.el,"ex-over")}onOut(t){this.removeClass(t.el,"ex-over")}hasClass(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)}addClass(t,e){this.hasClass(t,e)||(t.className=t.className?[t.className,e].join(" "):e)}removeClass(t,e){this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)","g"),""))}removePagesFromSelectedItems(){this.assignedPagesToMenuArray=this.assignedPagesToMenuArray.reduce((t,e)=>(t.some(t=>t.id===e.id)||t.push(e),t),[]),this.flsComponentListOfChoices.group2=this.flsComponentListOfChoices.group2.reduce((t,e)=>(t.some(t=>t.id===e.id)||t.push(e),t),[]),this.multiplePagesEnabled&&(this.assignedPagesToMenuArray=this.assignedPagesToMenuArray.filter(t=>!this.flsComponentListOfChoices.group2.find(e=>t.id===e.id)))}}return t.\u0275fac=function(e){return new(e||t)(b.dc(r.d),b.dc(f),b.dc(c.c),b.dc(N.a),b.dc(b.i),b.dc(j.a))},t.\u0275cmp=b.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(b.md(Pe,1),b.md(Se,3)),2&t){let t;b.Qc(t=b.sc())&&(e.fslComponent=t.first),b.Qc(t=b.sc())&&(e.dragulaContainer=t.first)}},inputs:{menuSettingsFormControl:"menuSettingsFormControl",menuSlice:"menuSlice"},decls:30,vars:43,consts:[[1,"mdl-wrapper","menu-settings-desktop-main__wrapper",3,"ngClass"],[1,"mdl-grid"],[1,"mdl-cell","mdl-cell--12-col","customize-bar","bg-white","desktop-main-shadow"],[1,"mdl-cell","mdl-cell--10-col"],[1,"text-grey-dark","bolded"],[1,"subtitle","text-grey-mid"],[1,"state-switch","mdl-cell","mdl-cell--2-col"],[1,"switch-wrap"],[3,"checked","value","confirmLabel","inputFormControl","change"],[1,"mdl-cell","mdl-cell--4-col","pages-listing-component__wrapper","bg-white","desktop-main-shadow"],["class","loader__wrapper",4,"ngIf"],[3,"uiLabels","noItemsBlankslate","selectionType","entries","showRowIcons","searchConf","disableSelectionOverride","onSubmit$"],[1,"mdl-cell","mdl-cell--8-col","assigned-pages-to-menu__content"],[1,"items-wrapper"],[1,"header-wrapper","border-grey-light","bg-white"],[1,"list-title","text-grey-dark","bolded"],[1,"list-desc","text-grey-mid","hint"],["class","no-assigned-menus border-grey-light bg-white desktop-main-shadow",4,"ngIf"],[1,"wrapper-bag-container","assigned-menus","border-grey-light","bg-white","desktop-main-shadow",3,"ngClass","dragula","dragulaModel","dragulaModelChange"],["dragulaContainer",""],["class","single-menu-row-item bg-white bg-hover-grey-superlight border-grey-light",3,"name",4,"ngFor","ngForOf"],[1,"loader__wrapper"],[1,"no-assigned-menus","border-grey-light","bg-white","desktop-main-shadow"],[3,"isVisible","title","subtitle","type"],[1,"single-menu-row-item","bg-white","bg-hover-grey-superlight","border-grey-light",3,"name"],[1,"handle"],[1,"icon-dot","text-grey-mid"],[1,"zmdi","zmdi-more-vert"],[1,"menu-name"],[3,"class",4,"ngIf"],[1,"name-of-menu"],["class","home-menu-item",4,"ngIf"],["class","external-warning",3,"tooltip","position",4,"ngIf"],[1,"menu-description","text-grey-mid"],[1,"ellipsis-actions__container"],[3,"id","params","actions"],[1,"home-menu-item"],[1,"external-warning",3,"tooltip","position"],[1,"zmdi","zmdi-alert-triangle","text-warning"]],template:function(t,e){1&t&&(b.jc(0,"div",0),b.jc(1,"div",1),b.jc(2,"div",2),b.jc(3,"div",1),b.jc(4,"div",3),b.jc(5,"h3",4),b.fd(6),b.wc(7,"t"),b.ic(),b.jc(8,"p",5),b.fd(9),b.wc(10,"t"),b.ic(),b.ic(),b.jc(11,"div",6),b.jc(12,"div",7),b.ec(13,"switch",8),b.ic(),b.ic(),b.ic(),b.ic(),b.jc(14,"div",9),b.dd(15,Ie,2,0,"div",10),b.jc(16,"buffered-select-list",11),b.rc("onSubmit$",function(t){return e.addNewPagesToMenu(t)}),b.ic(),b.ic(),b.jc(17,"div",12),b.jc(18,"div",13),b.jc(19,"div",14),b.jc(20,"h3",15),b.fd(21),b.wc(22,"t"),b.ic(),b.jc(23,"div",16),b.fd(24),b.wc(25,"t"),b.ic(),b.ic(),b.dd(26,xe,2,4,"div",17),b.jc(27,"div",18,19),b.rc("dragulaModelChange",function(t){return e.assignedPagesToMenuArray=t})("dragulaModelChange",function(){return e.setUpMenuPositioning()}),b.dd(29,Ae,18,13,"div",20),b.ic(),b.ic(),b.ic(),b.ic(),b.ic()),2&t&&(b.Dc("ngClass",b.Ic(35,Le,!e.multiplePagesEnabled)),b.Mb(6),b.gd(b.yc(7,23,"Customize Mobile App Menu",b.Hc(37,je))),b.Mb(3),b.gd(b.yc(10,26,"Set up a customized mobile app menu.",b.Hc(38,je))),b.Mb(4),b.Dc("checked",e.enableMenuSwitch.checked)("value",e.enableMenuSwitch.value)("confirmLabel",e.enableMenuSwitch.label)("inputFormControl",e.enableMenuSwitch.formControl)("change",e.enableMenuSwitch.onChange),b.Mb(2),b.Dc("ngIf",!e.showTheListComponent),b.Mb(1),b.Dc("uiLabels",e.bufferedSelectListDelegate.uiLabels)("noItemsBlankslate",e.bufferedSelectListDelegate.noItemsBlankslate)("selectionType",e.bufferedSelectListDelegate.selectionType)("entries",e.bufferedSelectListDelegate.entriesList)("showRowIcons",e.bufferedSelectListDelegate.showRowIcons)("searchConf",e.bufferedSelectListDelegate.searchConf)("disableSelectionOverride",!e.multiplePagesEnabled),b.Mb(5),b.gd(b.yc(22,29,"Menu Items",b.Hc(39,je))),b.Mb(3),b.gd(b.yc(25,32,"Pages added to your menu",b.Hc(40,je))),b.Mb(2),b.Dc("ngIf",0===(null==e.assignedPagesToMenuArray?null:e.assignedPagesToMenuArray.length)&&e.menuSettingsState!==e.menuStates.INITIALIZING),b.Mb(1),b.Dc("ngClass",b.Ic(41,Ne,!e.assignedPagesToMenuArray.length))("dragula","wrapper-bag-pages")("dragulaModel",e.assignedPagesToMenuArray),b.Mb(2),b.Dc("ngForOf",e.assignedPagesToMenuArray))},directives:[V.n,ye.a,V.p,ie,c.a,V.o,a.bd,Rt.a,oe.a,ut.a],pipes:[d.b,dt.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.menu-settings-desktop-main__wrapper[_ngcontent-%COMP%]{margin-top:15px}.assigned-menus[_ngcontent-%COMP%]{width:100%;border-width:1px 0 0;border-style:solid}.loader__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:550px}.pages-listing-component__wrapper[_ngcontent-%COMP%]{height:550px;max-height:550px;overflow:hidden;box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.assigned-pages-to-menu__content[_ngcontent-%COMP%]{min-height:242px;margin-bottom:15px;text-align:center;position:relative;display:flex;align-items:flex-start;justify-content:center}.assigned-menus[_ngcontent-%COMP%]{text-align:left}.assigned-menus.ex-over[_ngcontent-%COMP%]{border-color:var(--ui-color-badge-background-light);color:inherit}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]{padding:0 25px;height:59px;align-items:center;display:flex;border-width:0 0 1px;border-style:solid;position:relative}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]:last-child{border-width:0}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]{height:23px;display:flex;align-items:center;max-width:90%}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]   .listing-selected-pages-icon[_ngcontent-%COMP%]{width:17px;font-size:22px}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]   .zmdi[_ngcontent-%COMP%]{margin-right:10px}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]   .home-menu-item[_ngcontent-%COMP%]{margin-left:10px}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]   .name-of-menu[_ngcontent-%COMP%]{max-width:100%}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .menu-description[_ngcontent-%COMP%]{font-size:12px;text-overflow:ellipsis;display:block;max-width:100%;white-space:nowrap;overflow:hidden}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .icon-dot[_ngcontent-%COMP%]{position:absolute;display:none;height:25px;width:24px;text-align:center;font-size:22px;letter-spacing:3px;z-index:0;top:0;bottom:0;margin:auto;left:0}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]:hover   .icon-dot[_ngcontent-%COMP%]{display:inline-block}.assigned-menus[_ngcontent-%COMP%]   .single-menu-row-item[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{display:inline-block;cursor:all-scroll;height:100%;line-height:3.3em;width:24px;text-align:center;font-size:20px;letter-spacing:-1px;position:absolute;z-index:1;top:0;bottom:0;margin:auto;left:0}.assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%]{font-size:18px;display:inline-block;margin-top:2px}.router-outlet:not(.direction-rtl):not(.heracles-root)[_nghost-%COMP%]   .assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%]{margin-left:5px}.router-outlet.direction-rtl:not(.heracles-root)[_nghost-%COMP%]   .assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .assigned-menus[_ngcontent-%COMP%]   .external-warning[_ngcontent-%COMP%]{margin-right:5px}.no-assigned-menus[_ngcontent-%COMP%]{text-align:center;width:100%;border-width:1px 0 0;border-style:solid}[_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .fsl-component-page-name__content{font-size:.88rem;font-size:var(--hyd-typography-size-sm);display:flex;align-items:center;line-height:18px;font-weight:400}[_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name{overflow-y:hidden;width:100%}[_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name:before{background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff);background:-webkit-linear-gradient(left,hsla(0,0%,100%,0),#fff)}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name:before{transform:rotate(0deg)}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name:before{transform:rotate(180deg)}[_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name .name-wrapping{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}[_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .fsl-component-page-name__content .fsl-component-page-name .name-description{font-size:12px;max-width:100%}[_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .no-assigned-menus .blankslate .header.header-buttons{height:auto}[_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .no-assigned-menus .blankslate .header{padding:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .single-menu-row-item .ellipsis-actions__container{margin-right:-12px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]  .menu-settings-desktop-main__wrapper .single-menu-row-item .ellipsis-actions__container{margin-left:-12px}[_nghost-%COMP%]  .single-menu-row-item .ellipsis-actions__container{flex-grow:2;text-align:right}[_nghost-%COMP%]  .single-menu-row-item .ellipsis-actions__container btn-ellipsis .btn-ellipsis>div:not(.is-visible)+button{visibility:hidden;opacity:0}[_nghost-%COMP%]  .single-menu-row-item:hover .ellipsis-actions__container btn-ellipsis .btn-ellipsis>div+button, [_nghost-%COMP%]  .single-menu-row-item:hover .ellipsis-actions__container btn-ellipsis .btn-ellipsis>div.is-visible+button, [_nghost-%COMP%]  .single-menu-row-item:hover .ellipsis-actions__container btn-ellipsis .btn-ellipsis>div:not(.is-visible)+button{visibility:visible;opacity:1}[_nghost-%COMP%]  .menu-disabled .balloon-button-wrap{display:block;opacity:.4;pointer-events:none}[_nghost-%COMP%]  .menu-disabled .single-menu-row-item{pointer-events:none}[_nghost-%COMP%]  blankslate.is-visible{padding:55px 25px}.customize-bar[_ngcontent-%COMP%]{padding:15px 25px;margin-bottom:15px;box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.customize-bar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;line-height:22px}.customize-bar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:17px}[_nghost-%COMP%]   .switch-wrap[_ngcontent-%COMP%]{margin-top:5px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .switch-wrap[_ngcontent-%COMP%]{float:right}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .switch-wrap[_ngcontent-%COMP%]{float:left}.list-title[_ngcontent-%COMP%]{font-size:16px;line-height:22px}.list-desc[_ngcontent-%COMP%]{font-size:12px;line-height:17px}.header-wrapper[_ngcontent-%COMP%]{padding:15px 25px;border-width:1px 1px 0;border-style:solid}.router-outlet:not(.direction-rtl):not(.heracles-root)[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{text-align:left}.router-outlet.direction-rtl:not(.heracles-root)[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{text-align:right}.items-wrapper[_ngcontent-%COMP%]{width:100%;box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}"]}),t})();const Fe=["tabsComponentTemplate"];function Ue(t,e){if(1&t&&b.ec(0,"tabs",2,3),2&t){const t=b.vc();b.Dc("panels",t.menuSettingsTabsParams.panels)("content_background",t.menuSettingsTabsParams.content_background)("initialTab",t.menuSettingsTabsParams.initialTab)}}let ze=(()=>{class t{constructor(t,e,n,i,s,a,o,c,l){this._route=t,this._router=e,this._menuActions=n,this._store=i,this._fb=s,this._pageService=a,this._sessionActions=o,this.toggleService=c,this.docLayoutService=l,this.showTabsComponent=!1,this.disposableSubscribers=[],this.floatingSaveButtonVisible=!1,this.menusSliceSelector=Object(r.m)(y,t=>t.manage_menus)}ngOnInit(){this._route.params.pipe(Object(P.a)()).subscribe(t=>{void 0!==t.tab&&(this.initialTabRouteParam=t.tab),void 0!==t.id_menu&&(this.menuId=t.id_menu,this.subscribeToREDUX())});const t=this._store.select("page").subscribe(t=>{t&&t.floating_save_button&&(this.floatingSaveButtonVisible=t.floating_save_button.show)});this.disposableSubscribers.push(t),this.checkForDuplicationSuccess()}checkForDuplicationSuccess(){let t=sessionStorage.getItem("duplicate_and_edit");null!==t&&"success"===t&&(sessionStorage.removeItem("duplicate_and_edit"),this.docLayoutService.toast.showToast({message:d.a.t("admin_webpages","The Menu has been duplicated successfully. Find it at the bottom of the menu list"),type:"success"}))}setPageTitleAndDescription(t){const e=d.a.t("admin_webpages","Manage internal details and settings for the menu");this.docLayoutService.header.showTitleBar({title:t,subtitle:e,fullWidth:!0,mode:"bordered"})}setBreadcrumbsTitle(t){const e=d.a.t("admin_webpages","Manage menus");this.docLayoutService.breadcrumbs.setHierarchicalBreadcrumbs([{label:e,href:"/pages/menu-management"},{label:t,href:this._router.url}])}subscribeToREDUX(){this._store.dispatch(this._menuActions.singleMenuInformationInitialize({menu_id:this.menuId})),this.storeSubscriber=this._store.select(this.menusSliceSelector).subscribe(t=>{const e=Object.keys(t.internal.single_menu_information.information).length;(t||t.internal.single_menu_information.information||0!==e)&&this.storeSubscriber&&e>0&&+t.internal.single_menu_information.information.id==+this.menuId&&(this.setPageTitleAndDescription(t.internal.single_menu_information.information.name),this.initializeTheFormControls(t.internal.single_menu_information.information),this.initializeTabsComponent(t.internal.single_menu_information.information),this.setBreadcrumbsTitle(t.internal.single_menu_information.information.name),this.storeSubscriber.unsubscribe())})}initializeTabsComponent(t){const e={title:d.a.t("admin_webpages","Menu Settings"),content:{params:{menuSettingsFormControl:this.menuSettingsFormControl,settings:t,page_id:this.menuId},component:ct},properties:{balloon:{style:"main",width:296,position:"bottom",title:d.a.t("admin_webpages","Compose Your Menu"),text:d.a.t("admin_webpages","Use these tabs to configure the settings of your menus and to compose their layout."),showOnClick:!0,balloonGroup:"menu-main-settings"}}},n={title:d.a.t("admin_webpages","Desktop main menu"),content:{params:{menuSettingsFormControl:this.menuSettingsFormControl,settings:t,page_id:this.menuId,menuSlice:this.menusSliceSelector},component:ve}},i={title:d.a.t("admin_webpages","Mobile App Main Menu"),content:{params:{menuSettingsFormControl:this.menuSettingsFormControl,settings:t,page_id:this.menuId,menuSlice:this.menusSliceSelector},component:Re},properties:{balloon:{style:"main",width:296,position:"bottom",title:d.a.t("admin_webpages","The New Mobile App Menu"),text:d.a.t("admin_webpages","Here you'll find all of the available pages transposed from the Desktop Main Menu to the Mobile App Main Menu."),showOnClick:!0,balloonGroup:"menu-main-settings"}}};let s={};this.initialTabRouteParam&&("desktop-main-menu"===this.initialTabRouteParam?s=n:"mobile-main-menu"===this.initialTabRouteParam&&(s=i));const a=[];a.push(e,n),this.toggleService.isOn(p.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)&&a.push(i),this.menuSettingsTabsParams={panels:a,initialTab:s,content_background:"bg-grey-superlight"},this.showTabsComponent=!0}initializeTheFormControls(t){this.menuSettingsFormControl=this._fb.group({code:[t.code,g.x.maxLength(25)],name:[t.name,g.x.compose([g.x.required,g.x.maxLength(255)])],id:[this.menuId],visible_by:[t.visible_by],selected_pages:[t.selected_pages],selected_pages_mobile:[t.selected_pages_mobile],desktop_main_menu:[""],mobile_main_menu:[""],custom_mobile_menu:t.custom_mobile_menu,is_published:[t.is_published]}),this.initializeFloatingSaveButton(t),this.listenForFormChanges(),this.setFormErrors()}initializeFloatingSaveButton(t){this.floatingSaveButton={actions:[{properties:{text:d.a.t("app7020","Save Changes"),colorScheme:"positive-green",typeStyle:"filled"},state:this.menuSettingsFormControl.valid?"normal":"disabled",onClick:()=>this.saveMenuSettingsAction()}],status:[{value:1,name:d.a.t("standard","Published"),description:d.a.t("admin_webpages","Element is published, meaning it\u2019s available for you to configure in a way that assigned users can view, search, or interact with it."),active:t.is_published},{value:0,name:d.a.t("app7020","Unpublished"),description:d.a.t("admin_webpages","Element is unpublished, meaning that even if you configure it in a way for assigned users to search and interact with it, they cannot see it."),active:!t.is_published}]},this.floatingSaveButton.changeStatus=t=>{t&&(this.menuSettingsFormControl.markAsDirty(),this.menuSettingsFormControl.controls.is_published.setValue(t.value),this.menuSettingsFormControl.controls.is_published.markAsDirty(),this.menuSettingsFormControl.controls.is_published.updateValueAndValidity())},this._pageService.initFloatingSaveButton(this.floatingSaveButton)}listenForFormChanges(){const t=this.menuSettingsFormControl.valueChanges.subscribe(()=>{const t=this.menuSettingsFormControl.controls;Object.keys(t).forEach(e=>{t[e]&&t[e].dirty&&(this._pageService.floatingSaveButtonMarkAsDirty(!0),this._pageService.preventNavigation())})});this.disposableSubscribers.push(t)}saveMenuSettingsAction(){return new Promise((t,e)=>{if(this.validateVisibleByControl(),this.menuSettingsFormControl.valid){let e=this.menuSettingsFormControl.getRawValue();if(e.hasOwnProperty("desktop_main_menu")){const t=Object(nt.e)(e,["desktop_main_menu"]);e=t}e.hasOwnProperty("mobile_main_menu")&&!this.menuSettingsFormControl.controls.custom_mobile_menu.value&&delete e.mobile_main_menu,e.hasOwnProperty("selected_pages_mobile")&&!this.menuSettingsFormControl.controls.custom_mobile_menu.value&&delete e.selected_pages_mobile,this._store.dispatch(this._menuActions.saveSingleMenuInformationInitialize({menu_id:this.menuId,method:"PUT",params:e}));const n=this;setTimeout(t=>{n._store.dispatch(this._sessionActions.loadSession())},500),this.storeSubscriber=this._store.select(this.menusSliceSelector).subscribe(n=>{(n||n.internal.single_menu_information.information||0!==Object.keys(n.internal.single_menu_information.information).length)&&this.storeSubscriber&&("initialized"===n.internal.single_menu_information.status&&(t(d.a.t("app7020","Your changes has been successfully saved")),this.menuSettingsFormControl&&(this.setPageTitleAndDescription(e.name),this.setBreadcrumbsTitle(e.name),this.menuSettingsFormControl.markAsPristine(),this._pageService.allowNavigation()),this.storeSubscriber.unsubscribe()),"rejected"===n.internal.single_menu_information.status&&n.internal.single_menu_information.errors&&(this.docLayoutService.toast.showToast({message:n.internal.single_menu_information.errors[0].message,type:"error"}),this._pageService.floatingSaveButtonMarkAsDirty(!1),this._pageService.allowNavigation(),this.storeSubscriber.unsubscribe()))})}else e(this.menuSettingsFormControl.controls.visible_by.errors&&this.menuSettingsFormControl.controls.visible_by.errors.empty?d.a.t("admin_webpages","Please complete at least one element in this area"):d.a.t("error","Invalid input data"))})}setFormErrors(){const t=this._store.select(this.menusSliceSelector).subscribe(t=>{if(!t)return;const e=Object.keys(this.menuSettingsFormControl.controls);if("rejected"===t.internal.single_menu_information.status){for(let t=0;t<e.length;t++)this.menuSettingsFormControl.controls.hasOwnProperty(e[t])&&this.menuSettingsFormControl.controls[e[t]].setErrors(null);const n=t.internal.single_menu_information.errors;for(let t=0;t<n.length;t++)this.menuSettingsFormControl.controls.hasOwnProperty(n[t].field)?this.menuSettingsFormControl.controls[n[t].field].setErrors(n[t].message):this.docLayoutService.toast.showToast({message:n[t],type:"error"});this.tabsComponentTemplate&&this.tabsComponentTemplate.hasOwnProperty("activeCmpInstnace")&&this.tabsComponentTemplate.activeCmpInstnace.menuSettingsAccordionTemplate.loadedComponents[0].updateFormValues()}});this.disposableSubscribers.push(t)}validateVisibleByControl(){const t=this.menuSettingsFormControl.controls.visible_by,e=this.menuSettingsFormControl.controls.visible_by.value;let n=0;Object.keys(e).map(t=>{e[t]&&"object"==typeof e[t]&&(n+=e[t].length)}),t.value.all||0!==n||this.menuSettingsFormControl.controls.visible_by.setErrors({empty:!0})}ngOnDestroy(){this._pageService.hideFloatingSaveButton();for(const t of this.disposableSubscribers)t.unsubscribe();this.menuSettingsFormControl=null}}return t.\u0275fac=function(e){return new(e||t)(b.dc(i.a),b.dc(i.h),b.dc(f),b.dc(r.d),b.dc(g.d),b.dc(j.a),b.dc(L.a),b.dc(R.a),b.dc(z.a))},t.\u0275cmp=b.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&b.md(Fe,1),2&t){let t;b.Qc(t=b.sc())&&(e.tabsComponentTemplate=t.first)}},decls:2,vars:1,consts:[[1,"bg-white","lms-menus-settings-page__wrapper"],[3,"panels","content_background","initialTab",4,"ngIf"],[3,"panels","content_background","initialTab"],["tabsComponentTemplate",""]],template:function(t,e){1&t&&(b.jc(0,"div",0),b.dd(1,Ue,2,3,"tabs",1),b.ic()),2&t&&(b.Mb(1),b.Dc("ngIf",e.showTabsComponent))},directives:[V.p,Z.a],styles:[".lms-menus-settings-page__wrapper[_ngcontent-%COMP%] {\n            margin-bottom: 60px;\n        }\n        .lms-menus-settings-page__wrapper[_ngcontent-%COMP%]     .mdl-tabs .tabs-head {\n            margin: 0;\n        }"]}),t})();var qe=n("b74N"),Be=n("TaD2");const Ve=[{path:"",canActivate:[qe.a],children:[{path:"",component:et,pathMatch:"full"},{path:"settings/:id_menu",component:ze,canDeactivate:[Be.a]}],data:{showFooter:!1}}];let Ge=(()=>{class t{constructor(t){this._backendService=t}callMenusList(t,e){let n=[];return t&&(n=["get_total_count=1","page="+t.payload.page,"page_size="+t.payload.page_size],t.payload.search_text&&n.push("search_text="+t.payload.search_text),t.payload.hasOwnProperty("sort_attr")&&t.payload.hasOwnProperty("sort_dir")&&n.push("sort_attr="+t.payload.sort_attr+"&sort_dir="+t.payload.sort_dir),t.payload.hasOwnProperty("filters")&&n.push("filters="+t.payload.filters)),this._backendService.request("/pages/v1/menu"+(e=e?"/"+e:"")+"?"+n.join("&"),"GET")}callPagesList(t){return this._backendService.request("/pages/v1/pages","GET",{get_total_count:1,page_size:999999,mobile_pages:t.mobile_pages})}createNewMenu(t){return this._backendService.request("/pages/v1/menu","POST",t)}singleMenuInformation({id:t,menu_id:e,method:n="GET",params:i}){if(e&&(t=e),void 0!==t)return this._backendService.request("/pages/v1/menu/"+t,n,i);console.error("No page ID was sent to request information for the menu!")}deleteSingleMenu(t){if(void 0!==t)return this._backendService.request("/pages/v1/menu/"+t,"DELETE");console.error("No menu ID was sent!")}}return t.\u0275fac=function(e){return new(e||t)(b.nc(F.a))},t.\u0275prov=b.Zb({token:t,factory:t.\u0275fac}),t})();var We=n("LRne"),He=n("eIep"),$e=n("JIr8");let Qe=(()=>{class t{constructor(t,e,n){this._update$=t,this.menusActions=e,this.menusService=n,this.menusListInitialize$=this._update$.pipe(Object(o.f)(f.MENUS_LIST_INITIALIZE),Object(He.a)(t=>this.menusService.callMenusList(t).pipe(Object(k.a)(t=>this.menusActions.menusListSuccess(t)),Object($e.a)(t=>Object(We.a)(this.menusActions.menusListRejected()))))),this.createNewMenuItem=this._update$.pipe(Object(o.f)(f.CREATE_NEW_MENU_ITEM_INITIALIZE),Object(He.a)(({payload:t})=>this.menusService.createNewMenu(t).pipe(Object(k.a)(t=>this.menusActions.createNewMenuSuccess(t)),Object($e.a)(t=>Object(We.a)(this.menusActions.createNewMenuRejected(t)))))),this.requestSingleMenuInformation=this._update$.pipe(Object(o.f)(f.SINGLE_MENU_INFORMATION_INITIALIZE),Object(He.a)(({payload:t})=>this.menusService.singleMenuInformation(t).pipe(Object(k.a)(t=>this.menusActions.singleMenuInformationSuccess(t)),Object($e.a)(t=>Object(We.a)(this.menusActions.singleMenuInformationReject()))))),this.saveSingleMenuInformation=this._update$.pipe(Object(o.f)(f.SAVE_SINGLE_MENU_INFORMATION_INITIALIZE),Object(He.a)(({payload:t})=>this.menusService.singleMenuInformation(t).pipe(Object(k.a)(t=>this.menusActions.saveSingleMenuInformationSuccess(t)),Object($e.a)(t=>Object(We.a)(this.menusActions.saveSingleMenuInformationReject(t)))))),this.initializeAvailablePages=this._update$.pipe(Object(o.f)(f.ACTION_INITIALIZE_AVAILABLE_PAGES),Object(He.a)(({payload:t})=>this.menusService.callPagesList(t).pipe(Object(k.a)(t=>this.menusActions.initializeAvailablePagesSuccess(t)),Object($e.a)(t=>Object(We.a)(this.menusActions.initializeAvailablePagesRejected(t)))))),this.deleteSingleMenu=this._update$.pipe(Object(o.f)(f.DELETE_SINGLE_MENU),Object(He.a)(({payload:t})=>this.menusService.deleteSingleMenu(t).pipe(Object(k.a)(t=>this.menusActions.deleteSingleMenuSuccess(t)),Object($e.a)(t=>Object(We.a)(this.menusActions.deleteSingleMenuReject(t))))))}}return t.\u0275fac=function(e){return new(e||t)(b.nc(o.a),b.nc(f),b.nc(Ge))},t.\u0275prov=b.Zb({token:t,factory:t.\u0275fac}),Object(nt.b)([Object(o.b)()],t.prototype,"menusListInitialize$",void 0),Object(nt.b)([Object(o.b)()],t.prototype,"createNewMenuItem",void 0),Object(nt.b)([Object(o.b)()],t.prototype,"requestSingleMenuInformation",void 0),Object(nt.b)([Object(o.b)()],t.prototype,"saveSingleMenuInformation",void 0),Object(nt.b)([Object(o.b)()],t.prototype,"initializeAvailablePages",void 0),Object(nt.b)([Object(o.b)()],t.prototype,"deleteSingleMenu",void 0),t})();const Je=[Ge,f,Qe];let Ye=(()=>{class t{static forChildren(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.bc({type:t}),t.\u0275inj=b.ac({providers:[Je,Qe],imports:[[s.a,a.uc,c.b,l.a,r.f.forFeature("manage-menu",M),o.d.forFeature([Qe]),i.l.forChild(Ve)]]}),t})()},"lFx+":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("UaVD"),s=n("fXoL"),a=n("ofXK"),o=n("Wb/8"),r=n("nOmI"),c=n("hcsV");function l(t,e){if(1&t&&s.ec(0,"activities-stream-item-asset",4),2&t){const t=s.vc();s.Dc("activity",t.activity)("settings",t.settings)}}function d(t,e){if(1&t&&s.ec(0,"activities-stream-item-question",5),2&t){const t=s.vc();s.Dc("activity",t.activity)}}function g(t,e){if(1&t&&s.ec(0,"activities-stream-item-enrollment",6),2&t){const t=s.vc();s.cd("display",t.displayEnrollmentStyle()),s.Dc("activity",t.activity)}}let u=(()=>{class t{constructor(){this.settings={allowComments:!1,allowAskTheExpertButton:!1,allowShareButton:!1,showCourseAndLPActivity:!1,widgetId:""},this.activityType=i.a}displayEnrollmentStyle(){return this.settings.showCourseAndLPActivity?"block":"none"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xb({type:t,selectors:[["activities-stream-item"]],inputs:{settings:"settings",activity:"activity"},decls:4,vars:4,consts:[[1,"root",3,"ngSwitch"],["class","item item-asset wrapper-shadow",3,"activity","settings",4,"ngSwitchCase"],["class","item item-question wrapper-shadow",3,"activity",4,"ngSwitchCase"],["class","item item-enrollment wrapper-shadow",3,"activity","display",4,"ngSwitchCase"],[1,"item","item-asset","wrapper-shadow",3,"activity","settings"],[1,"item","item-question","wrapper-shadow",3,"activity"],[1,"item","item-enrollment","wrapper-shadow",3,"activity"]],template:function(t,e){1&t&&(s.jc(0,"div",0),s.dd(1,l,1,2,"activities-stream-item-asset",1),s.dd(2,d,1,1,"activities-stream-item-question",2),s.dd(3,g,1,3,"activities-stream-item-enrollment",3),s.ic()),2&t&&(s.Dc("ngSwitch",e.activity.type),s.Mb(1),s.Dc("ngSwitchCase",e.activityType.asset),s.Mb(1),s.Dc("ngSwitchCase",e.activityType.question),s.Mb(1),s.Dc("ngSwitchCase",e.activityType.enrollment))},directives:[a.r,a.s,o.a,r.a,c.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.item[_ngcontent-%COMP%]{display:block;margin:0 0 25px;background-color:#fff}"]}),t})()},lWmL:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("yfT8"),s=n("rLbr"),a=n("lJxs"),o=n("wO+i"),r=n("fXoL"),c=n("Y9qQ");let l=(()=>{class t{constructor(t){this._backend=t,this.questionsEndpoint=new i.a("/share/v1/questions/list",s.a.GET),this.repliesEndpoint=new i.a("/share/v1/comments/:id",s.a.GET),this.answersEndpoint=new i.a("/share/v1/questions/:id/answers",s.a.GET),this.channelsListEndpoint=new i.a("/manage/v1/channels",s.a.GET),this.cohortGroupsEndpoint=new i.a("/share/v1/cohort/groups",s.a.GET),this.answersLikeEndpoint=new i.a("/share/v1/answers/:id/evaluate",s.a.PUT),this.answersDislikeEndpoint=new i.a("/share/v1/answers/:id/evaluate",s.a.DELETE),this.commentLikeEndpoint=new i.a("/share/v1/comments/:id/evaluate",s.a.PUT),this.commentDislikeEndpoint=new i.a("/share/v1/comments/:id/evaluate",s.a.DELETE),this.commentReplyEndpoint=new i.a("/share/v1/comments/:id/reply",s.a.POST),this.questionAnswerEndpoint=new i.a("/share/v1/questions/:id/answer",s.a.POST),this.questionFollowEndpoint=new i.a("/share/v1/questions/:id/follow",s.a.POST),this.questionUnFollowEndpoint=new i.a("/share/v1/questions/:id/follow",s.a.DELETE),this.editCommentEndpoint=new i.a("/share/v1/comments/:id",s.a.PUT),this.deleteCommentEndpoint=new i.a("/share/v1/comments/:id",s.a.DELETE),this.editQuestionEndpoint=new i.a("/share/v1/questions/:id",s.a.PUT),this.deleteQuestionEndpoint=new i.a("/share/v1/questions/:id",s.a.DELETE),this.editAnswerEndpoint=new i.a("/share/v1/answers/:id",s.a.PUT),this.deleteAnswerEndpoint=new i.a("/share/v1/answers/:id",s.a.DELETE)}questionsList(t){return this._backend.request(this.questionsEndpoint.url,this.questionsEndpoint.verb,t)}getReplies(t){return this._backend.request(this.repliesEndpoint.setPlaceholdersValue({id:t}),this.repliesEndpoint.verb).pipe(Object(a.a)(t=>({data:{items:t.data.sub_items,count:t.data.sub_items.length,current_page:1,current_page_size:t.data.sub_items.length,has_more_data:!1,total_count:t.data.sub_items.length,total_page_count:1,cursor:""}})))}getAnswers(t,e,n=15){const i={page_size:n,page_number:e};return this._backend.request(this.answersEndpoint.setPlaceholdersValue({id:t}),this.answersEndpoint.verb,i)}getChannelsList(t){return this._backend.request(this.channelsListEndpoint.url,this.channelsListEndpoint.verb,t).pipe(Object(o.a)("data","items"))}getCohortList(t){return this._backend.request(this.cohortGroupsEndpoint.url,this.cohortGroupsEndpoint.verb,t).pipe(Object(o.a)("data","items"))}answerLike(t){return this._backend.request(this.answersLikeEndpoint.setPlaceholdersValue({id:t}),this.answersLikeEndpoint.verb).pipe(Object(o.a)("data"))}answerDislike(t){return this._backend.request(this.answersDislikeEndpoint.setPlaceholdersValue({id:t}),this.answersDislikeEndpoint.verb).pipe(Object(o.a)("data"))}commentLike(t){return this._backend.request(this.commentLikeEndpoint.setPlaceholdersValue({id:t}),this.commentLikeEndpoint.verb).pipe(Object(o.a)("data"))}commentDislike(t){return this._backend.request(this.commentDislikeEndpoint.setPlaceholdersValue({id:t}),this.commentDislikeEndpoint.verb).pipe(Object(o.a)("data"))}commentReply(t,e,n){const i=Object.assign(Object.assign({content:e.message},e.payload.length&&{mentions:e.payload}),n&&{idAnswerParent:n});return this._backend.request(this.commentReplyEndpoint.setPlaceholdersValue({id:t}),this.commentReplyEndpoint.verb,i).pipe(Object(o.a)("data"))}questionAnswer(t,e,n){const i=Object.assign(Object.assign({content:e.message},e.payload.length&&{mentions:e.payload}),n&&{idAnswerParent:n});return this._backend.request(this.questionAnswerEndpoint.setPlaceholdersValue({id:t}),this.questionAnswerEndpoint.verb,i).pipe(Object(o.a)("data"))}questionFollow(t){return this._backend.request(this.questionFollowEndpoint.setPlaceholdersValue({id:t}),this.questionFollowEndpoint.verb).pipe(Object(o.a)("data"))}questionUnfollow(t){return this._backend.request(this.questionUnFollowEndpoint.setPlaceholdersValue({id:t}),this.questionUnFollowEndpoint.verb).pipe(Object(o.a)("data"))}editComment(t,e){return this._backend.request(this.editCommentEndpoint.setPlaceholdersValue({id:t}),this.editCommentEndpoint.verb,Object.assign({title:e.message},e.payload.length&&{mentions:e.payload})).pipe(Object(o.a)("data"))}deleteComment(t){return this._backend.request(this.deleteCommentEndpoint.setPlaceholdersValue({id:t}),this.deleteCommentEndpoint.verb).pipe(Object(o.a)("data"))}editQuestion(t,e){return this._backend.request(this.editQuestionEndpoint.setPlaceholdersValue({id:t}),this.editQuestionEndpoint.verb,Object.assign({title:e.message},e.payload.length&&{mentions:e.payload})).pipe(Object(o.a)("data"))}deleteQuestion(t){return this._backend.request(this.deleteQuestionEndpoint.setPlaceholdersValue({id:t}),this.deleteQuestionEndpoint.verb).pipe(Object(o.a)("data"))}editAnswer(t,e){return this._backend.request(this.editAnswerEndpoint.setPlaceholdersValue({id:t}),this.editAnswerEndpoint.verb,Object.assign({content:e.message},e.payload.length&&{mentions:e.payload})).pipe(Object(o.a)("data"),Object(a.a)(t=>({id:t.updated_id})))}deleteAnswer(t){return this._backend.request(this.deleteAnswerEndpoint.setPlaceholdersValue({id:t}),this.deleteAnswerEndpoint.verb).pipe(Object(o.a)("data"))}answerMarkAsBest(t){return this._backend.request(`/share/v1/answers/${t}/mark`,"PUT").pipe(Object(o.a)("data"))}answerUnmarkAsBest(t){return this._backend.request(`/share/v1/answers/${t}/mark`,"DELETE").pipe(Object(o.a)("data"))}}return t.\u0275fac=function(e){return new(e||t)(r.nc(c.a))},t.\u0275prov=r.Zb({token:t,factory:t.\u0275fac}),t})()},la9Z:function(t){t.exports=JSON.parse('{"data":{"icon":null,"code":"AAAA","names":{"en":"Widget","fa":"Widget","fi":"Widget","it":"Widget"},"published":1,"descriptions":{"en":"A sample page with widgets","fa":"A sample page with widgets","fi":"A sample page with widgets","it":"A sample page with widgets"},"rows":[{"background":{"type":"no-color"},"layout":"12","sequence":1,"columns":[{"size":"12","sequence":"0","widgets":[{"id":"4b3401665fea7","type":"activitiesstream","settings":{"allowComments":true,"allowAskTheExpertButton":true,"allowShareButton":true,"showCourseAndLPActivity":true,"translationsLocalizableFields":{"title":{"en":"Activities Stream","fa":"Activities Stream","fi":"Activities Stream","it":"Activities Stream"}}}}]}]}]}}')},m06o:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("rLbr"),s=n("wO+i"),a=n("lJxs"),o=n("fXoL"),r=n("Y9qQ");let c=(()=>{class t{constructor(t){this._backendService=t}getSkillById(t){return this._backendService.request(`skill/v1/skills/${t}`,i.a.GET).pipe(Object(s.a)("data"),Object(a.a)(t=>({id:t.id,code:t.predefined_UID,name:t.title,is_active:"1"===t.active})))}}return t.\u0275fac=function(e){return new(e||t)(o.nc(r.a))},t.\u0275prov=o.Zb({token:t,factory:t.\u0275fac}),t})()},mMaQ:function(t,e,n){"use strict";n.d(e,"b",function(){return k}),n.d(e,"a",function(){return A}),n.d(e,"c",function(){return L});var i,s=n("mrSG"),a=n("d+dA"),o=n("dRcD"),r=n("bUIS"),c=n("r0xE"),l=n("FxmT"),d=n("0XDt"),g=n("ecWn"),u=n("hIRN"),h=n("I/za"),p=n("QaRh"),m=n("LC/E"),_=n("8lF4"),b=n("fXoL"),f=n("l7P3"),w=n("a37g"),C=n("Gql0"),O=n("JA8w"),v=n("ofXK"),M=n("u9ID"),y=n("nUpK"),P=n("z52M");const S=["widgetMainTitle"];function I(t,e){if(1&t&&(b.jc(0,"div",null,5),b.ec(2,"widget-title",6),b.ic()),2&t){const t=b.vc(2);b.Mb(2),b.Dc("widgetTitle",t.widgetTitle)}}function x(t,e){1&t&&b.ec(0,"ui-spinner",7),2&t&&b.Dc("size","sm")}const E=function(t){return{height:t}};function T(t,e){if(1&t){const t=b.kc();b.jc(0,"tabs",8),b.rc("onChange",function(e){return b.Uc(t),b.vc(2).changeOfTabs(e)}),b.ic()}if(2&t){const t=b.vc(2);b.ad(t.gamificationStyle),b.Dc("ngStyle",b.Ic(5,E,t.gamificationTabsMinHeight()))("panels",t.gamificationTabs)("innerContentBackground","bg-white")}}function D(t,e){if(1&t&&(b.jc(0,"div"),b.dd(1,I,3,1,"div",1),b.jc(2,"div",2),b.dd(3,x,1,1,"ui-spinner",3),b.dd(4,T,1,7,"tabs",4),b.ic(),b.ic()),2&t){const t=b.vc();b.cd("min-height",null==t.data.settings?null:t.data.settings.height),b.Mb(1),b.Dc("ngIf",t.widgetTitle),b.Mb(2),b.Dc("ngIf",!t.showTabsUI),b.Mb(1),b.Dc("ngIf",t.showTabsUI)}}class k extends c.a{constructor(){super(),this.config=this.initConfig({name:"gamification",heading:u.d.heading,preview:"/public/images/pages/gamification-widget-preview.gif",conditions:{exists:a.b.getInstance().isPluginActive("GamificationApp")},description:u.d.description,params:[{name:"title",type:"textMultilang",label:u.d.nameLabel,legend:u.d.nameLegend,settings:{showCounter:!0,maxLength:255}},{title:u.d.displayItemsTitle,subtitle:u.d.displayItemsTitleSubtitle,type:"group",name:"display-items",subFields:[{name:"displayItems",type:"orderedCheckbox",fieldConfig:{orderedCheckboxes:Object(h.c)(["badges","leaderboards","contests"])},defaultValue:""}]},Object.assign({},Object(h.e)("badges")),{title:u.d.heightLabel,subtitle:u.d.heightSubtitle,type:"group",name:"group-height",subFields:[{name:"height",type:"text",label:u.d.minHeightLabel,defaultValue:"",validation:[d.a.validNumbersRange(1,1e3)],legend:u.d.minHeightLegend}]}]}),this.formValidator=t=>{const e=Object.keys(t.controls);let n=!0;for(let i=0;i<e.length;i++){const s=e[i];if(""!==t.controls[s].value&&null!==t.controls[s].value)for(let e=0;e<t.controls[s].value.length;e++)if(!0===t.controls[s].value[e].checked){n=!1;break}}return n?{snackbarError:"You must select at least one item to display in the widget"}:null}}}let A=(()=>{let t=i=class extends r.a{constructor(t,e,n,i,s){super(),this.store=t,this.actions=e,this.changeDetection=n,this.formatter=i,this.translationService=s,this.data=u.b,this.initializeTabsUI=!1,this.showTabsUI=!1,this.showWidget=a.b.getInstance().isPluginActive("GamificationApp"),this.gamificationTabs=[],this.gamificationStyle=l.a.INLINE,this.componentId="",this.componentId=Math.random().toString(36).substring(7)}ngOnInit(){if(!this.showWidget)return;if(this.reduxListener(),void 0!==this.store){this.sortGamificationTabs();const t=Object(h.d)(this.data.settings.displayItems);this.store.dispatch(this.actions.init(t,this.componentId))}const t=this.translationService.currentLang,e=a.b.getInstance().default_language;this.setWidgetTitle(t,e)}ngOnDestroy(){this.reduxSubscriber&&this.reduxSubscriber.unsubscribe()}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(m.f).subscribe(t=>{if(void 0!==t){switch(this.currentState=t,this.currentState.status){case"INITIALIZED":this.initializeTabsUI=!0;break;case"UPDATED":this.initializeTabsUI=!1,t.height&&(this.widgetHeight=t.height[this.componentId]);break;case"UPDATED_HEIGHT":t.height&&(this.widgetHeight=t.height[this.componentId]);break;case"DATA_LOADED":const e=this.currentState,n=Object(s.e)(e,["errorMsg","status"]);this.mergeData(n),this.initializeTabsUI&&this.fillInTabsComponent()}this.changeDetection.markForCheck()}}))}changeOfTabs(t){this.currentTabName=t.content.params.tabName;const e={tabs:{[this.currentTabName]:Object(h.b)(this.currentTabName)},id_user:o.a.getInstance().id};this.store.dispatch(this.actions.update(e,this.componentId))}sortGamificationTabs(){const t=[...this.data.settings.displayItems];this.data.settings.displayItems=t.filter(t=>t.checked).sort((t,e)=>t.position-e.position)}gamificationTabsMinHeight(){return this.widgetHeight?this.gamificationTabs.length>1?this.widgetHeight+53+"px":this.widgetHeight+"px":"auto"}fillInTabsComponent(){const t=this.data.gamificationWidget[this.componentId];if(!t){const t=Object(h.d)(this.data.settings.displayItems);return this.store.dispatch(this.actions.init(t,this.componentId)),!1}if(!(this.gamificationTabs.length>0)){for(const e in this.data.settings.displayItems)if(this.data.settings.displayItems.hasOwnProperty(e)){const n=this.data.settings.displayItems[e].name;let s=0;this.widgetMainTitle&&(s=this.widgetMainTitle.nativeElement.offsetHeight+i.WIDGET_TITLE_MARGIN);const a=this.data.settings.height-s;if(0===t[n].items.length&&"badges"!==n)continue;this.gamificationTabs.push({title:u.c[n],content:{params:{tabName:n,settings:this.data.settings,componentId:this.componentId,minHeight:a,allTabs:this.gamificationTabs},component:g.a[n]}})}this.showTabsUI=!0,this.showWidget=this.gamificationTabs.length>0}}};return t.WIDGET_TITLE_MARGIN=20,t.\u0275fac=function(e){return new(e||t)(b.dc(f.d),b.dc(w.a),b.dc(b.i),b.dc(C.b),b.dc(O.a))},t.\u0275cmp=b.Xb({type:t,selectors:[["gamification-widget"]],viewQuery:function(t,e){if(1&t&&b.md(S,1),2&t){let t;b.Qc(t=b.sc())&&(e.widgetMainTitle=t.first)}},features:[b.Jb],decls:1,vars:1,consts:[[3,"min-height",4,"ngIf"],[4,"ngIf"],[1,"gamification-widget__wrapper","wrapper-shadow","bg-white"],["class","gamification-spinner",3,"size",4,"ngIf"],[3,"ngStyle","panels","style","innerContentBackground","onChange",4,"ngIf"],["widgetMainTitle",""],[3,"widgetTitle"],[1,"gamification-spinner",3,"size"],[3,"ngStyle","panels","innerContentBackground","onChange"]],template:function(t,e){1&t&&b.dd(0,D,5,5,"div",0),2&t&&b.Dc("ngIf",e.showWidget)},directives:[v.p,M.a,y.bd,P.a,v.q],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]     blankslate{margin:auto}[_nghost-%COMP%]     tabs{display:block;transition:height .3s}[_nghost-%COMP%]     .gamification-spinner{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}[_nghost-%COMP%]     .view-all-btn{width:100%;border-width:1px 0 0;border-style:solid;padding:10px 25px;text-transform:uppercase;box-sizing:border-box}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .view-all-btn{text-align:right}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .view-all-btn{text-align:left}[_nghost-%COMP%]     .view-all-btn.absolute-position{position:absolute;bottom:0}[_nghost-%COMP%]     .view-all-btn a:hover{text-decoration:none}[_nghost-%COMP%]     .mdl-tabs.inline.loaded .tabs-body .tabs-content, [_nghost-%COMP%]     .mdl-tabs .tabs-body{min-height:0}"],changeDetection:0}),t=i=Object(s.b)([Object(_.a)({name:"gamification",module:"pages",settings:k})],t),t})();const L=p},miDY:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("rLbr"),s=n("wO+i"),a=n("fXoL"),o=n("Y9qQ");let r=(()=>{class t{constructor(t){this._backendService=t}getUserCoursesTime(t,e=[],n,a){const o=Object.assign(Object.assign(Object.assign({},e.length&&{skill_codes:e}),(null==n?void 0:n.length)&&{date_begin:n}),(null==a?void 0:a.length)&&{date_end:a});return this._backendService.request(`/learn/v1/channels/users/${t}/content/courses/time`,i.a.GET,o).pipe(Object(s.a)("data","items"))}}return t.\u0275fac=function(e){return new(e||t)(a.nc(o.a))},t.\u0275prov=a.Zb({token:t,factory:t.\u0275fac}),t})()},mqip:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("ofXK"),s=n("tfGn"),a=n("fXoL");let o=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.bc({type:t}),t.\u0275inj=a.ac({imports:[[s.a,i.c]]}),t})()},myMj:function(t,e,n){"use strict";n.d(e,"g",function(){return r}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"n",function(){return d}),n.d(e,"l",function(){return g}),n.d(e,"o",function(){return u}),n.d(e,"h",function(){return h}),n.d(e,"c",function(){return p}),n.d(e,"a",function(){return m}),n.d(e,"e",function(){return _}),n.d(e,"j",function(){return b}),n.d(e,"k",function(){return f}),n.d(e,"m",function(){return w}),n.d(e,"p",function(){return C}),n.d(e,"i",function(){return O}),n.d(e,"b",function(){return v});var i=n("d+dA"),s=n("gvJE"),a=n("CTgS");const o=i.b.getInstance(),r=[a.b.ASSIGNMENTS_TO_CHECK,a.b.TEST_TO_EVALUATE,a.b.ASSIGNMENTS_TO_EVALUATE,a.b.ASSIGNMENTS_EVALUATION,a.b.COURSE_ENROLLMENT_APPROVALS,a.b.OVERDUE_COURSES],c=[a.b.REVIEW_APPROVE_ASSETS,a.b.QUESTIONS_TO_ANSWER],l=[a.b.UPCOMING_ILT_WEBINARS,a.b.TEST_TO_EVALUATE,a.b.ASSIGNMENTS_TO_EVALUATE],d=[String(a.b.PENDING_USERS),String(a.b.COURSE_ENROLLMENT_APPROVALS),String(a.b.OVERDUE_COURSES),String(a.b.REWARD_SHOP_REQUESTS),String(a.b.ECCOMERCE_TRANSACTIONS),String(a.b.CHECKLIST_REQUIRING_ACTION)],g=[a.b.PENDING_USERS,a.b.COURSE_ENROLLMENT_APPROVALS,a.b.OVERDUE_COURSES,a.b.REWARD_SHOP_REQUESTS,a.b.ECCOMERCE_TRANSACTIONS],u=[a.b.ASSIGNMENTS_TO_EVALUATE,a.b.TEST_TO_EVALUATE,a.b.ASSIGNMENTS_TO_CHECK,a.b.ASSIGNMENTS_EVALUATION],h=o.isPluginActive("PowerUserApp"),p=o.isPluginActive("EcommerceApp"),m=o.isPluginActive("Share7020App"),_=o.isPluginActive("GamificationApp"),b={pending_users:s.a.t("standard","Pending Users"),pending_enrollment_approvals:s.a.t("standard","Course enrollment approvals"),overdue_courses:s.a.t("course","Overdue courses"),reward_shop_requests:s.a.t("gamification","Reward Requests"),ecommerce_transactions:s.a.t("standard","Pending transactions"),review_assets:s.a.t("app7020","Assets to review"),questions_to_answer:s.a.t("app7020","Questions to answers"),upcoming_ilt_webinars:s.a.t("course","ILT/Webinar"),test_to_evaluate:s.a.t("organization","Test"),assignments_to_evaluate:s.a.t("standard","Assignments to evaluate"),upcoming_deadline:s.a.t("standard","Deadlines"),assignments_to_check:s.a.t("deliverable","_LONAME_deliverable"),not_started:s.a.t("standard","Not started"),in_progress:s.a.t("standard","In progress"),checklist_requiring_action:s.a.t("standard","Checklists")},f={username:s.a.t("standard","Username"),email:s.a.t("standard","Email"),reward_name:s.a.t("gamification","Reward name"),requested_by:s.a.t("gamification","Requested By"),reward_status:s.a.t("standard","Status"),id_trans:s.a.t("standard","Payment Txn Id"),total_paid:s.a.t("coupon","Total paid"),course_name:s.a.t("standard","_COURSE_NAME"),subscription_date:s.a.t("report","_TH_USER_INSCRIPTION_DATE"),overdue:s.a.t("standard","Overdue"),status_approved:s.a.t("gamification","Approved"),status_rejected:s.a.t("gamification","Rejected"),status_pending:s.a.t("gamification","Pending")},w={resend_email:s.a.t("standard","Resend confirmation email"),view_info:s.a.t("standard","View Info"),approve:s.a.t("standard","_APPROVE"),reject:s.a.t("transcripts","Reject"),reset:s.a.t("gamification","Reset status"),send_msg:s.a.t("standard","Send Message"),view_transaction:s.a.t("app7020","View"),delete_transaction:s.a.t("standard","Delete")},C={title:s.a.t("standard","User Information"),description:s.a.t("user_management","Review user information."),action:s.a.t("standard","OK, GOT IT")},O={title:s.a.t("standard","Resend Email"),content:s.a.t("standard","Are you sure that you want to resend this email?"),confirmation_check_text:s.a.t("standard","Yes I'm sure and I want to proceed"),confirm:s.a.t("standard","Confirm"),cancel:s.a.t("standard","_CANCEL")},v={id:"963",type:"task-list",settings:{admin:[{position:1,checked:!1,name:"pending_users"},{position:2,checked:!1,name:"reward_shop_requests"},{position:3,checked:!1,name:"ecommerce_transactions"},{position:4,checked:!1,name:"pending_enrollment_approvals"},{position:5,checked:!1,name:"assignments_to_evaluate"},{position:6,checked:!1,name:"overdue_courses"}],expert:[{position:1,checked:!1,name:"review_assets"},{position:2,checked:!1,name:"questions_to_answer"}],instructor:[{position:1,checked:!1,name:"upcoming_ilt_webinars"},{position:2,checked:!1,name:"test_to_evaluate"},{position:3,checked:!1,name:"assignments_to_evaluate"}],learner:[{position:1,checked:!1,name:"upcoming_ilt_webinars"},{position:2,checked:!1,name:"upcoming_deadline"},{position:3,checked:!1,name:"assignments_to_check"},{position:4,checked:!1,name:"not_started"},{position:5,checked:!1,name:"in_progress"}]},data:null,customTabData:null}},nOmI:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("8h18");function s(t){return{id:t.id,title:t.content,is_best:t.isBestAnswer,read_only:t.isReadOnly,created_at:t.time,rating:{likes:t.ratings.likes,dislikes:t.ratings.dislikes},owner:{id:t.author.id,short_name:t.author.initials,full_name:t.author.fullName,avatar:t.author.avatar,is_expert:t.author.isExpert},voted:t.voted,mentions:t.mentions}}var a=n("fXoL"),o=n("l7P3"),r=n("7Zvt"),c=n("GPJC");let l=(()=>{class t{constructor(t,e){this.store=t,this.actions=e,this.options={viewSize:i.d.SMALL,openMode:i.c.INLINE,initialView:i.b.SHOW_BEST_FIRST}}ngOnInit(){this.processQuestionData()}ngOnChanges(){this.processQuestionData()}processQuestionData(){var t;this.questionData={id:(t=this.activity).id,title:t.what.title,metadata:t.metadata,owner:{id:t.author.id,short_name:t.author.initials,full_name:t.author.fullName,avatar:t.author.avatar,is_expert:t.author.isExpert},sub_items:t.answers.length>0?t.answers.map(t=>s(t)):[],tags:[],last:t.answers.length>0?s(t.answers[0]):null,best:t.answers.some(t=>!0===t.isBestAnswer)?s(t.answers.find(t=>!0===t.isBestAnswer)):null,related:t.related,rating:{likes:t.ratings.likes,dislikes:t.ratings.dislikes},mentions:t.mentions}}updateQuestionItem(t){if(void 0!==this.store)switch(t.typeEvent){case i.a.DELETE_QUESTION:this.store.dispatch(this.actions.deleteQuestion({id:t.question.id}));break;case i.a.EDIT_QUESTION:this.store.dispatch(this.actions.editQuestion({id:t.question.id,title:t.question.title}))}}}return t.\u0275fac=function(e){return new(e||t)(a.dc(o.d),a.dc(r.a))},t.\u0275cmp=a.Xb({type:t,selectors:[["activities-stream-item-question"]],inputs:{activity:"activity"},features:[a.Kb],decls:2,vars:4,consts:[[1,"root"],[3,"data","openMode","viewSize","initialView","changeInfoQuestion"]],template:function(t,e){1&t&&(a.jc(0,"div",0),a.jc(1,"question",1),a.rc("changeInfoQuestion",function(t){return e.updateQuestionItem(t)}),a.ic(),a.ic()),2&t&&(a.Mb(1),a.Dc("data",e.questionData)("openMode",e.options.openMode)("viewSize",e.options.viewSize)("initialView",e.options.initialView))},directives:[c.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     question .question-element:hover{border-left:0!important}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     question .question-element:hover{border-right:18px!important}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     question .question-element:hover{padding-left:18px!important}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     question .question-element:hover{padding-right:18px!important}[_nghost-%COMP%]     question .question-avatar{font-size:.875em;font-weight:600}[_nghost-%COMP%]     question .question-asked, [_nghost-%COMP%]     question .related-title{font-weight:600}[_nghost-%COMP%]     question .answer-avatar{font-size:.675em;font-weight:600}.widgets-column-half   [_nghost-%COMP%]     question .question-views, .widgets-column-inherit-half   [_nghost-%COMP%]     question .question-views, .widgets-column-half   [_nghost-%COMP%]     question .question-views, .widgets-column-inherit-half   [_nghost-%COMP%]     question .question-views{display:none}@media screen and (max-width:768px){.widgets-column-half   [_nghost-%COMP%]     question .question-views, [_nghost-%COMP%]     question .question-views{display:none}}"]}),t})()},oQEw:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("gdse"),s=n("4SMR"),a=n("wZxL"),o=n("fXoL"),r=n("Y9qQ"),c=n("ofXK"),l=n("6SnQ"),d=n("YbcG");const g=function(t){return{votecount:t}};function u(t,e){if(1&t){const t=o.kc();o.jc(0,"div",2),o.jc(1,"answer-vote-thumbs",3),o.rc("votedUp",function(){o.Uc(t);const e=o.vc();return e.setVote(e.ratingType.likes)})("votedDown",function(){o.Uc(t);const e=o.vc();return e.setVote(e.ratingType.dislikes)}),o.ic(),o.ic()}if(2&t){const t=o.vc();o.Mb(1),o.Dc("answer",t.params.item)("voteUpButton",o.Ic(3,g,t.rating(t.ratingType.likes)))("voteDownButton",o.Ic(5,g,t.rating(t.ratingType.dislikes)))}}function h(t,e){if(1&t){const t=o.kc();o.jc(0,"div",2),o.jc(1,"rating",4),o.rc("rate",function(e){return o.Uc(t),o.vc().setRate(e)}),o.ic(),o.ic()}if(2&t){const t=o.vc();o.Mb(1),o.Dc("enable_voting",t.enableVoting())("color","rgb(240, 195, 14)")("mode","five_stars")("show_value",!0)("value",t.rating(t.ratingType.vote))}}let p=(()=>{class t extends a.a{constructor(t,e){super(),this.backendService=t,this.changeDetectorRef=e,this.ratingType=s.a,this.state={item:null},this.subscribes={dislikes:null,likes:null,rate:null},this.ratings={[s.a.likes]:{actionName:{[i.a.answer]:"like",[i.a.comment]:"comment_like"},propertyName:"likes",votedType:1},[s.a.dislikes]:{actionName:{[i.a.answer]:"dislike",[i.a.comment]:"comment_dislike"},propertyName:"dislikes",votedType:2},[s.a.vote]:{actionName:"vote",propertyName:"vote",votedType:null}},this.thumbsVoteObservables={like:t=>this.backendService.request(`/share/v1/answers/${t}/evaluate`,"PUT"),dislike:t=>this.backendService.request(`/share/v1/answers/${t}/evaluate`,"DELETE"),comment_like:t=>this.backendService.request(`/share/v1/comments/${t}/evaluate`,"PUT"),comment_dislike:t=>this.backendService.request(`/share/v1/comments/${t}/evaluate`,"DELETE")}}ngOnInit(){this.setState({item:this.params.item}),this.changeDetectorRef.detectChanges()}ngOnDestroy(){null!==this.subscribes.likes&&this.subscribes.likes.unsubscribe(),null!==this.subscribes.dislikes&&this.subscribes.dislikes.unsubscribe(),null!==this.subscribes.rate&&this.subscribes.rate.unsubscribe()}enableVoting(){return this.state.item.rating.isRateEnabled}rating(t){return this.state.item.rating[this.ratings[t].propertyName]}setVote(t){this.subscribes[t]=this.thumbsVoteObservables[this.ratings[t].actionName[this.params.commentType]](this.params.item.id).subscribe(e=>{this.setState({item:Object.assign(Object.assign({},this.params.item),{rating:{likes:e.data.likes,dislikes:e.data.dislikes},voted:{created:new Date,type:this.ratings[t].votedType}})}),this.changeDetectorRef.markForCheck()})}setRate(t){this.subscribes.rate=this.backendService.request(`/loki/share/v1/assets/${this.params.item.id}/rating`,"PUT",{rating:t}).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.dc(r.a),o.dc(o.i))},t.\u0275cmp=o.Xb({type:t,selectors:[["activities-stream-rating"]],inputs:{params:"params"},features:[o.Jb],decls:3,vars:3,consts:[[1,"root",3,"ngSwitch"],["class","container",4,"ngSwitchCase"],[1,"container"],[3,"answer","voteUpButton","voteDownButton","votedUp","votedDown"],[3,"enable_voting","color","mode","show_value","value","rate"]],template:function(t,e){1&t&&(o.jc(0,"div",0),o.dd(1,u,2,7,"div",1),o.dd(2,h,2,5,"div",1),o.ic()),2&t&&(o.Dc("ngSwitch",e.params.type),o.Mb(1),o.Dc("ngSwitchCase",e.ratingType.likedislike),o.Mb(1),o.Dc("ngSwitchCase",e.ratingType.vote))},directives:[c.r,c.s,l.a,d.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.root[_ngcontent-%COMP%]{font-size:1em}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   rating[_ngcontent-%COMP%]     .rating-container{padding:0}[_nghost-%COMP%]   rating[_ngcontent-%COMP%]     .rating .star{margin:0 1px}"]}),t})()},oTkX:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return h});var i=n("mrSG"),s=n("3Pt+"),a=n("bUIS"),o=n("r0xE"),r=n("gvJE"),c=n("8lF4"),l=n("fXoL"),d=n("ofXK");const g=function(t){return{backgroundColor:t}};class u extends o.a{constructor(){super(...arguments),this.config=this.initConfig({name:"demo",heading:r.a.t("sample","Demo Widget"),description:r.a.t("sample","Demo widget description"),conditions:{exists:!1},params:[{name:"radioTest",type:"radio",label:r.a.t("sample","Radio Test"),defaultValue:1,options:[{value:1,label:r.a.t("sample","Option 1")},{value:2,label:r.a.t("sample","Option 2")},{value:3,label:r.a.t("sample","Option 3")}],settings:{inline:!0}},{name:"radioTestRequired",type:"radio",label:r.a.t("sample","Radio Test Required"),validation:[s.x.required],defaultValue:3,options:[{value:3,label:r.a.t("sample","Option 3")},{value:4,label:r.a.t("sample","Option 4")},{value:5,label:r.a.t("sample","Option 5")}]},{name:"switchTest",type:"switch",label:r.a.t("sample","Switch Test"),defaultValue:!0},{name:"checkboxTest",type:"checkbox",label:r.a.t("sample","checkbox Test"),defaultValue:"checkboxTest"},{name:"textinputTest",type:"text",label:r.a.t("sample","Textinput Test"),defaultValue:""},{name:"textinputTestRequired",type:"text",label:r.a.t("sample","Textinput Test Required"),defaultValue:""},{name:"numberinputTest",type:"number",label:r.a.t("sample","Numberinput Test"),defaultValue:""},{name:"numberinputTestRequired",type:"number",label:r.a.t("sample","Numberinput Test Required"),defaultValue:"",validation:[s.x.required]},{name:"dropdownTest",type:"dropdown",label:r.a.t("sample","Dropdown Test"),defaultValue:"option1",options:[{value:"option1",label:r.a.t("sample","Option 1 Label")},{value:"option2",label:r.a.t("sample","Option 2 Label")}]},{name:"dropdownTestRequired",type:"dropdown",label:r.a.t("sample","Dropdown Test Required"),defaultValue:"option1",options:[{value:"option1",label:r.a.t("sample","Option 1 Label")},{value:"option2",label:r.a.t("sample","Option 2 Label")}],settings:{blankOption:!0},validation:[s.x.required]},{name:"textareademo",type:"textarea",label:r.a.t("sample","Text Area Label"),defaultValue:""},{name:"textareademoRequired",type:"textarea",label:r.a.t("sample","Text Area Label - Required"),defaultValue:"",validation:[s.x.required]},{name:"urldemo",type:"url",label:r.a.t("sample","Url Label"),placeholder:r.a.t("sample","Type a valid url"),defaultValue:"",settings:{availableUrls:["youtube"]}},{name:"urldemoRequired",type:"url",label:r.a.t("sample","Url Label"),placeholder:r.a.t("sample","Type a valid url"),defaultValue:"",validation:[s.x.required],settings:{availableUrls:["youtube"]}},{name:"multiselectdemo",type:"multiselect",label:r.a.t("sample","MultiSelect Test"),placeholder:r.a.t("sample","Choose..."),defaultValue:[],options:[{value:"sample",label:r.a.t("sample","Sample")},{value:"level",label:r.a.t("sample","Level")},{value:"occupation",label:r.a.t("sample","Occupation")},{value:"dateOfBirth",label:r.a.t("sample","Date of Birth")},{value:"upsTrackingNumber",label:r.a.t("sample","UPS tracking number")},{value:"tropicalZodiac",label:r.a.t("sample","Tropical zodiac")},{value:"vehicle",label:r.a.t("sample","Vehicle")}]},{name:"orderedCheckboxTest",type:"orderedCheckbox",label:r.a.t("sample","Ordered Checkbox Test"),fieldConfig:{orderedCheckboxes:[{label:"Option1",name:"option1",checked:!1,position:1},{label:"Option2",name:"option2",checked:!1,position:2},{label:"Option3",name:"option3",checked:!0,position:3},{label:"Option4",name:"option4",checked:!1,position:4}]},defaultValue:""},{name:"htmldemo",type:"html",label:r.a.t("sample","HTML Test"),placeholder:r.a.t("sample","Type your code here"),defaultValue:""},{name:"linkdemo",type:"link",label:r.a.t("sample","Link Test"),placeholder:r.a.t("sample","Type your code here"),defaultValue:""}]})}}let h=(()=>{let t=class extends a.a{};return t.\u0275fac=function(e){return p(e||t)},t.\u0275cmp=l.Xb({type:t,selectors:[["demo-widget"]],features:[l.Jb],decls:5,vars:7,consts:[[3,"ngStyle"],[3,"innerHtml"]],template:function(t,e){1&t&&(l.jc(0,"div"),l.fd(1),l.jc(2,"div",0),l.fd(3),l.ic(),l.ec(4,"div",1),l.ic()),2&t&&(l.Mb(1),l.hd(" textinputTestRequired: ",e.data.textinputTestRequired," "),l.Mb(1),l.Dc("ngStyle",l.Ic(5,g,e.data.switchTest?"green":"red")),l.Mb(1),l.id(" Switch Test is ",e.data.switchTest,", so the background-color is ",e.data.switchTest?"green":"red",""),l.Mb(1),l.Dc("innerHtml",e.data.textareademoRequired,l.Vc))},directives:[d.q],styles:[""]}),t=Object(i.b)([Object(c.a)({name:"demo",module:"pages",settings:u})],t),t})();const p=l.lc(h)},pcX1:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return a});var i=function(t){return t.TYPE="type",t.LANGUAGE="language",t.SEARCH_TEXT="search_text",t.SORT_ATTR="sort_attr",t.SORT_DIR="sort_dir",t.PAGE_SIZE="page_size",t.PAGE="page",t.STATUS="status",t.MARKETPLACE="marketplace",t.PROPERTIES="property_custom_filter",t.WAITING_USERS="waiting_users",t.ENROLLMENTS="enrollments",t.E_SIGNATURE="has_esignature_enabled",t.SKILLS="skill_codes",t.ILT_SESSIONS_WAITING_LIST="session_waiting_users",t.ILT_SESSIONS_OPTIONS="notEnrolledInSessions",t}({}),s=function(t){return t.SESSIONS="sessions",t.WAITING_LIST="waiting_list",t.ENROLLEMENTS="enrollments",t.SEATS="seats",t.REPORTS="reports",t}({}),a=function(t){return t.COURSES="courses-tab",t.ADDITIONAL_FIELDS="additional-fields-tab",t.ENROLLMENT_ADDITIONAL_FIELDS="enrollment-additional-fields-tab",t}({})},ppmK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let s=(()=>{class t{isDemo(e){return{type:t.IS_DEMO,payload:{isDemoPage:e}}}init(e){return{type:t.INIT,payload:{initParams:e}}}initPageWithNewRender(e){return{type:t.INIT_PAGE_WITH_NEW_RENDER,payload:{initParams:e}}}loadDataSucces(e){return{type:t.LOAD_DATA_SUCCESS,payload:{data:e}}}loadDataReject(e){return{type:t.LOAD_DATA_REJECT,payload:{status:"error",errorMsg:e}}}initDemoPage(e){return{type:t.INIT_DEMO_PAGE,payload:{initParams:e}}}}return t.IS_DEMO="[PagesRenderer] Set if you land in demo page",t.INIT="[PagesRenderer] Init widget page",t.INIT_PAGE_WITH_NEW_RENDER="[PagesRenderer] Init widget page with new render",t.INIT_DEMO_PAGE="[PagesRenderer] Load widget demo data",t.LOAD_DATA_SUCCESS="[PagesRenderer] Load widget page data",t.LOAD_DATA_REJECT="[PagesRenderer] Failed loading widget page data",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Zb({token:t,factory:t.\u0275fac}),t})()},qI0D:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return o}),n.d(e,"d",function(){return r});var i=function(t){return t[t.WIDGET="widget"]="WIDGET",t[t.HTML="html"]="HTML",t[t.EXTERNAL="external"]="EXTERNAL",t[t.BUILTIN="built_in"]="BUILTIN",t}({}),s=function(t){return t[t.NOT_INITIALIZED="not_initialized"]="NOT_INITIALIZED",t[t.INITIALIZING="initializing"]="INITIALIZING",t[t.INITIALIZED="initialized"]="INITIALIZED",t[t.REJECTED="rejected"]="REJECTED",t}({}),a=function(t){return t[t.NOT_INITIALIZED="not_initialized"]="NOT_INITIALIZED",t[t.INITIALIZING="initializing"]="INITIALIZING",t[t.INITIALIZED="initialized"]="INITIALIZED",t[t.UPDATED="updated"]="UPDATED",t[t.REQUEST_UPDATE="REQUEST_UPDATE"]="REQUEST_UPDATE",t[t.UNCHANGED="unchanged"]="UNCHANGED",t[t.REJECTED="rejected"]="REJECTED",t[t.RENAMED="renamed"]="RENAMED",t}({}),o=function(t){return t[t.ONE_THIRD_COLUMNS="4_4_4"]="ONE_THIRD_COLUMNS",t[t.ONE_TO_TWO_THIRDS="4_8"]="ONE_TO_TWO_THIRDS",t[t.TWO_TO_ONE_THIRDS="8_4"]="TWO_TO_ONE_THIRDS",t[t.HALF_HALF_COLUMNS="6_6"]="HALF_HALF_COLUMNS",t[t.FULL_ROW="12"]="FULL_ROW",t}({}),r=function(t){return t[t.ONE_THIRD=4]="ONE_THIRD",t[t.TWO_THIRDS=8]="TWO_THIRDS",t[t.HALF_COLUMNS=6]="HALF_COLUMNS",t[t.FULL_ROW=12]="FULL_ROW",t}({})},qVav:function(t,e,n){"use strict";n.r(e),n.d(e,"PagesModule",function(){return Y});var i=n("ofXK"),s=n("tyNb"),a=n("tfGn"),o=n("zanj"),r=n("b74N"),c=n("ah4f"),l=n("fXoL"),d=n("l7P3"),g=n("ppmK"),u=n("BVXN"),h=n("sTJ6");let p=(()=>{class t{constructor(t,e,n){this.store=t,this.actions=e,this.route=n;const i={};this.store.dispatch(this.actions.isDemo(!0)),this.routeSubscriber=this.route.params.subscribe(t=>{i.id=t.id_demo||null,this.store.dispatch(this.actions.initDemoPage(i))})}ngOnInit(){}ngOnDestroy(){this.routeSubscriber.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.dc(d.d),l.dc(g.a),l.dc(s.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["pages-demo-render"]],decls:2,vars:0,template:function(t,e){1&t&&(l.ec(0,"fake-data-warning-message"),l.ec(1,"widget-render-old"))},directives:[u.a,h.a],encapsulation:2}),t})();var m=n("fn6i"),_=n("ich5"),b=n("XNiG"),f=n("3Pt+"),w=n("Y9qQ"),C=n("jx+i"),O=n("PEGs"),v=n("/hE/");function M(t,e){if(1&t){const t=l.kc();l.jc(0,"div",8),l.jc(1,"radio",9),l.rc("OnChange",function(){l.Uc(t);const n=e.index;return l.vc().goToWidgetSettings(n)}),l.ic(),l.ic()}if(2&t){const t=e.$implicit,n=e.index,i=l.vc();l.Mb(1),l.Dc("inputFormControl",i.selectedWidgetType)("label",t.config.heading)("name",t.config.name)("subtitle",t.config.description)("checked",1==n)("value",t.config.name)}}const y=function(t){return{hidden:t}};let P=(()=>{class t{constructor(t,e,n){this.backendService=t,this.widgetSettingsDependenciesService=e,this.cdr=n,this.selectedWidgetType=new f.e("mycalendar"),this.widgetsListInit=m.b,this.widgetsList=[],this.widgetSettingsView=!1}ngOnInit(){this.widgetsListInit.map(t=>{this.widgetsList.push(new t(this.widgetSettingsDependenciesService))}),this.config=this.widgetsList[0].config.params,this.formValidator=this.widgetsList[0].formValidator}ngOnChanges(){this.cdr.markForCheck(),this.cdr.detectChanges()}ngAfterViewInit(){let t=this.form.valid;this.formSubscription=this.form.changes.subscribe(()=>{this.form.valid!==t&&(t=this.form.valid,this.form.setDisabled("submit",!t),this.cdr.markForCheck(),this.cdr.detectChanges())}),this.form.setDisabled("submit",!0)}ngOnDestroy(){this.formSubscription.unsubscribe()}goToWidgetSettings(t){if(this.widgetsList[t].asyncSettings){const e=new b.a;this.widgetsList[t].asyncSettings(e),e.subscribe(t=>{this.updateWithAsyncValues(t,e)}),this.formValidator=this.widgetsList[t].formValidator}else this.formValidator=this.widgetsList[t].formValidator,this.config=this.widgetsList[t].config.params,this.widgetSettingsView=!0,this.form.setDisabled("submit",!0),this.cdr.markForCheck(),this.cdr.detectChanges()}updateWithAsyncValues(t,e){this.config=t.params,this.widgetSettingsView=!0,this.form.setDisabled("submit",!0),this.cdr.markForCheck(),this.cdr.detectChanges(),e.unsubscribe()}backToWidgetSelection(){this.widgetSettingsView=!1,this.form.setDisabled("submit",!1)}submit(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(w.a),l.dc(C.a),l.dc(l.i))},t.\u0275cmp=l.Xb({type:t,selectors:[["pages-demo-settings"]],viewQuery:function(t,e){if(1&t&&l.md(_.a,1),2&t){let t;l.Qc(t=l.sc())&&(e.form=t.first)}},features:[l.Kb],decls:29,vars:25,consts:[[1,"mdl-wrapper"],[1,"mdl-grid"],[1,"mdl-cell","mdl-cell--12-col",3,"ngClass"],["style","margin-bottom: 10px;",4,"ngFor","ngForOf"],[3,"ngClass","config","formValidator"],["form","dynamicForm"],[3,"type","text","state"],[3,"type","text","state","click"],[2,"margin-bottom","10px"],[3,"inputFormControl","label","name","subtitle","checked","value","OnChange"]],template:function(t,e){if(1&t&&(l.jc(0,"div",0),l.jc(1,"div",1),l.jc(2,"div",2),l.jc(3,"h3"),l.fd(4,"Widgets list"),l.ic(),l.dd(5,M,2,6,"div",3),l.ic(),l.jc(6,"div",2),l.ec(7,"dynamic-form",4,5),l.ec(9,"basic-button",6),l.jc(10,"basic-button",7),l.rc("click",function(){return e.backToWidgetSelection()}),l.ic(),l.ic(),l.ec(11,"br"),l.ec(12,"hr"),l.ec(13,"br"),l.jc(14,"div",2),l.jc(15,"h3"),l.fd(16,"Form data and validity"),l.ic(),l.jc(17,"div"),l.jc(18,"p"),l.fd(19,"form.valid state"),l.ic(),l.jc(20,"pre"),l.jc(21,"code"),l.fd(22),l.ic(),l.ic(),l.jc(23,"p"),l.fd(24,"form.value datas"),l.ic(),l.jc(25,"pre"),l.jc(26,"code"),l.fd(27),l.wc(28,"json"),l.ic(),l.ic(),l.ic(),l.ic(),l.ic(),l.ic()),2&t){const t=l.Rc(8);l.Mb(2),l.Dc("ngClass",l.Ic(17,y,e.widgetSettingsView)),l.Mb(3),l.Dc("ngForOf",e.widgetsList),l.Mb(1),l.Dc("ngClass",l.Ic(19,y,!e.widgetSettingsView)),l.Mb(1),l.Dc("ngClass",l.Ic(21,y,!e.widgetSettingsView))("config",e.config)("formValidator",e.formValidator),l.Mb(2),l.Dc("type","submit")("text","Submit")("state","normal"),l.Mb(1),l.Dc("type","delete")("text","Indietro")("state","delete"),l.Mb(4),l.Dc("ngClass",l.Ic(23,y,!e.widgetSettingsView)),l.Mb(8),l.gd(t.valid),l.Mb(5),l.gd(l.xc(28,15,t.value))}},directives:[i.n,i.o,_.a,O.a,v.a],pipes:[i.h],styles:["p[_ngcontent-%COMP%] {\n            margin: 10px 0 5px;\n        }\n        pre[_ngcontent-%COMP%] {\n            overflow-x: auto;\n            overflow-y: hidden;\n        }\n        pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%] {\n            font-family: monospace;\n        }"]}),t})();var S=n("RyVW"),I=n("V3DN"),x=n("d+dA"),E=n("9cLA"),T=n("LC/E"),D=n("nsn+"),k=n("jhN1"),A=n("35q8"),L=n("+sIT"),j=n("KFId"),N=n("He4l");function R(t,e){1&t&&l.ec(0,"dynamic-widget-page")}function F(t,e){if(1&t&&(l.hc(0),l.ec(1,"iframe",2),l.gc()),2&t){const t=l.vc();l.Mb(1),l.cd("height",t.iframeHeight),l.Dc("src",t.iframeUrl,l.Wc)}}let U=(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l){this.store=t,this.pagesRendererActions=e,this.route=n,this.cdRef=i,this.router=s,this.sanitizer=a,this.pageService=o,this.docLayoutService=r,this.backend=c,this.app7020contribute=l,this.iframeHeight="inherit",this.pageData={};const d={};this.store.dispatch(this.pagesRendererActions.isDemo(!1)),this.routeSubscriber=this.route.params.subscribe(t=>{d.id=t.id||null,this.store.dispatch(this.pagesRendererActions.initPageWithNewRender(d))})}ngOnInit(){this.reduxListener()}ngOnDestroy(){this.routeSubscriber.unsubscribe()}reduxListener(){this.reduxSubscriber=this.store.select(T.b).subscribe(t=>{switch(this.currentState=t,this.currentState.status){case"PAGE_DATA_LOADED":this.pageData=this.currentState.customPageData;const t=this.currentState.customPageData.settings.filter(t=>"general"===t.id);t[0]&&t[0].data&&this.extendBreadcrumbs(t[0].data.show_contribute_button,t[0].data.show_ask_the_expert_button,t[0].data.show_share_this_view_button),this.iframeUrl=this.getPageUrl(this.pageData.settings),this.iframeHeight=this.getIframeHeight(this.pageData.settings);break;case"DEMO_DATA_LOADED":case"REQUEST_PREVIEW_PAGE":this.pageData=this.currentState.customPageData;break;case"API_ERROR":this.router.navigate(403===this.currentState.errorMsg.status?["/unauthorized"]:["home"],I.b);break;default:return}})}getPageUrl(t){const e=this.getPageSetting(t,"signed_url");if(e){const t=!D.a.checkUrl(e);return this.sanitizer.bypassSecurityTrustResourceUrl(t?"":e)}const n=this.getPageSetting(t,"url");if(n){const t=!D.a.checkUrl(n);return this.sanitizer.bypassSecurityTrustResourceUrl(t?"":n)}return null}getIframeHeight(t){return`${this.getPageSetting(t,"iframe_height")}px`||"inherit"}getPageSetting(t,e){if(t&&t.length>0)for(const n of t)if("general"===n.id&&n.hasOwnProperty("data")&&n.data.hasOwnProperty(e))return n.data[e];return null}externalPageInIframe(){return!!this.iframeUrl&&"external"===this.pageData.type}extendBreadcrumbs(t=!1,e=!1,n=!1){let i=[];x.b.getInstance().isPluginActive("Share7020App")&&(t&&(i=[this.app7020contribute.contributeActionButton]),e&&(i=[...i,Object(E.a)(this.pageService)]));const s={singleLink:document.location};n&&(i=[...i,Object(E.b)(this.pageService,this.backend,this.router,s)]),this.docLayoutService.actionButtons.setActionButtons(i)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(d.d),l.dc(g.a),l.dc(s.a),l.dc(l.i),l.dc(s.h),l.dc(k.b),l.dc(A.a),l.dc(L.a),l.dc(w.a),l.dc(j.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["ng-component"]],decls:3,vars:2,consts:[[1,"pages-widget-page"],[4,"ngIf"],["width","100%",1,"external-page-iframe",3,"src"]],template:function(t,e){1&t&&(l.jc(0,"div",0),l.dd(1,R,1,0,"dynamic-widget-page",1),l.dd(2,F,2,3,"ng-container",1),l.ic()),2&t&&(l.Mb(1),l.Dc("ngIf",!e.externalPageInIframe()),l.Mb(1),l.Dc("ngIf",e.externalPageInIframe()))},directives:[i.p,N.a],styles:[".external-page-iframe[_ngcontent-%COMP%] {\n            margin-top: -25px;\n            height: calc(100vh - 90px);\n        }\n\n        \n        @media all and (-ms-high-contrast:none) {\n            *[_ngcontent-%COMP%]::-ms-backdrop, .external-page-iframe[_ngcontent-%COMP%] {\n                height: calc(100vh - 93px);\n            }\n        }"]}),t})();var z=n("dRcD"),q=n("ZKH7"),B=n("JByI");function V(t,e){if(1&t&&(l.hc(0),l.ec(1,"iframe",2),l.gc()),2&t){const t=l.vc();l.Mb(1),l.cd("height",t.iframeHeight),l.Dc("src",t.iframeUrl,l.Wc)}}const G=[{path:"",canActivateChild:[c.a,S.a],children:[{path:"page-management",loadChildren:()=>Promise.resolve().then(n.bind(null,"xkEZ")).then(t=>t.ManagePagesModule),data:{showFooter:!1}},{path:"menu-management",loadChildren:()=>Promise.resolve().then(n.bind(null,"l8ap")).then(t=>t.ManageMenusModule),data:{showFooter:!1}},{path:"demo",canActivate:[r.a],children:[{path:"",redirectTo:"settings",pathMatch:"full"},{path:"settings",component:P},{path:"widgets",children:[{path:"",redirectTo:"mycalendar",pathMatch:"full"},{path:":id_demo",component:p}]}],data:{showFooter:!1}},{path:"new-render",canActivate:[r.a],children:[{path:":id/:title",component:U}]},{path:":id/:title",component:(()=>{class t{constructor(t,e,n,i,s,a,o,r,c,l){this.store=t,this.app7020Contribute=e,this.pagesRendererActions=n,this.route=i,this.cdRef=s,this.router=a,this.sanitizer=o,this.pageService=r,this.docLayoutService=c,this.backend=l,this.iframeHeight="inherit",this.pageData={};const d={};this.store.dispatch(this.pagesRendererActions.isDemo(!1)),this.routeSubscriber=this.route.params.subscribe(t=>{d.id=t.id||null,this.store.dispatch(this.pagesRendererActions.init(d))})}ngOnInit(){this.reduxListener()}ngOnDestroy(){this.routeSubscriber.unsubscribe(),this.docLayoutService.actionButtons.clearActionButtons()}reduxListener(){this.reduxSubscriber=this.store.select(T.b).subscribe(t=>{switch(this.currentState=t,this.currentState.status){case"PAGE_DATA_LOADED":this.pageData=this.currentState.customPageData;const t=this.currentState.customPageData.settings.filter(t=>"general"===t.id);(this.currentState.customPageData.names.values&&Object.keys(this.currentState.customPageData.names.values).length>0||Boolean(this.currentState.customPageData.names.value))&&(setTimeout(()=>{this.docLayoutService.header.showTitleBar({title:this.currentState.customPageData.names,subtitle:this.currentState.customPageData.descriptions,icon:this.currentState.customPageData.icon})},200),this.isHomePage(this.currentState.customPageData.id)?this.docLayoutService.breadcrumbs.setHierarchicalBreadcrumbs([]):this.docLayoutService.breadcrumbs.setHierarchicalBreadcrumbs([{label:Object(q.b)(this.router.url)||Object(B.a)(this.currentState.customPageData.names),href:this.router.url}])),t[0]&&t[0].data&&this.extendBreadcrumbs(t[0].data.show_contribute_button,t[0].data.show_ask_the_expert_button,t[0].data.show_share_this_view_button),this.iframeUrl=this.getPageUrl(this.pageData.settings),this.iframeHeight=this.getIframeHeight(this.pageData.settings);break;case"DEMO_DATA_LOADED":case"REQUEST_PREVIEW_PAGE":this.pageData=this.currentState.customPageData;break;case"API_ERROR":this.router.navigate(403===this.currentState.errorMsg.status?["/unauthorized"]:["home"],I.b);break;default:return}})}getPageUrl(t){const e=this.getPageSetting(t,"signed_url");if(e){const t=!D.a.checkUrl(e);return this.sanitizer.bypassSecurityTrustResourceUrl(t?"":e)}const n=this.getPageSetting(t,"url");if(n){const t=!D.a.checkUrl(n);return this.sanitizer.bypassSecurityTrustResourceUrl(t?"":n)}return null}getIframeHeight(t){return`${this.getPageSetting(t,"iframe_height")}px`||"inherit"}getPageSetting(t,e){if(t&&t.length>0)for(const n of t)if("general"===n.id&&n.hasOwnProperty("data")&&n.data.hasOwnProperty(e))return n.data[e];return null}externalPageInIframe(){return!!this.iframeUrl&&"external"===this.pageData.type}isHomePage(t){return z.a.getInstance().menu_items[0].id===t}extendBreadcrumbs(t=!1,e=!1,n=!1){let i=[];x.b.getInstance().isPluginActive("Share7020App")&&(t&&(i=[this.app7020Contribute.contributeActionButton]),e&&(i=[...i,Object(E.a)(this.pageService)]));const s={singleLink:document.location};n&&(i=[...i,Object(E.b)(this.pageService,this.backend,this.router,s)]),this.docLayoutService.actionButtons.setActionButtons(i)}}return t.\u0275fac=function(e){return new(e||t)(l.dc(d.d),l.dc(j.a),l.dc(g.a),l.dc(s.a),l.dc(l.i),l.dc(s.h),l.dc(k.b),l.dc(A.a),l.dc(L.a),l.dc(w.a))},t.\u0275cmp=l.Xb({type:t,selectors:[["ng-component"]],hostVars:1,hostBindings:function(t,e){2&t&&l.mc("id","doc-page-"+(null==e.pageData?null:e.pageData.id))},decls:3,vars:1,consts:[[1,"pages-widget-page"],[4,"ngIf"],["width","100%",1,"external-page-iframe",3,"src"]],template:function(t,e){1&t&&(l.jc(0,"div",0),l.ec(1,"widget-render-old"),l.dd(2,V,2,3,"ng-container",1),l.ic()),2&t&&(l.Mb(2),l.Dc("ngIf",e.externalPageInIframe()))},directives:[h.a,i.p],styles:[".pages-widget-page[_ngcontent-%COMP%] {\n            padding-top: 1.5rem;\n            padding-top: var(--hyd-spacing-md);\n        }\n\n        .external-page-iframe[_ngcontent-%COMP%] {\n            margin-top: -25px;\n            height: calc(100vh - 90px);\n        }\n\n        \n        @media all and (-ms-high-contrast:none) {\n            *[_ngcontent-%COMP%]::-ms-backdrop, .external-page-iframe[_ngcontent-%COMP%] {\n                height: calc(100vh - 93px);\n            }\n        }"]}),t})()}]}];var W=n("l8ap"),H=n("xkEZ"),$=n("F+9e"),Q=n("mqip");let J=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.bc({type:t}),t.\u0275inj=l.ac({imports:[[i.c,a.a,$.a,Q.a]]}),t})(),Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.bc({type:t}),t.\u0275inj=l.ac({providers:[],imports:[[i.c,W.ManageMenusModule.forChildren(),H.ManagePagesModule.forChildren(),a.a,J,o.a.forChildren(),s.l.forChild(G)]]}),t})()},qqVP:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a});var i=function(t){return t.ASSET="coach_share",t.COURSE="learning_object",t.CHANNEL="channel",t}({}),s=function(t){return t[t.QUESTION=1]="QUESTION",t[t.COMMENT=2]="COMMENT",t}({}),a=function(t){return t[t.LIKE=1]="LIKE",t[t.DISLIKE=2]="DISLIKE",t}({})},rL2y:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("ofXK"),s=n("9j9i"),a=n("nUpK"),o=n("tfGn"),r=n("6fYS"),c=n("bg/f"),l=n("miDY"),d=n("m06o"),g=n("fXoL");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.bc({type:t}),t.\u0275inj=g.ac({providers:[s.a,l.a,d.a],imports:[[i.c,o.a,a.Cb,a.Dc,r.o,a.cd,a.fd,c.a,a.f,a.G,a.pc,a.x]]}),t})()},rg0p:function(t,e,n){"use strict";n.d(e,"l",function(){return N}),n.d(e,"k",function(){return R}),n.d(e,"m",function(){return F});var i=n("mrSG"),s=n("d+dA"),a=n("gvJE"),o=n("bUIS"),r=n("r0xE"),c=n("9b3o"),l=n("UaVD"),d=n("u1MY"),g=n("la9Z"),u=n("LC/E"),h=n("8lF4"),p=n("fXoL"),m=n("l7P3"),_=n("7Zvt"),b=n("JA8w"),f=n("+s/G"),w=n("+sIT"),C=n("ofXK"),O=n("u9ID"),v=n("lFx+"),M=n("QTf/");n.d(e,"g",function(){return v.a});var y=n("Wb/8");n.d(e,"d",function(){return y.a});var P=n("O/UX");n.d(e,"a",function(){return P.a});var S=n("hU5d");n.d(e,"b",function(){return S.a});var I=n("+uwM");n.d(e,"c",function(){return I.a});var x=n("Ycus");n.d(e,"e",function(){return x.a});var E=n("SJmp");n.d(e,"f",function(){return E.a});var T=n("hcsV");n.d(e,"h",function(){return T.a});var D=n("nOmI");n.d(e,"i",function(){return D.a});var k=n("oQEw");function A(t,e){if(1&t&&p.ec(0,"widget-title",4),2&t){const t=p.vc();p.Dc("widgetTitle",t.widgetTitle)}}function L(t,e){if(1&t&&p.ec(0,"activities-stream-item",5),2&t){const t=e.$implicit,n=p.vc();p.Dc("activity",t)("settings",n.settingsParams())}}function j(t,e){1&t&&p.ec(0,"widget-spinner")}n.d(e,"j",function(){return k.a});class N extends r.a{constructor(){super(),this.config=this.initConfig({name:"activitiesstream",preview:"/public/images/pages/activity-stream-widget-preview.gif",heading:a.a.t("admin_webpages","Activities Stream"),description:a.a.t("admin_webpages","Show what's happening around the user"),params:[{name:"title",type:"textMultilang",label:a.a.t("standard","Title"),legend:a.a.t("dashboard","Leave blank to hide the title"),settings:{showCounter:!0,maxLength:255}},{name:"options",title:a.a.t("admin","Options"),subtitle:a.a.t("admin_webpages","Activate and deactivate the following items by switching the related toggle"),type:"group",subFields:[{name:"showCourseAndLPActivity",type:"switch",label:a.a.t("admin_webpages","Show activity from courses and learning plan"),defaultValue:!0},{name:"allowComments",type:"switch",label:a.a.t("app7020","Allow comments"),defaultValue:!0},{name:"allowAskTheExpertButton",type:"switch",label:a.a.t("admin_webpages",'Allow "Ask the expert" button'),defaultValue:!0}]}]})}}let R=(()=>{let t=class extends o.a{constructor(t,e,n,i,s,a,o,r){super(),this.store=t,this.actions=e,this.scrollMonitor=n,this.elRef=i,this.translationService=s,this.changeDetectorRef=a,this.widgetRenderService=o,this.docLayoutService=r,this.data={id:"",activities:[],type:"",settings:{allowComments:!0,allowAskTheExpertButton:!0,allowShareButton:!0,showCourseAndLPActivity:!0}},this.state={extradata:{asset:{count:0,current_page:0,has_more_data:!0,lastId:0},enrollment:{count:0,current_page:0,has_more_data:!0,lastId:0,id_user:0},question:{count:0,current_page:0,has_more_data:!0,lastId:0}},numberOfActivitiesToShow:0,streamLoadingData:!0}}ngOnInit(){void 0!==this.store&&this.dispatchStreamLoading({},!0),this.reduxListener();const t=this.translationService.currentLang,e=s.b.getInstance().default_language;this.setWidgetTitle(t,e)}ngOnDestroy(){this.reduxSubscriber.unsubscribe(),this.scrollMonitorSubscriber.unsubscribe(),this.scrollMonitor.unregisterWidget(this.elRef)}ngAfterViewInit(){this.scrollMonitorSubscriber=this.scrollMonitor.registerWidget(this.elRef,2e3).subscribe(t=>{!this.state.streamLoadingData&&t.isBottomCloseEnoughToTheViewport&&(this.setState({streamLoadingData:!0,extradata:this.state.extradata}),this.dispatchStreamLoading({},!1),this.changeDetectorRef.markForCheck())})}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(u.c).subscribe(t=>{switch(t.status){case"INIT":case"UPDATE":this.setState({streamLoadingData:!0}),this.changeDetectorRef.markForCheck();break;case"DATA_LOADED":case"DEMO_DATA_LOADED":if(void 0!==this.data.activities)if(Object(d.a)(this.widgetRenderService))for(let s=0;s<t.customPageData.activities.length;++s)this.data.activities.push(t.customPageData.activities[s]);else this.data.activities=[...this.data.activities,...t.customPageData.activities],this.data.activities=this.data.activities.filter((t,e,n)=>e===n.findIndex(e=>e.id===t.id&&e.type===t.type));else this.mergeData(t.customPageData);this.setState({streamLoadingData:!1,extradata:t.extradata}),this.changeDetectorRef.markForCheck();break;case"SUBMITTED_CONTENT_LOADED":const e=t.customPageData.lastContentSubmitted.id_asset,n=2===t.customPageData.lastContentSubmitted.data.type?"comments":"questions",i=t.customPageData.activities.filter(t=>t.id===e)[0];this.data.activities.filter(t=>t.id===e).map(t=>(t[n]=void 0!==i?i[n]:t[n],t)),this.changeDetectorRef.markForCheck();break;case"LOAD_DATA_BY_REMOVING_DELETED_QUESTION":this.docLayoutService.toast.showToast({message:a.a.t("app7020","The question has been successfully deleted"),type:"success"}),this.data.activities=this.data.activities.filter(e=>e.type!==l.a.question||e.id!==t.lastQuestionIdDeleted).map(e=>(e.questions=e.questions.filter(e=>e.id!==t.lastQuestionIdDeleted),e)),this.changeDetectorRef.detectChanges();break;case"LOAD_DATA_BY_UPDATING_EDITED_QUESTION":this.data.activities=this.data.activities.map(e=>(e.type===l.a.asset&&e.questions.map(e=>(e.id===t.lastQuestionEdited.id&&(e.content=t.lastQuestionEdited.title),e)),e)),this.changeDetectorRef.detectChanges();break;case"API_ERROR":this.setState({streamLoadingData:!1})}}))}setState(t){this.state=Object.assign(Object.assign({},this.state),t)}dispatchStreamLoading(t,e=!1){e?this.store.dispatch(this.actions.init(Object.assign(Object.assign({},t),{extradata:this.getEnpointExtradata()}))):this.data.activities.length!==this.state.numberOfActivitiesToShow?(this.setState({numberOfActivitiesToShow:this.data.activities.length}),this.store.dispatch(this.actions.update(Object.assign(Object.assign({},t),{extradata:this.state.extradata})))):this.setState({streamLoadingData:!1})}getEnpointExtradata(){let t={};return s.b.getInstance().isPluginActive("Share7020App")&&(t=Object.assign(Object.assign({},t),{asset:{current_page:1},question:{current_page:1}})),this.data.settings.showCourseAndLPActivity&&(t=Object.assign(Object.assign({},t),{enrollment:{current_page:this.data.settings.showCourseAndLPActivity?1:0}})),t}trackById(t,e){return e.id}isLoading(){return this.state.streamLoadingData}settingsParams(){return Object.assign(Object.assign({},this.data.settings),{widgetId:this.data.id})}};return t.\u0275fac=function(e){return new(e||t)(p.dc(m.d),p.dc(_.a),p.dc(c.a),p.dc(p.o),p.dc(b.a),p.dc(p.i),p.dc(f.a),p.dc(w.a))},t.\u0275cmp=p.Xb({type:t,selectors:[["activities-stream-widget"]],features:[p.Lb([c.a]),p.Jb],decls:4,vars:4,consts:[[1,"root"],[3,"widgetTitle",4,"ngIf"],["class","activity-container",3,"activity","settings",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"widgetTitle"],[1,"activity-container",3,"activity","settings"]],template:function(t,e){1&t&&(p.jc(0,"div",0),p.dd(1,A,1,1,"widget-title",1),p.dd(2,L,1,2,"activities-stream-item",2),p.dd(3,j,1,0,"widget-spinner",3),p.ic()),2&t&&(p.Mb(1),p.Dc("ngIf",e.widgetTitle),p.Mb(1),p.Dc("ngForOf",e.data.activities)("ngForTrackBy",e.trackById),p.Mb(1),p.Dc("ngIf",e.isLoading()))},directives:[C.p,C.o,O.a,v.a,M.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.root[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:1rem;width:100%}"],changeDetection:0}),t=Object(i.b)([Object(h.a)({name:"activitiesstream",module:"pages",settings:N})],t),t})();const F=g},rs4A:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("nUpK"),s=n("fXoL"),a=n("ofXK");const o=["*"];let r=(()=>{class t{constructor(){this.isDarkButton=!0}ngOnInit(){this.isDarkButton=Object(i.Dd)(this.backgroundColor)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xb({type:t,selectors:[["custom-content-box-button"]],inputs:{backgroundColor:"backgroundColor",color:"color"},ngContentSelectors:o,decls:2,vars:5,consts:[[1,"mdl-button","mdl-js-button","button-text",3,"uiKeyboardFocusable","ngClass"]],template:function(t,e){1&t&&(s.Cc(),s.jc(0,"button",0),s.Bc(1),s.ic()),2&t&&(s.cd("background-color",e.backgroundColor)("color",e.color),s.Dc("ngClass",e.isDarkButton?"light-ring":"dark-ring"))},directives:[i.hc,a.n],styles:['custom-content-box-button button.dark-ring:before{background-color:var(--ui-color-interaction-hover-dark)}custom-content-box-button button.dark-ring:after{border:1px solid var(--ui-color-border-accessibility-default)}custom-content-box-button button.light-ring:before{background-color:var(--ui-color-interaction-hover-light)}custom-content-box-button button.light-ring:after{border:1px solid var(--ui-color-border-accessibility-negative)}custom-content-box-button button:before{top:0;left:0;width:100%;height:100%}custom-content-box-button button:after,custom-content-box-button button:before{content:"";display:block;position:absolute;opacity:0;will-change:opacity;transition:opacity var(--ui-motion-duration-short) var(--ui-motion-easing-entering)}custom-content-box-button button:after{top:2px;left:2px;width:calc(100% - 4px);height:calc(100% - 4px);box-sizing:border-box;border-radius:var(--ui-radius-default)}@media (hover:hover){custom-content-box-button button:hover{box-shadow:var(--ui-shadow-lg) var(--ui-color-layout-shadow);transition:box-shadow var(--ui-motion-duration-micro) var(--ui-motion-easing-leaving)}custom-content-box-button button:hover:before{opacity:1;transition:opacity var(--ui-motion-duration-micro) var(--ui-motion-easing-leaving)}}.ui-keyboard-navigation custom-content-box-button button:focus{box-shadow:var(--ui-shadow-lg) var(--ui-color-layout-shadow);transition:box-shadow var(--ui-motion-duration-micro) var(--ui-motion-easing-leaving)}.ui-keyboard-navigation custom-content-box-button button:focus:after,.ui-keyboard-navigation custom-content-box-button button:focus:before{opacity:1;transition:opacity var(--ui-motion-duration-micro) var(--ui-motion-easing-leaving)}'],encapsulation:2,changeDetection:0}),t})()},s5cJ:function(t){t.exports=JSON.parse('{"data":{"items":[{"id":1,"user_id":12596,"name":"Accordo Stato Regioni","description":"<div>Il corso di 4 ore conforme allo standard &egrave; gi&agrave; disponibile e rispetta i seguenti requisiti:\\n<div>\\n<ul>\\n<li>Contenuti realizzati da Ceper (Centro per la Prevenzione dei Rischi)</li>\\n<li>Sviluppato secondo i pi&ugrave; elevati standard multimediali</li>\\n<li>Contenuti articolati in unit&agrave; semplici, cos&igrave; da agevolarne la fruizione</li>\\n<li>Verifica delle abilit&agrave; informatiche e linguistiche (prerequisiti)</li>\\n<li>Spunti didattici per lo sviluppo di comunit&agrave; di apprendimento</li>\\n<li>Molteplici momenti di verifica, interattivi e con sistema di feedback</li>\\n</ul>\\n</div>\\n</div>","type":"elearning","status":"in-progress","lang_code":"it","code":null,"course_begin_date":null,"enroll_begin_date":"2016-11-22 09:30:03","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":3020399,"score":0,"enrollment_fields":null,"waiting":"0","url":"/learn/course/1/accordo-stato-regioni","rating":null,"can_enter":true,"duration":14400,"level":"instructor","slug":"accordo-stato-regioni","is_new":false,"image_url":null,"soft_deadline":false},{"id":7,"user_id":12596,"name":"Business English - Telephone skills","description":"Questo corso mira a fornire gli elementi non solo linguistici, ma anche metodologici, per affrontare una conversazione telefonica in lingua inglese. Recepire correttamente un messaggio telefonico e saperlo trasferire ad altri, sono solo alcuni dei temi trattati in questo corso.","type":"elearning","status":"in-progress","lang_code":"it","code":null,"course_begin_date":null,"enroll_begin_date":"2013-04-17 13:24:53","course_end_date":"2017-08-31 13:24:53","enroll_end_date":null,"course_complete_date":null,"total_time":3020399,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/course/7/business-english-telephone-skills","rating":null,"can_enter":true,"duration":3600,"level":"learner","slug":"business-english-telephone-skills","is_new":false,"image_url":null,"soft_deadline":false},{"id":15,"user_id":12596,"name":"Docebo - Google APP Integrations","description":"<p>Docebo - Google APP Integrations</p>","type":"elearning","status":"completed","lang_code":"it","code":null,"course_begin_date":null,"enroll_begin_date":"2013-09-18 11:58:53","course_end_date":"2017-09-01 13:24:53","enroll_end_date":"2015-04-28 07:56:34","course_complete_date":"2015-04-28 07:56:34","total_time":3020399,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/course/15/docebo-google-app-integrations","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"docebo-google-app-integrations","is_new":false,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_docebosaas_com/assets/courselogo/original/152b84d6f60f8de1fbdfa568ed72b76113d12406.jpg","soft_deadline":false},{"id":20,"user_id":12596,"name":"Getting started with your Docebo LMS","description":"<p><span style=\\"font-family:arial, sans, sans-serif;line-height:normal;\\">Discover the basics within the Docebo Learning Management System - An overview of the New Docebo. Discover how to customize your Docebo platform: branding, look and feel, layout and colors.</span></p>","type":"elearning","status":"completed","lang_code":"en","code":"1","course_begin_date":null,"enroll_begin_date":"2014-01-07 08:02:05","course_end_date":"2017-10-31 13:24:53","enroll_end_date":"2015-04-28 07:54:20","course_complete_date":"2015-04-28 07:54:20","total_time":3020399,"score":80,"enrollment_fields":null,"waiting":"0","url":"/learn/course/20/getting-started-with-your-docebo-lms","rating":null,"can_enter":true,"duration":300,"level":"instructor","slug":"getting-started-with-your-docebo-lms","is_new":false,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_docebosaas_com/assets/courselogo/original/152b84d6f60f8de1fbdfa568ed72b76113d12406.jpg","soft_deadline":false},{"id":54,"user_id":12596,"name":"SF webinar 9/17/2015 - 9/30/2015","description":"<p>SF webinar 9/17/2015&nbsp;- 9/30/2015</p>","type":"elearning","status":"in-progress","lang_code":"en","code":null,"course_begin_date":null,"enroll_begin_date":"2015-09-18 09:53:01","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":3020399,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/course/54/sf-webinar-9172015-9302015","rating":null,"can_enter":true,"duration":0,"level":"instructor","slug":"sf-webinar-9172015-9302015","is_new":false,"image_url":null,"soft_deadline":false},{"id":56,"user_id":12596,"name":"Single Sign On Services","description":"<p>Single Sign On Services</p>","type":"elearning","status":"in-progress","lang_code":"en","code":null,"course_begin_date":null,"enroll_begin_date":"2016-08-01 13:53:23","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":15,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/course/56/single-sign-on-services","rating":null,"can_enter":true,"duration":0,"level":"instructor","slug":"single-sign-on-services","is_new":false,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_docebosaas_com/assets/courselogo/original/152b84d6f60f8de1fbdfa568ed72b76113d12406.jpg","soft_deadline":false},{"id":57,"user_id":12596,"name":"APIs","description":"<p>APIs</p>","type":"elearning","status":"in-progress","lang_code":"en","code":null,"course_begin_date":null,"enroll_begin_date":"2016-08-01 13:55:29","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":3020399,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/course/57/apis","rating":null,"can_enter":true,"duration":0,"level":"instructor","slug":"apis","is_new":false,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_docebosaas_com/assets/courselogo/original/152b84d6f60f8de1fbdfa568ed72b76113d12406.jpg","soft_deadline":false},{"id":58,"user_id":12596,"name":"DNA - Sales Onboarding","description":"<p>Onboarding course for new solutions consultants (Inbound and outbound)</p>","type":"elearning","status":"in-progress","lang_code":"en","code":null,"course_begin_date":null,"enroll_begin_date":"2016-06-23 20:47:52","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":3020399,"score":0,"enrollment_fields":null,"waiting":"0","url":"/learn/course/58/dna-sales-onboarding","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"dna-sales-onboarding","is_new":false,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/assets/courselogo/original/424263a13d1f43ed4909f2de846e29ae.jpg","soft_deadline":false},{"id":65,"user_id":12596,"name":"Discover What\'s New in Docebo 6.9","description":"<p>Videos and Information for Docebo 6.9</p>","type":"elearning","status":"in-progress","lang_code":"en","code":"69","course_begin_date":null,"enroll_begin_date":"2016-09-23 17:16:25","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":3020399,"score":0,"enrollment_fields":null,"waiting":"0","url":"/learn/course/65/discover-whats-new-in-docebo-69","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"discover-whats-new-in-docebo-69","is_new":false,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/assets/courselogo/original/2fd35098b2185165017500ba4c92aa7a.jpg","soft_deadline":false},{"id":66,"user_id":12596,"name":"New AICC test course","description":"<p>qwerty</p>","type":"elearning","status":"in-progress","lang_code":"en","code":null,"course_begin_date":null,"enroll_begin_date":"2016-07-26 07:50:26","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":3020399,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/course/66/new-aicc-test-course","rating":null,"can_enter":true,"duration":0,"level":"instructor","slug":"new-aicc-test-course","is_new":false,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/assets/courselogo/original/0fc601937ad87d7bd71e2b2b67670d78.jpg","soft_deadline":false},{"id":73,"user_id":12596,"name":"Welcome Week One","description":"<p>Week one of Docebo onboarding. This week includes:</p>\\n<ul><li>Company and team introduction.</li>\\n<li>Introduction to common tools, procedures and processes.</li>\\n</ul>","type":"elearning","status":"in-progress","lang_code":"en","code":"WTLS101","course_begin_date":null,"enroll_begin_date":"2016-10-03 18:56:49","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":604473,"score":0,"enrollment_fields":null,"waiting":"0","url":"/learn/course/73/welcome-week-one","rating":null,"can_enter":true,"duration":0,"level":"instructor","slug":"welcome-week-one","is_new":false,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_docebosaas_com/assets/courselogo/original/ae9b2ee9ca5dcd102516e0008b720126a8b85716.jpg","soft_deadline":false},{"id":95,"user_id":12596,"name":"Customer Success Initiation","description":"<p>In this course, you will find material relevant to the first four weeks of your CSM onboarding plan. If you do not have an onboarding program, please contact your Team Leader or the Head\xa0of Customer Success.</p>","type":"elearning","status":"enrolled","lang_code":"en","code":"CSM101","course_begin_date":null,"enroll_begin_date":"2017-08-09 13:32:58","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/course/95/customer-success-initiation","rating":null,"can_enter":true,"duration":0,"level":"learner","slug":"customer-success-initiation","is_new":true,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_docebosaas_com/assets/courselogo/original/40241538ef2c66f9eebd643a153d964d4722a273.png","soft_deadline":false},{"id":96,"user_id":12596,"name":"Customer Success Specialization","description":"<p>In this course, you will find material relevant to the following four weeks of your CSM onboarding plan. If you do not have an onboarding program, please contact your Team Leader or the Head\xa0of Customer Success.</p>","type":"elearning","status":"enrolled","lang_code":"en","code":"CSM102","course_begin_date":null,"enroll_begin_date":"2017-08-09 13:32:59","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/course/96/customer-success-specialization","rating":4,"can_enter":true,"duration":0,"level":"learner","slug":"customer-success-specialization","is_new":true,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_docebosaas_com/assets/courselogo/original/5fc2e70cd3efadc7cde37b916b3ddb9fa50dff7f.png","soft_deadline":false},{"id":97,"user_id":12596,"name":"Customer Success self-Actualization","description":"<p>In this course, you will find material relevant to the last four weeks of your CSM onboarding plan. If you do not have an onboarding program, please contact your Team Leader or the Head\xa0of Customer Success.</p>","type":"elearning","status":"enrolled","lang_code":"en","code":"CSM103","course_begin_date":null,"enroll_begin_date":"2017-08-09 13:32:59","course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/course/97/customer-success-self-actualization","rating":5,"can_enter":true,"duration":0,"level":"learner","slug":"customer-success-self-actualization","is_new":true,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_docebosaas_com/assets/courselogo/original/40241538ef2c66f9eebd643a153d964d4722a273.png","soft_deadline":false},{"id":11,"user_id":12596,"name":"Customer Success Management On-boarding","description":"<p>In this learning plan, you will find lots of information about Docebo\'s mission and technology. You will also find information about the meaning of customer success and how we approach it internally. \xa0</p>\\n<p>\xa0</p>","type":"learning_plan","status":"enrolled","code":"CSMLP01","course_begin_date":null,"enroll_begin_date":null,"course_end_date":null,"enroll_end_date":null,"course_complete_date":null,"total_time":null,"score":null,"enrollment_fields":null,"waiting":"0","url":"/learn/lp/11/customer-success-management-on-boarding","rating":null,"can_enter":true,"duration":0,"courses_count":3,"slug":"customer-success-management-on-boarding","is_new":true,"image_url":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_docebosaas_com/assets/courselogo/original/152b84d6f60f8de1fbdfa568ed72b76113d12406.jpg"}],"count":15,"has_more_data":false,"cursor":"dbfeb8ef9e502786b3d3b529549f9137929202ef","current_page":1,"current_page_size":30,"total_page_count":1,"total_count":15}}')},sgCL:function(t){t.exports=JSON.parse('{"data":{"id":45,"code":"T4SK1","names":{"type":"single_value","value":"User Task List Widget","values":[]},"descriptions":null,"icon":null,"built_in":0,"type":"widget","is_public":0,"published":1,"settings":[{"id":"general","name":"General Setting","descriptions":"Manage the page\'s general settings","data":[]}],"rows":[{"id":"55","sequence":"0","is_full_width":"0","is_full_height":"0","content_align":"middle","background":{"type":"color","color":"var(--ui-color-layout-brand)","image_url":null,"video_url":null,"video_fallback_image":null},"layout":"12","is_mobile":false,"columns":[{"sequence":0,"widgets":[{"id":"demo","position":{"row":0,"column":0,"sequence":0},"type":"tasklist","name":{"type":"single_value","value":"widgetName","values":[]},"settings":{"admin":[{"name":"pending_users","label":{"args":{"category":"standard"},"query":"Users pending approval","category":"standard"},"checked":true,"position":1},{"name":"reward_shop_requests","label":{"args":{"category":"standard"},"query":"Reward request from the reward shop","category":"standard"},"checked":true,"position":2},{"name":"ecommerce_transactions","label":{"args":{"category":"standard"},"query":"Transactions from the e-commerce in pending state","category":"standard"},"checked":false,"position":3},{"name":"pending_enrollment_approvals","label":{"args":{"category":"standard"},"query":"Course enrollment approvals","category":"standard"},"checked":false,"position":4},{"name":"assignments_to_evaluate","label":{"args":{"category":"standard"},"query":"Assignment that needs evaluation","category":"standard"},"checked":false,"position":5},{"name":"overdue_courses","label":{"args":{"category":"standard"},"query":"Courses that are overdue","category":"standard"},"checked":false,"position":6}],"expert":[{"name":"review_assets","label":{"args":{"category":"standard"},"query":"Assets to review/approve","category":"standard"},"checked":true,"position":1},{"name":"questions_to_answer","label":{"args":{"category":"standard"},"query":"Questions to answers","category":"standard"},"checked":true,"position":2}],"learner":[{"name":"upcoming_ilt_webinars","label":{"args":{"category":"standard"},"query":"Upcoming Classroom and Webinar Sessions","category":"calendar"},"checked":true,"position":1},{"name":"upcoming_deadline","label":{"args":{"category":"standard"},"query":"Upcoming deadlines","category":"standard"},"checked":true,"position":2},{"name":"assignments_to_check","label":{"args":{"category":"standard"},"query":"Assignments evaluation to check","category":"standard"},"checked":true,"position":3},{"name":"not_started","label":{"args":{"category":"standard"},"query":"Not started Courses & Learning Plans","category":"standard"},"checked":true,"position":4},{"name":"in_progress","label":{"args":{"category":"standard"},"query":"In progress Courses & Learning Plans","category":"standard"},"checked":true,"position":5}],"assignToAll":true,"instructors":[{"name":"upcoming_ilt_webinars","label":{"args":{"category":"standard"},"query":"Upcoming Classroom and Webinar Sessions","category":"calendar"},"checked":true,"position":1},{"name":"test_to_evaluate","label":{"args":{"category":"standard"},"query":"Test to evaluate","category":"standard"},"checked":true,"position":2},{"name":"assignments_to_evaluate","label":{"args":{"category":"standard"},"query":"Assignments to evaluate","category":"standard"},"checked":true,"position":3}],"translationsLocalizableFields":{"name":{"ar":null,"bg":null,"bs":null,"cs":null,"da":null,"de":null,"el":null,"en":"widgetName","es":null,"fa":null,"fi":null,"fr":null,"he":null,"hr":null,"hu":null,"id":null,"it":null,"ja":null,"kk":null,"ko":null,"lt":null,"nl":null,"no":null,"pl":null,"pt":null,"ro":null,"ru":null,"sl":null,"sv":null,"th":null,"tr":null,"uk":null,"zh":null,"pt-br":null,"es-419":null}}}}],"size":12}]}]},"version":"1.0.0","_links":[]}')},u1MY:function(t,e,n){"use strict";function i(t){return t.getIsDemo()}n.d(e,"a",function(){return i})},u95z:function(t){t.exports=JSON.parse('{"badges":{"items":[{"id_badge":24,"id_user":13010,"total_score":100,"badge_icon":"https://picsum.photos/50/?image=96","badge_name":"Lily","badge_description":"<p>You earned it because u work on this widgy</p>","total_badges_count":1},{"id_badge":23,"id_user":13010,"total_score":85,"badge_icon":"https://picsum.photos/50/?image=111&gravity=east","badge_name":"Invitation to watch an asset - 3 users","badge_description":"<p>Invitation to watch an asset - 3 users</p>","total_badges_count":2},{"id_badge":15,"id_user":13010,"total_score":15,"badge_icon":"https://picsum.photos/50/?image=30&gravity=west","badge_name":"User\'s asset viewed for longest duration of time  - 1m","badge_description":"<p>User\'s asset viewed for longest duration of time\xa0 - 1m</p>","total_badges_count":1},{"id_badge":12,"id_user":13010,"total_score":25,"badge_icon":"https://picsum.photos/50/?image=106&gravity=west","badge_name":"User met a goal - user uploaded 3 assets","badge_description":"<p>User met a goal - user uploaded 3 assets</p>","total_badges_count":14},{"id_badge":18,"id_user":13010,"total_score":25,"badge_icon":"https://picsum.photos/50/?image=0","badge_name":"Expert met a goal - expert approves 2 assets","badge_description":"<p>Expert met a goal - expert approves 2 assets</p>","total_badges_count":25},{"id_badge":7,"id_user":13010,"total_score":100,"badge_icon":"https://picsum.photos/50/?image=940","badge_name":"User met a goal - user made a 3 questions (EN)","badge_description":"<p>User met a goal - user made a 3 questions (EN)</p>","total_badges_count":1},{"id_badge":24,"id_user":13010,"total_score":85,"badge_icon":"https://picsum.photos/50/?image=99","badge_name":"Lily","badge_description":"<p>You earned it because u work on this widgy</p>","total_badges_count":1}],"count":7,"has_more_data":false,"cursor":null,"current_page":1,"current_page_size":10,"total_page_count":1,"total_count":7,"extra_data":{"total_points":210,"not_awarded_count":34},"sort":[{"sort_attr":"issued_on","sort_dir":"desc"}]},"leaderboards":{"items":[{"id_board":1,"name":"Default Leaderboard","is_active":true,"default":true,"is_visible":true,"positions":[{"points":210,"last_assign":"2017-11-14 16:06:21","id_user":18876,"userid":"/yoson","is_me":false,"user":{"firstname":"Lily","lastname":"Maldonato","username":"lilly","avatar":"https://picsum.photos/80/?image=953&gravity=east"},"percentage":100,"position":1},{"points":190,"last_assign":"2016-11-01 14:35:22","id_user":18323,"userid":"/ms_test7","is_me":false,"user":{"firstname":"Martin","lastname":"Wood","username":"ms_test7","avatar":"https://picsum.photos/80/?image=959&gravity=east"},"percentage":80,"position":2},{"points":140,"last_assign":"2016-11-01 13:41:13","id_user":18742,"userid":"/ms_test14","is_me":false,"user":{"firstname":"Peter","lastname":"Hardy","username":"ms_test14","avatar":"https://picsum.photos/80/?image=971&gravity=east"},"percentage":70,"position":3},{"points":123,"last_assign":"2017-05-26 06:53:47","id_user":18573,"userid":"/monika.sadinova","is_me":false,"user":{"firstname":"Julian","lastname":"Holland","username":"ms_test14","avatar":"https://picsum.photos/80/?image=998&gravity=east"},"percentage":60,"position":4}],"my_position":{"points":1210,"last_assign":"2017-11-14 19:55:36","id_user":13010,"userid":"/staff.support","is_me":true,"user":{"firstname":"Andrew","lastname":"Byron","username":"staff.support","avatar":"https://picsum.photos/80/?image=999&gravity=east"},"percentage":100,"position":10}},{"id_board":2,"name":"Pav\'s Leaderboard","is_active":"1","default":"0","is_visible":false},{"id_board":3,"name":"Leaderboard Name","is_active":true,"default":false,"is_visible":true,"positions":[],"my_position":{"points":1250,"last_assign":"2017-11-14 19:55:36","id_user":13010,"userid":"/staff.support","is_me":true,"user":{"firstname":"Andrew","lastname":"Byron","username":"staff.support","avatar":"https://picsum.photos/80/?image=999&gravity=east"},"percentage":100,"position":8}}],"count":3,"has_more_data":false,"cursor":null,"current_page":1,"current_page_size":10,"total_page_count":1,"total_count":3,"sort":[{"sort_attr":"id_board","sort_dir":"asc"}]},"contests":{"items":[{"id":20,"from_date":"2016-10-24 00:00:00","to_date":"2016-10-28 23:59:59","timezone":"Europe/Rome","goal":"Complete the highest number of courses","name":"Contest Name","description":"","rank":1,"id_badge":1,"score":5,"icon":"//d12pk5efbey2ld.cloudfront.net/files/assets/badges/original/d94f8ae514f41d7e046c774e1d9fee2a.png"},{"id":20,"from_date":"2016-10-24 00:00:00","to_date":"2018-10-28 23:59:59","timezone":"Europe/Rome","goal":"Contest Name #2","name":"Gamification widget always shows horizontal scrolling task","description":"","rank":11,"id_badge":null,"score":null,"icon":null}],"extra_data":[{"name":"Lorem ipsum est sed","from_date":"2017-11-26 00:00:00","to_date":"2017-11-30 23:59:59","timezone":"Europe/Sofia"},{"name":"Lorem ipsum est sed Lorem","from_date":"2017-11-30 00:00:00","to_date":"2017-12-31 23:59:59","timezone":"Europe/Sofia"},{"name":"Lorem ipsum est sed Lorem","from_date":"2017-11-26 00:00:00","to_date":"2017-11-30 23:59:59","timezone":"America/Detroit"}],"count":1,"has_more_data":false,"cursor":null,"current_page":1,"current_page_size":10,"total_page_count":1,"total_count":1,"sort":[{"sort_attr":"from_date","sort_dir":"asc"}]}}')},uW5Q:function(t){t.exports=JSON.parse("{}")},wYOk:function(t,e,n){"use strict";n.d(e,"b",function(){return C}),n.d(e,"a",function(){return O}),n.d(e,"c",function(){return v});var i=n("mrSG"),s=n("bUIS"),a=n("r0xE"),o=n("WkUK"),r=n("sxGJ"),c=n("gvJE"),l=n("Gql0"),d=n("d+dA");function g(t,e,n=!0){let i="my-course";const s={};let a;switch(t.type){case"elearning":case"classroom":case"webinar":i="my-course",s[i]={},s[i].language=t.lang_code?function(t){if(void 0!==d.b.getInstance().active_languages[t])return d.b.getInstance().active_languages[t].label;console.error('Language with browser_code "'+t+'" was not found!')}(t.lang_code):null;const e=function(t){let e;switch(t){case"learner":e="Learner";break;case"tutor":e="Tutor";break;case"instructor":e="Instructor";break;case"coach":e="Coach"}return e||console.warn('Unsupported user level "'+t+'"!'),e}(t.level);e&&(s[i].level=e),a=t.enroll_date_of_enrollment;break;case"learning_plan":i="my-lp",s[i]={},s[i].courses_count=t.courses_count,a=t.enroll_date_of_enrollment?t.enroll_date_of_enrollment:t.enroll_begin_date;break;default:console.error("Unsupported enrollment item type!")}switch(s[i].type=t.type,t.can_enter||(s[i].can_enter_reason=t.can_enter_reason),t.status){case"enrolled":s[i].status_id="not-started",s[i].can_enter=t.can_enter,s[i].status_label=c.a.t("standard","Enrolled");break;case"in_progress":s[i].status_id=t.status,s[i].can_enter=t.can_enter,s[i].status_label=c.a.t("standard","In progress");break;case"completed":s[i].status_id=t.status,s[i].can_enter=t.can_enter,s[i].status_label=c.a.t("standard","Done");break;case"subscription_to_confirm":case"waiting":s[i].status_id="not-started",s[i].can_enter=!0,s[i].can_enter_reason=c.a.t("standard","Enrollment status: waiting...");break;case"suspended":s[i].status_id="not-started",s[i].can_enter=!1,s[i].can_enter_reason=c.a.t("standard","Enrollment status: suspended");break;case"overbooking":s[i].status_id="not-started",s[i].can_enter=!1,s[i].can_enter_reason=c.a.t("subscribe","Enrollment status: overbooking")}if("webinar"!==t.type&&"classroom"!==t.type||s[i].can_enter||"days_validity_expired"!==s[i].can_enter_reason||(s[i].can_enter_reason=c.a.t("configuration","Expired")),"learner"===t.level&&"elearning"===t.type||"learning_plan"===t.type){const a=function(t,e){const n=e.currentUtcDateTime().toString(),i={status:null,message:"expired"};let s=null;if(t.soft_deadline)return null!=t.enroll_begin_date?(s=t.enroll_begin_date,i.status=1!==e.compareDates(t.enroll_begin_date,n)):null!=t.course_begin_date?(s=t.course_begin_date,i.status=1!==e.compareDates(t.course_begin_date,n)):i.status=!0,!1===i.status&&(i.message=s),i;{let a=!1;null!=t.enroll_begin_date?(s=t.enroll_begin_date,a=1!==e.compareDates(t.enroll_begin_date,n)):null!=t.course_begin_date?(s=t.course_begin_date,a=1!==e.compareDates(t.course_begin_date,n)):a=!0,!1===a&&(i.message=s);let o=!1;return o=null==t.course_end_date||2!==e.compareDates(t.course_end_date,n),i.status=!(!a||!o),i}}(t,e);!1===a.status?(s[i].can_enter=!1,s[i].can_enter_reason="expired"===a.message?c.a.t("configuration","Expired"):c.a.t("standard","Active from: {date}",{date:a.message})):n&&(s[i].expiration_date=u(t))}else n&&(s[i].expiration_date=u(t));const o=[];t.deeplinking&&o.push({id:"1",title:c.a.t("course","Get sharable link"),action:(e,n)=>{new r("#ignored",{text:e=>document.location.origin+"/learn/"+("learning_plan"===t.type?"lp":"course")+"/"+t.id+"/"+t.slug+"?hash="+t.deeplinking.hash+"&generated_by="+t.deeplinking.generated_by}).on("success",t=>{this.docLayoutService.toast.showToast({message:c.a.t("standard","Link copied to your clipboard"),type:"success"})}).on("error",t=>{console.log("Clipboard error")})}});let g=!1;(t.waiting&&"0"!==t.waiting||t.status&&"waiting"===t.status)&&(g=!0);const h={type_id:i,visual_style:"horizontal-card",uri:t.url,title:t.name,duration:l.b.getFormattedDuration(t.duration),rating:t.rating,is_new:t.is_new,actions:o,other_fields:s,rating_mode:"five_stars",show_waiting:g,status:t.status,id:t.id,enrollDate:a};return t.image_url&&(h.image_url=t.image_url),h}function u(t){return null!=t.course_end_date?t.course_end_date:null}var h=n("LC/E"),p=n("8lF4"),m=n("fXoL"),_=n("l7P3"),b=n("2Myo"),f=n("yT07"),w=n("3Ys6");class C extends a.a{constructor(t){super(),this.serviceProvider=t.backendService,this.config=this.initConfig({name:"coursesandlearningplansoverview",heading:c.a.t("admin_webpages","Courses and Learning Plans Overview"),description:c.a.t("admin_webpages","Shows statistic data about courses and learning plans enrolled by the user"),conditions:{exists:!1},params:[]})}}let O=(()=>{let t=class extends s.a{constructor(t,e,n){super(),this.store=t,this.actions=e,this.formatter=n,this.collectionData=[],this.inProgressCourses=[],this.notStartedCourses=[],this.completedCourses=[],void 0!==this.store&&this.store.dispatch(this.actions.init({}))}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(h.e).subscribe(t=>{switch(this.currentState=t,this.currentState.status){case"DATA_LOADED":case"DEMO_DATA_LOADED":this.collectionData=this.getTilesData(this.currentState.customPageData.data.items),this.sortCourses();break;default:return}}))}sortCourses(){const t=[],e=[],n=[];for(let i=0;i<this.collectionData.length;i++)"in_progress"===this.collectionData[i].other_fields[this.collectionData[i].type_id].status_id&&t.push(this.collectionData[i]),"completed"===this.collectionData[i].other_fields[this.collectionData[i].type_id].status_id&&n.push(this.collectionData[i]),"enrolled"===this.collectionData[i].other_fields[this.collectionData[i].type_id].status_id&&e.push(this.collectionData[i]);this.inProgressCourses=t,this.notStartedCourses=e,this.completedCourses=n}getTilesData(t){const e=[];for(let n=0;n<t.length;n++)e.push(g(t[n],this.formatter));return e}ngOnInit(){this.reduxListener()}ngOnDestroy(){this.reduxSubscriber&&this.reduxSubscriber.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(m.dc(_.d),m.dc(b.a),m.dc(l.b))},t.\u0275cmp=m.Xb({type:t,selectors:[["coursesandlearningplansoverview-widget"]],features:[m.Jb],decls:3,vars:6,consts:[[3,"inProgressCoursesCount","completedCoursesCount","notStartedCoursesCount"],[3,"inProgressCourses","completedCourses","notStartedCourses"]],template:function(t,e){1&t&&(m.jc(0,"div"),m.ec(1,"courses-overview-chart",0),m.ec(2,"courses-overview-resume",1),m.ic()),2&t&&(m.Mb(1),m.Dc("inProgressCoursesCount",e.inProgressCourses.length)("completedCoursesCount",e.completedCourses.length)("notStartedCoursesCount",e.notStartedCourses.length),m.Mb(1),m.Dc("inProgressCourses",e.inProgressCourses)("completedCourses",e.completedCourses)("notStartedCourses",e.notStartedCourses))},directives:[f.a,w.a],styles:['.color-gm__red{color:#de352e}.color-gm__yellow{color:#f5a623}.color-gm__green{color:#64c763}.color-gm__blue{color:#0c509c}.color-gm__light-blue{color:#4861b0}.courses-overview-chart{background-color:#fff;padding:25px 40px}.courses-overview-chart .courses-overview-chart-graph{position:relative;width:158px;height:158px;float:left}.courses-overview-chart .courses-overview-chart-graph canvas{position:absolute;top:0;left:0;transform:rotate(-90deg)}.courses-overview-chart .courses-overview-chart-graph .courses-overview-chart-total-count{text-align:center;position:absolute;top:0;left:0;width:158px;height:158px;padding:50px 0;box-sizing:border-box;cursor:default}.courses-overview-chart .courses-overview-chart-graph .courses-overview-chart-total-count .total-count-number{font-size:23px;line-height:32px;color:var(--ui-color-typography-primary)}.courses-overview-chart .courses-overview-chart-graph .courses-overview-chart-total-count .total-count-description{font-size:15px;line-height:20px;color:var(--ui-color-typography-secondary)}.courses-overview-chart .courses-overview-chart-legend{float:left;height:158px;padding:38px 0 38px 50px;box-sizing:border-box}.courses-overview-chart .courses-overview-chart-legend .chart-legend-item{padding-left:17px;position:relative;color:var(--ui-color-typography-accent);line-height:22px;margin:3px 0}.courses-overview-chart .courses-overview-chart-legend .chart-legend-item:before{width:7px;height:7px;top:8px;border-radius:4px;display:block;content:" ";position:absolute;left:0;vertical-align:3px}.courses-overview-chart .courses-overview-chart-legend .chart-legend-item .chart-legend-number{font-size:16px;color:var(--ui-color-typography-primary);min-width:25px;display:inline-block}.courses-overview-chart .courses-overview-chart-legend .chart-legend-item.not-started:before{background-color:#ea9091}.courses-overview-chart .courses-overview-chart-legend .chart-legend-item.in-progress:before{background-color:#eda972}.courses-overview-chart .courses-overview-chart-legend .chart-legend-item.completed:before{background-color:#8ab7ea}.tabs-manager .tabs-content{text-align:center}.tabs-manager .tabs-content .mdl-button{margin:7px 0}.tabs-manager .tabs-content .mdl-button:hover{text-decoration:none}.course-tile .tile-wrapper.horizontal-card{width:100%;margin-bottom:0;border-bottom:1px solid var(--ui-color-border-neutral)}.course-tile .tile-wrapper.horizontal-card .mdl-card{box-shadow:none}.course-tile .tile-wrapper.horizontal-card .mdl-card .tile-supporting-text{width:calc(100% - 150px)}.course-tile .tile-wrapper.horizontal-card .mdl-card .tile-supporting-text .subtitle-boxes{width:100%;border-right:0}.course-tile .tile-wrapper.horizontal-card .mdl-card .tile-bg{width:150px}'],encapsulation:2}),t=Object(i.b)([Object(p.a)({name:"coursesandlearningplansoverview",module:"pages",settings:C})],t),t})();const v=o},wZxL:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{setState(t){this.state=Object.assign(Object.assign({},this.state),t)}}},wsCI:function(t,e,n){"use strict";n.d(e,"a",function(){return B});var i=n("R0Ic"),s=n("fXoL"),a=n("3Pt+"),o=n("wI8q"),r=n("lfsz"),c=n("Y9qQ"),l=n("zMZL"),d=n("/76g");class g{constructor(){this.hintPeerReview=d.a.t("standard","Requires Expert\u2019s Peer Review"),this.hintIsExpert=d.a.t("standard","You're an expert for this channel"),this.searchPanelTitle={all:d.a.t("app7020","Search for Channels and/or People"),channels:d.a.t("standard","Search for Channels")},this.clearAll=d.a.t("app7020","Clear all"),this.multiSelectLabel={all:d.a.t("app7020","Channels and/or People"),channels:d.a.t("app7020","Channels")},this.multiSelectPlaceholder=d.a.t("standard","Type..."),this.suggested=d.a.t("standard","Suggested"),this.allChannels=d.a.t("standard","All channels"),this.userSingular=d.a.t("standard","_USER"),this.userPlural=d.a.t("getmoreuser","users"),this.peerReviewTitle=d.a.t("standard","Info"),this.peerReviewDescription=d.a.t("app7020","Some of the selected channels require an expert to review your content. Your content will be published in those channels only after the expert's approval, but it will be published immediately in all of the other channels not requiring expert's review.")}}var u=n("XNiG"),h=n("LRne"),p=n("cp0P"),m=n("/uUt"),_=n("IzEk"),b=n("wO+i"),f=n("JIr8"),w=n("Kj3r"),C=n("eIep"),O=n("ofXK"),v=n("f2BR"),M=n("nUpK"),y=n("gvJE");const P=["shareContentMultiSelect"];function S(t,e){if(1&t){const t=s.kc();s.jc(0,"span",14),s.jc(1,"a",15),s.rc("click",function(){return s.Uc(t),s.vc().clearAll()}),s.fd(2),s.wc(3,"t"),s.ic(),s.ic()}if(2&t){const t=s.vc();s.Mb(2),s.hd(" ",s.xc(3,1,t.dictionary.clearAll)," ")}}function I(t,e){if(1&t){const t=s.kc();s.jc(0,"div",16),s.ec(1,"ui-icon",17),s.jc(2,"div",18),s.ec(3,"h4",19),s.wc(4,"t"),s.ec(5,"p",20),s.wc(6,"t"),s.ic(),s.jc(7,"ui-button-text",21),s.rc("trigger",function(){return s.Uc(t),s.vc().hideNotification()}),s.ic(),s.ic()}if(2&t){const t=s.vc();s.Mb(1),s.Dc("name","comment")("size","sm")("color","dark"),s.Mb(2),s.Dc("innerHTML",s.xc(4,7,t.dictionary.peerReviewTitle),s.Vc),s.Mb(2),s.Dc("innerHTML",s.xc(6,9,t.dictionary.peerReviewDescription),s.Vc),s.Mb(2),s.Dc("color","dark")("label","got it")}}function x(t,e){if(1&t&&(s.jc(0,"h5",13),s.fd(1),s.wc(2,"t"),s.ic()),2&t){const t=s.vc();s.Mb(1),s.gd(s.xc(2,1,t.dictionary.suggested))}}function E(t,e){if(1&t&&(s.jc(0,"div",29),s.fd(1),s.wc(2,"t"),s.ic()),2&t){const t=s.vc(2);s.Mb(1),s.hd(" ",s.xc(2,1,t.dictionary.suggested)," ")}}function T(t,e){if(1&t){const t=s.kc();s.jc(0,"li",22),s.rc("click",function(){s.Uc(t);const n=e.$implicit;return s.vc().shareSelection(n)}),s.ec(1,"ui-avatar",23),s.jc(2,"div",24),s.jc(3,"div",25),s.fd(4),s.ic(),s.ic(),s.dd(5,E,3,3,"div",26),s.jc(6,"div",27),s.jc(7,"ui-input-checkbox",28),s.rc("click",function(t){return t.preventDefault()}),s.ic(),s.ic(),s.ic()}if(2&t){const t=e.$implicit,n=s.vc();s.Mb(1),s.Dc("size","lg")("imageUrl",t.avatar)("text",null==t?null:t.initials)("iconName",t.avatar||null!=t&&t.initials?"":"user"),s.Mb(3),s.hd(" ",t.name," "),s.Mb(1),s.Dc("ngIf",t.from_recommender),s.Mb(2),s.Dc("formControl",n.shareFormGroup.get(t.list_uuid))}}function D(t,e){1&t&&(s.jc(0,"div",30),s.ec(1,"ui-spinner",31),s.ic()),2&t&&(s.Mb(1),s.Dc("size","md")("color","neutral"))}function k(t,e){if(1&t&&(s.fd(0),s.wc(1,"lowercase"),s.wc(2,"t")),2&t){const t=s.vc(2);s.hd(" ",s.xc(1,1,s.xc(2,3,t.dictionary.userPlural))," ")}}function A(t,e){if(1&t&&(s.fd(0),s.wc(1,"lowercase"),s.wc(2,"t")),2&t){const t=s.vc(2);s.hd(" ",s.xc(1,1,s.xc(2,3,t.dictionary.userSingular))," ")}}function L(t,e){if(1&t&&(s.jc(0,"span"),s.fd(1),s.wc(2,"t"),s.ic()),2&t){const t=s.vc(2);s.Mb(1),s.hd(" | ",s.xc(2,1,t.dictionary.hintPeerReview)," ")}}function j(t,e){if(1&t&&(s.jc(0,"span"),s.fd(1),s.wc(2,"t"),s.ic()),2&t){const t=s.vc(2);s.Mb(1),s.hd(" | ",s.xc(2,1,t.dictionary.hintIsExpert)," ")}}const N=function(t,e){return{color:t,backgroundColor:e}},R=function(t){return[t]};function F(t,e){if(1&t){const t=s.kc();s.jc(0,"li",22),s.rc("click",function(){s.Uc(t);const n=e.$implicit;return s.vc().shareSelection(n)}),s.jc(1,"div",32),s.ec(2,"em",33),s.ic(),s.jc(3,"div",24),s.jc(4,"div",25),s.fd(5),s.ic(),s.jc(6,"div",34),s.jc(7,"span"),s.fd(8),s.dd(9,k,3,5,"ng-template",35),s.dd(10,A,3,5,"ng-template",35),s.ic(),s.dd(11,L,3,3,"span",36),s.dd(12,j,3,3,"span",36),s.ic(),s.ic(),s.jc(13,"div",27),s.jc(14,"ui-input-checkbox",28),s.rc("click",function(t){return t.preventDefault()}),s.ic(),s.ic(),s.ic()}if(2&t){const t=e.$implicit,n=s.vc();s.Mb(1),s.Dc("ngStyle",s.Jc(9,N,t.thumbnail.color||"#ffffff",t.thumbnail.background||"var(--ui-color-layout-overlay-dark)")),s.Mb(1),s.Dc("ngClass",s.Ic(12,R,t.thumbnail.icon)),s.Mb(3),s.hd(" ",t.name," "),s.Mb(3),s.hd(" ",t.users_count," "),s.Mb(1),s.Dc("ngIf",1!==t.users_count),s.Mb(1),s.Dc("ngIf",1===t.users_count),s.Mb(1),s.Dc("ngIf","everyone_with_pr"===t.upload_permission&&!(null!=t&&t.is_expert)),s.Mb(1),s.Dc("ngIf",!n.isCurrentUserSA&&(null==t?null:t.is_expert)&&"everyone"!==t.upload_permission),s.Mb(2),s.Dc("formControl",n.shareFormGroup.get(t.list_uuid))}}function U(t,e){1&t&&(s.jc(0,"div",30),s.ec(1,"ui-spinner",31),s.ic()),2&t&&(s.Mb(1),s.Dc("size","md")("color","neutral"))}const z=[[["","header",""]]],q=["[header]"];let B=(()=>{class t{constructor(t,e){this.backendReq=t,this.ref=e,this.sharingFormControl=new a.e([]),this.emitOnlyIds=!0,this.ignoreChannels=[],this.selectedUsers=new s.q,this.selectedChannels=new s.q,this.allSelections=new s.q,this.isLoadingChannels=!0,this.isLoadingUsers=!0,this.isSearchingForChannels=!1,this.searchedItems=[],this.suggestedUsers=[],this.dictionary=new g,this.shareFormGroup=new a.h({}),this.multiSelectValues=[],this.searchItems=new u.a,this.scrolledToBottom=new u.a,this.peerReviewChannelsInformation=[],this.channelsListItems=[],this.channelsHasMoreData=!0,this.channelsLoadPage=0,this.channelsVisibleItems=0,this.searchResponseCallback=t=>{const e=t.users.map(t=>Object.assign(Object.assign({},t),{id:`user_${t.id}`,name:r.b.getInstance().getFullName(t,!0)})),n=t.channels.map(t=>Object.assign(Object.assign({},t),{id:`channel_${t.id}`,name:t.name}));if(e.length+n.length>10){const t=5,i=e.length>t,s=n.length>t;i&&s&&(e.length=t,n.length=t),i||(n.length=t-e.length),s||(e.length=t-n.length)}this.searchedItems=[...e,...n],this.addPeerReviewChannels(t.channels),this.isSearchingForChannels=!1,this.ref.detectChanges()}}hostElementScrolling(t){t&&t.target&&this.scrolledToBottom.next(t.target.clientHeight+150>=t.target.scrollHeight-t.target.scrollTop)}get isCurrentUserSA(){return r.c.getInstance().isCurrentUserA(r.c.LEVEL_SUPERADMIN)}get visibleChannels(){const t=JSON.parse(JSON.stringify(this.channelsListItems));return t.length=this.channelsVisibleItems,t.filter(t=>Boolean(t))}get canShareToPeople(){return o.e.settings.share_to_people!==o.d.CANT_SHARE}get showInformationBar(){if(r.c.getInstance().isCurrentUserA(r.c.LEVEL_SUPERADMIN))return!1;if(l.a.getInstance().get("discover-channel-peer-review-information",!1))return!1;const t=this.sharingFormControl.value.filter(t=>t.indexOf("channel_")>-1).map(t=>Number(t.replace("channel_","")));if(!t.length)return!1;const e=this.peerReviewChannelsInformation.filter(e=>-1!==t.indexOf(e.id)).find(t=>"everyone_with_pr"===t.upload_permission&&!t.is_expert);return Boolean(e)}hideNotification(){l.a.getInstance().set("discover-channel-peer-review-information","confirmed")}ngOnInit(){this.multiSelectValues=this.sharingFormControl.value,this.preselected&&this.preselected.length&&(this.searchedItems=this.searchedItems.concat(this.preselected)),this.loadChannelList(),this.canShareToPeople&&this.loadSuggestedUsersList(),this.listenForSearch(),this.scrolledToBottom.pipe(Object(m.a)()).subscribe(t=>{t&&(this.isLoadingChannels=this.channelsHasMoreData,this.ref.detectChanges(),this.loadChannelList())})}listsTrackBy(t,e){return e.list_uuid}searchForChannels(t){this.sharingFormControl.setErrors(null),t.length<3||(this.searchItems.next(t),this.isSearchingForChannels=!0)}shareSelection(t){this.shareContentMultiSelect.select(Object.assign(Object.assign({},t),{id:t.list_uuid,name:t.name}),!0)}clearAll(){this.resetShareForm(),this.selectedUsers.emit([]),this.selectedChannels.emit([]),this.allSelections.emit([]),this.shareContentMultiSelect.removeAllItems()}shareContentSelections(){var t;const e=this.shareContentMultiSelect.selectedItems.map(t=>this.emitOnlyIds?t.id:t),n=t=>e=>this.emitOnlyIds?e.indexOf(t)>-1:e.id.indexOf(t)>-1,i=t=>e=>this.emitOnlyIds?Number(e.replace(t,"")):Object.assign(Object.assign({},e),{id:Number(e.id.replace(t,""))}),s=e.filter(n("user_")).map(i("user_")),a=e.filter(n("channel_")).map(i("channel_"));this.resetShareForm();for(let o of this.emitOnlyIds?e:e.map(t=>t.id))null===(t=this.shareFormGroup.get(o))||void 0===t||t.setValue(!0);this.allSelections.emit(this.shareContentMultiSelect.selectedItems),this.selectedChannels.emit(a),this.selectedUsers.emit(s),this.sharingFormControl.setErrors(null)}resetShareForm(){const t=Object.keys(this.shareFormGroup.getRawValue()),e={};for(const n of t)e[n]=!1;this.shareFormGroup.setValue(e,{emitEvent:!1})}isSuggestionSelected(t){return Boolean(this.sharingFormControl.value.find(e=>e===t))}loadSuggestedUsersList(){if(void 0===this.assetId)return this.isLoadingUsers=!1,void this.ref.detectChanges();this.backendReq.request(`/share/v1/assets/${this.assetId}/invitations/suggestions`,"GET",{},{},c.b,null,()=>{}).pipe(Object(_.a)(1),Object(b.a)("data"),Object(f.a)(()=>Object(h.a)({items:[]}))).subscribe(t=>{this.suggestedUsers=t.items.map(e=>(this.shareFormGroup.addControl(`user_${e.id}`,new a.e(this.isSuggestionSelected(`user_${e.id}`))),this.searchedItems.push({id:`user_${e.id}`,name:r.b.getInstance().getFullName(e,!0)}),Object.assign(Object.assign({},e),{list_uuid:`user_${e.id}`,initials:String(e.firstname.charAt(0)+e.lastname.charAt(0)).toUpperCase(),name:r.b.getInstance().getFullName(e,!0),from_recommender:t.is_from_recommender}))),this.isLoadingUsers=!1,this.ref.detectChanges()})}loadChannelList(){this.channelsHasMoreData?(this.channelsVisibleItems+=t.VISIBLE_CHANNELS_SIZE,this.channelsLoadPage++,this.backendReq.request("/manage/v1/channels","GET",{items_per_channel:1,page:this.channelsLoadPage,page_size:2*t.VISIBLE_CHANNELS_SIZE,canContributeInOnly:!0,count_user:!0,ignoreChannels:this.ignoreChannels}).pipe(Object(b.a)("data")).subscribe(t=>{t.items=t.items.map(t=>(this.shareFormGroup.addControl(`channel_${t.id}`,new a.e(this.isSuggestionSelected(`channel_${t.id}`))),this.searchedItems.push({id:`channel_${t.id}`,name:t.name}),Object.assign(Object.assign({},t),{list_uuid:`channel_${t.id}`}))),this.channelsHasMoreData=t.has_more_data,this.channelsListItems=[...this.channelsListItems,...t.items],this.addPeerReviewChannels(t.items),this.isLoadingChannels=!1,this.ref.detectChanges()})):this.channelsVisibleItems<this.channelsListItems.length&&(this.channelsVisibleItems=this.channelsListItems.length)}listenForSearch(){this.searchItems.pipe(Object(m.a)(),Object(w.a)(500),Object(C.a)(t=>Object(h.a)(t))).subscribe(t=>{const e=this.backendReq.request(`/share/v1/assets/${this.assetId}/invitations/users`,"GET",{search:t,page:1,page_size:20}).pipe(Object(b.a)("data","items")),n=this.backendReq.request("/manage/v1/channels","GET",{search:t,items_per_channel:1,page:1,page_size:20,canContributeInOnly:!0,count_user:!0,ignoreChannels:this.ignoreChannels}).pipe(Object(b.a)("data","items"));Object(p.a)({users:this.canShareToPeople?e:Object(h.a)([]),channels:n}).subscribe(this.searchResponseCallback)})}addPeerReviewChannels(t){const e=t.filter(t=>"everyone_with_pr"===t.upload_permission);if(!e.length)return;const n=e.map(t=>({id:Number(t.id),is_expert:t.is_expert,upload_permission:t.upload_permission})),i=this.peerReviewChannelsInformation.concat(n).map(t=>JSON.stringify(t)),s=new Set(i);this.peerReviewChannelsInformation=Array.from(s).map(t=>JSON.parse(t))}}return t.VISIBLE_CHANNELS_SIZE=10,t.\u0275fac=function(e){return new(e||t)(s.dc(c.a),s.dc(s.i))},t.\u0275cmp=s.Xb({type:t,selectors:[["asset-share-content"]],viewQuery:function(t,e){if(1&t&&s.md(P,1),2&t){let t;s.Qc(t=s.sc())&&(e.shareContentMultiSelect=t.first)}},hostBindings:function(t,e){1&t&&s.rc("scroll",function(t){return e.hostElementScrolling(t)})},inputs:{assetId:"assetId",sharingFormControl:"sharingFormControl",emitOnlyIds:"emitOnlyIds",preselected:"preselected",ignoreChannels:"ignoreChannels"},outputs:{selectedUsers:"selectedUsers",selectedChannels:"selectedChannels",allSelections:"allSelections"},ngContentSelectors:q,decls:22,vars:28,consts:[[1,"app7020-contribute-panel-body","new-layout","app7020-share-content"],[1,"section-box","hyd-background-surface"],[1,"share-content-search-header"],[1,"hyd-typography-heading-4"],[1,"search-field-wrap"],["class","clear-all-action",4,"ngIf"],[3,"label","placeholder","mode","showCounter","applySourceRegex","showRequiredFieldIndicator","max_selectable_items","inputFormControl","value","source","showLoader","onChange","onItemDeletion","onItemSelection"],["shareContentMultiSelect",""],["class","review-hint",4,"ngIf"],["class","section-list-title hyd-typography-heading-4",4,"ngIf"],[1,"hyd-background-surface","suggestion-list"],["class","suggestion",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","load-more-spinner hyd-background-surface",4,"ngIf"],[1,"section-list-title","hyd-typography-heading-4"],[1,"clear-all-action"],[1,"bolded","cta-btn",3,"click"],[1,"review-hint"],[1,"icon",3,"name","size","color"],[1,"text"],[1,"heading","hyd-typography-heading-5",3,"innerHTML"],[1,"hyd-typography-subtitle",3,"innerHTML"],[3,"color","label","trigger"],[1,"suggestion",3,"click"],[3,"size","imageUrl","text","iconName"],[1,"suggestion-info"],[1,"suggestion-name"],["class","suggested-token",4,"ngIf"],[1,"contribute-status"],[3,"formControl","click"],[1,"suggested-token"],[1,"load-more-spinner","hyd-background-surface"],[3,"size","color"],[1,"suggestion-icon",3,"ngStyle"],[3,"ngClass"],[1,"additional-info","hyd-typography-subtitle"],[3,"ngIf"],[4,"ngIf"]],template:function(t,e){1&t&&(s.Cc(z),s.jc(0,"div",0),s.Bc(1),s.jc(2,"div",1),s.jc(3,"div",2),s.jc(4,"h5",3),s.fd(5),s.wc(6,"t"),s.ic(),s.ic(),s.jc(7,"div",4),s.dd(8,S,4,3,"span",5),s.jc(9,"multi-select",6,7),s.rc("onChange",function(t){return e.searchForChannels(t)})("onItemDeletion",function(){return e.shareContentSelections()})("onItemSelection",function(){return e.shareContentSelections()}),s.ic(),s.ic(),s.ic(),s.dd(11,I,8,11,"div",8),s.dd(12,x,3,3,"h5",9),s.jc(13,"ul",10),s.dd(14,T,8,7,"li",11),s.ic(),s.dd(15,D,2,2,"div",12),s.jc(16,"h5",13),s.fd(17),s.wc(18,"t"),s.ic(),s.jc(19,"ul",10),s.dd(20,F,15,14,"li",11),s.ic(),s.dd(21,U,2,2,"div",12),s.ic()),2&t&&(s.Mb(5),s.hd(" ",s.xc(6,24,e.canShareToPeople?e.dictionary.searchPanelTitle.all:e.dictionary.searchPanelTitle.channels)," "),s.Mb(3),s.Dc("ngIf",null==e.sharingFormControl.value?null:e.sharingFormControl.value.length),s.Mb(1),s.Dc("label",e.canShareToPeople?e.dictionary.multiSelectLabel.all:e.dictionary.multiSelectLabel.channels)("placeholder",e.dictionary.multiSelectPlaceholder)("mode",0)("showCounter",!1)("applySourceRegex",!1)("showRequiredFieldIndicator",!0)("max_selectable_items",9999999999)("inputFormControl",e.sharingFormControl)("value",e.multiSelectValues)("source",e.searchedItems)("showLoader",e.isSearchingForChannels),s.Mb(2),s.Dc("ngIf",e.showInformationBar),s.Mb(1),s.Dc("ngIf",e.suggestedUsers.length),s.Mb(1),s.Dc("@listAnimation",e.suggestedUsers.length),s.Mb(1),s.Dc("ngForOf",e.suggestedUsers)("ngForTrackBy",e.listsTrackBy),s.Mb(1),s.Dc("ngIf",e.canShareToPeople&&e.isLoadingUsers),s.Mb(2),s.gd(s.xc(18,26,e.dictionary.allChannels)),s.Mb(2),s.Dc("@listAnimation",e.visibleChannels.length),s.Mb(1),s.Dc("ngForOf",e.visibleChannels)("ngForTrackBy",e.listsTrackBy),s.Mb(1),s.Dc("ngIf",e.isLoadingChannels))},directives:[O.p,v.a,O.o,M.Bb,M.F,M.e,M.Hb,a.o,a.f,M.bd,O.q,O.n],pipes:[y.b,O.m],styles:["asset-share-content{position:relative;display:block;height:100%;overflow:auto}.app7020-share-content .section-list-title{padding:var(--hyd-spacing-md) var(--hyd-spacing-sm) var(--hyd-spacing-xxs)}.app7020-share-content .review-hint{display:flex;width:100%;padding:var(--hyd-spacing-xs) var(--hyd-spacing-xxs) var(--hyd-spacing-xs) var(--hyd-spacing-sm);justify-content:stretch;align-items:center;box-sizing:border-box;background-color:var(--hyd-color-chip-background-light)}[dir=rtl] .app7020-share-content .review-hint{padding:var(--hyd-spacing-xs) var(--hyd-spacing-sm) var(--hyd-spacing-xs) var(--hyd-spacing-xxs)}.app7020-share-content .review-hint .text{margin-left:var(--hyd-spacing-sm);margin-right:var(--hyd-spacing-xs)}[dir=rtl] .app7020-share-content .review-hint .text{margin-left:var(--hyd-spacing-xs);margin-right:var(--hyd-spacing-sm)}.app7020-share-content .review-hint .text .heading{margin-bottom:var(--hyd-spacing-tiny)}.app7020-share-content .review-hint ui-button-text{flex-shrink:0}.app7020-share-content .section-box{padding-bottom:0}.app7020-share-content .share-content-search-header{display:flex;justify-content:space-between}.app7020-share-content .clear-all-action{cursor:pointer;font-size:var(--hyd-typography-size-xs);position:absolute;right:0;height:100%;top:0;margin-top:8px;z-index:2}.app7020-share-content .search-field-wrap{position:relative}.app7020-share-content .suggestion-list{box-sizing:border-box}.app7020-share-content .suggestion-list .suggestion{position:relative;display:flex;justify-content:space-between;align-items:center;padding:var(--hyd-spacing-xs) var(--hyd-spacing-sm);border-bottom:1px solid var(--hyd-color-border-neutral);background-color:var(--hyd-color-layout-surface);transition:background-color var(--hyd-motion-duration-short)}.app7020-share-content .suggestion-list .suggestion:first-of-type{border-top:1px solid var(--hyd-color-border-neutral)}.app7020-share-content .suggestion-list .suggestion:hover{cursor:pointer;background-color:var(--hyd-color-interaction-hover-dark)}.app7020-share-content .suggestion-list .suggestion .suggestion-icon{display:flex;align-items:center;justify-content:center;height:var(--hyd-size-avatar-lg);width:var(--hyd-size-avatar-lg);line-height:var(--hyd-size-avatar-lg);font-size:var(--hyd-size-icon-sm);flex-shrink:0;flex-grow:0;border-radius:50%}.app7020-share-content .suggestion-list .suggestion .suggestion-info{flex-grow:1;padding:0 var(--hyd-spacing-xs)}.app7020-share-content .suggestion-list .suggestion .suggestion-name{color:var(--hyd-color-typography-primary);font-size:var(--hyd-typography-size-sm);font-weight:var(--hyd-typography-weight-semibold);line-height:var(--hyd-typography-lineheight-md)}.app7020-share-content .suggestion-list .suggestion .suggestion-additional-info{color:var(--hyd-color-typography-secondary)}.app7020-share-content .suggestion-list .suggestion .suggested-token{padding:2px 7px;text-transform:uppercase;line-height:var(--hyd-typography-lineheight-sm);font-size:var(--hyd-typography-size-xs);font-weight:var(--hyd-typography-weight-semibold);color:var(--hyd-color-typography-success);border:var(--hyd-size-border-xs) solid var(--hyd-color-border-success);border-radius:var(--hyd-radius-default);margin-right:var(--hyd-spacing-md)}[dir=rtl] .app7020-share-content .suggestion-list .suggestion .suggested-token{margin-left:var(--hyd-spacing-md);margin-right:auto}.app7020-share-content .suggestion-list .suggestion .contribute-status{width:20px;height:30px}@-moz-document url-prefix(){.app7020-share-content .suggestion-list .suggestion .contribute-status{height:100%!important}}.app7020-share-content .suggestion-list .additional-info{color:var(--hyd-color-typography-secondary)}.app7020-share-content .load-more-spinner{text-align:center;padding:var(--hyd-spacing-sm)}"],encapsulation:2,data:{animation:[Object(i.n)("listAnimation",[Object(i.m)("* <=> *",[Object(i.h)(":enter",[Object(i.l)({maxHeight:0,opacity:0}),Object(i.j)("50ms",Object(i.e)("0.5s ease-in-out",Object(i.l)({maxHeight:"100%",opacity:1})))],{optional:!0}),Object(i.h)(":leave",Object(i.e)("0.5s ease-in-out",Object(i.l)({maxHeight:0,opacity:0})),{optional:!0})])])]},changeDetection:0}),t})()},xI2x:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("mrSG"),s=n("LVoI"),a=n("LC/E"),o=n("fXoL"),r=n("l7P3");let c=(()=>{class t{constructor(t,e){this.store=t,this.changeDetection=e,this.reduxSubscriber=[]}onReduxSliceUpdateView(){}reduxChangesSubscriber(){void 0!==this.store&&this.reduxSubscriber.push(this.store.select(a.f).subscribe(t=>{if(void 0===t)return;const e=Object(i.e)(t,["errorMsg","status"]);switch(t.status){case"UPDATED":case"DATA_LOADED":this.childData=Object.assign(Object.assign({},this.childData),e.gamificationWidget[this.componentId]),this.changeDetection.markForCheck(),this.onReduxSliceUpdateView()}}))}showSpinner(){return!this.childData||!this.childData[this.tabName]}updateWidgetHeight(t,e){Object(s.i)(t).then(t=>{const n=setInterval(()=>{const i=t[0]&&t[0].nativeElement?t[0].nativeElement.offsetHeight:0;0!==i&&(this.store.dispatch(e.updateWidgetHeight(i,this.componentId)),clearInterval(n))})})}ngOnDestroy(){if(this.reduxSubscriber)for(const t of this.reduxSubscriber)t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.dc(r.d),o.dc(o.i))},t.\u0275dir=o.Yb({type:t,inputs:{tabName:"tabName",settings:"settings",componentId:"componentId",allTabs:"allTabs"}}),t})()},"xXh+":function(t,e,n){"use strict";n.d(e,"b",function(){return W}),n.d(e,"a",function(){return H}),n.d(e,"c",function(){return Q});var i=n("mrSG"),s=n("juNq"),a=n("7vd5"),o=n("aWaq"),r=n("XNiG"),c=n("HDdC"),l=n("gvJE"),d=n("bUIS"),g=n("r0xE"),u=n("Kj3r"),h=n("pLZG"),p=n("IzEk"),m=n("Imy3"),_=n("j5TW");const b={};function f(t="GET",e){return"SET"===t&&(b.store=e.store,b.actions=e.actions),b}var w=n("C8kt"),C=n("Al+D"),O=n("d+dA"),v=n("LC/E"),M=n("8lF4"),y=n("fXoL"),P=n("Gql0"),S=n("Y9qQ"),I=n("l7P3"),x=n("Ww7d"),E=n("35q8"),T=n("+sIT"),D=n("JA8w"),k=n("WCat"),A=n("ofXK"),L=n("u9ID"),j=n("HpyV"),N=n("A3UQ");const R=["transactionsTable"],F=["dateFrom"],U=["dateTo"],z=["transactionsWrapper"];function q(t,e){if(1&t&&y.ec(0,"widget-title",2),2&t){const t=y.vc();y.Dc("widgetTitle",t.widgetTitle)}}function B(t,e){if(1&t&&y.ec(0,"extended-table",12,13),2&t){const t=y.vc(2);y.Dc("display_search",t.transactionsListTable.display_search)("search_placeholder",t.transactionsListTable.search_placeholder)("no_search_bar_for_real",!0)("tableParams",t.transactionsListTable.tableParams)("row_actions",t.transactionsListTable.row_actions)("action_buttons",t.transactionsListTable.action_buttons)}}const V=function(t,e,n){return{"mdl-cell--12-col":t,"mdl-cell--6-col":e,"mdl-cell--3-col":n}};function G(t,e){if(1&t){const t=y.kc();y.jc(0,"div",3,4),y.jc(2,"div",5),y.jc(3,"div",6),y.jc(4,"div",7),y.jc(5,"datetime-picker",8,9),y.rc("onChangeDate",function(e){return y.Uc(t),y.vc().dateCleared(e,"from")})("onConfirmDateDialog",function(e){return y.Uc(t),y.vc().onChange(e)}),y.ic(),y.ic(),y.jc(7,"div",7),y.jc(8,"datetime-picker",8,10),y.rc("onChangeDate",function(e){return y.Uc(t),y.vc().dateCleared(e,"to")})("onConfirmDateDialog",function(e){return y.Uc(t),y.vc().onChange(e)}),y.ic(),y.ic(),y.ic(),y.ic(),y.dd(10,B,2,6,"extended-table",11),y.ic()}if(2&t){const t=y.vc();y.Mb(4),y.Dc("ngClass",y.Kc(11,V,t.lowRes&&4===t.size,4===t.size||6===t.size||8===t.size,12===t.size)),y.Mb(1),y.Dc("type","date")("name","start-date")("label",t.beginDate)("initialEmptyValue",!0),y.Mb(2),y.Dc("ngClass",y.Kc(15,V,t.lowRes&&4===t.size,4===t.size||6===t.size||8===t.size,12===t.size)),y.Mb(1),y.Dc("type","date")("name","end-date")("label",t.endDate)("initialEmptyValue",!0),y.Mb(2),y.Dc("ngIf",null==t.transactionsListTable?null:t.transactionsListTable.tableParams)}}class W extends g.a{constructor(){super();const t=O.b.getInstance().isPluginActive("EcommerceApp");this.config=this.initConfig({name:"mytransactions",preview:"/public/images/pages/my-transactions-widget-preview.jpg",heading:l.a.t("standard","My Transactions"),description:l.a.t("admin_webpages","Show table with transactions details"),conditions:{exists:t},params:[{name:"title",type:"textMultilang",label:l.a.t("standard","Title"),legend:l.a.t("dashboard","Leave blank to hide the title")}]})}}let H=(()=>{let t=class extends d.a{constructor(t,e,n,i,s,a,o,c,d){super(),this.formatter=t,this.backendService=e,this.store=n,this.actions=i,this.pageService=s,this.docLayoutService=a,this.translationService=o,this._ref=c,this._viewportMonitorService=d,this.data={id:"",type:"",settings:{multiselect:""}},this.massiveactions=[],this.uniqueID="",this.firstTableData=!0,this.beginDate=l.a.t("course","_SUBSCRIPTION_DATE_BEGIN"),this.endDate=l.a.t("course","_SUBSCRIPTION_DATE_END"),this.datePickerParams={dateFrom:"",dateTo:""},this.changedStatus=!1,this.filterDateCleared=new r.a,void 0!==this.store&&(this.store.dispatch(this.actions.init({})),f("SET",{store:this.store,actions:this.actions})),this._viewportMonitorService.registerContainer("transaction-widget").subscribe(t=>{const e=Math.round(t.elementInfo.distance.left.relativeToLeftEdge+t.elementInfo.distance.right.relativeToLeftEdge);this.lowRes=e<=1024}),this.lowRes=window.innerWidth<=1024,this.filterDateCleared.pipe(Object(u.a)(100)).subscribe(t=>{if(this.transactionsListTable&&t.cleared){switch(t.which){case"from":this.transactionsListTable.tableParams.source.date.dateFrom="";break;case"to":this.transactionsListTable.tableParams.source.date.dateTo=""}this.transactionsTable.table.refreshTable()}})}ngOnInit(){if(this.loadWidget=O.b.getInstance().isPluginActive("EcommerceApp"),!this.loadWidget)return;this.uniqueID="widgetName",this.reduxListener(),$.getStoreAndState(this.store,this.actions);const t=this.translationService.currentLang,e=O.b.getInstance().default_language;this.setWidgetTitle(t,e)}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(v.i).subscribe(t=>{switch(this.currentState=t,this.currentState.status){case"DATA_LOADED":this.transactionsListTable&&0!==Object.keys(this.transactionsListTable).length||(this.initTable(),this.changedStatus&&this.transactionsTable&&this.transactionsTable.table.refreshTable());break;case"DEMO_DATA_LOADED":this.initTable();break;default:return}}))}getColumns(){switch(this.size){case 4:return[{id:"id_trans",name:l.a.t("standard","ID"),is_sortable:!0},{id:"date_creation",name:l.a.t("ecommerce","Payment Date"),is_sortable:!1,renderer:t=>this.formatDate(t)},{id:"status",name:l.a.t("standard","Status"),is_sortable:!1}];case 6:return[{id:"id_trans",name:l.a.t("standard","ID"),is_sortable:!0},{id:"date_creation",name:l.a.t("ecommerce","Payment Date"),is_sortable:!1,renderer:t=>this.formatDate(t)},{id:"date_activated",name:l.a.t("ecommerce","Approval Date"),is_sortable:!1,renderer:t=>this.formatDate(t)},{id:"status",name:l.a.t("standard","Status"),is_sortable:!1}];case 8:return[{id:"id_trans",name:l.a.t("standard","ID"),is_sortable:!0},{id:"date_creation",name:l.a.t("ecommerce","Payment Date"),is_sortable:!1,renderer:t=>this.formatDate(t)},{id:"date_activated",name:l.a.t("ecommerce","Approval Date"),is_sortable:!1,renderer:t=>this.formatDate(t)},{id:"status",name:l.a.t("standard","Status"),is_sortable:!1},{id:"username",name:l.a.t("standard","Purchased By"),is_sortable:!1},{id:"total_paid",name:l.a.t("coupon","Total paid"),is_sortable:!1,renderer:t=>new C.a(this.formatter).transform(t)}];case 12:return[{id:"id_trans",name:l.a.t("standard","ID"),is_sortable:!0},{id:"date_creation",name:l.a.t("ecommerce","Payment Date"),is_sortable:!1,renderer:t=>this.formatDate(t)},{id:"date_activated",name:l.a.t("ecommerce","Approval Date"),is_sortable:!1,renderer:t=>this.formatDate(t)},{id:"status",name:l.a.t("standard","Status"),is_sortable:!1},{id:"done_by",name:l.a.t("standard","Done by"),is_sortable:!1},{id:"username",name:l.a.t("standard","Purchased By"),is_sortable:!1},{id:"total_paid",name:l.a.t("coupon","Total paid"),is_sortable:!1,renderer:t=>new C.a(this.formatter).transform(t)}]}}formatDate(t){return`<div class="overflow-ellipsis">\n            <p class="no-renderer">\n            ${this.isValidaDate(t)?Object(a.h)(new o.a(t)):t}\n            </p></div>`}initTable(){this.transactionsListTable={tableParams:{columns:this.getColumns(),ellipsisActionLimit:0,source:new $(1,[{column_id:"id_trans",order:"asc"}],10,null,this.getColumns(),this.datePickerParams),row_actions:this.getRowActions(),enable_massiveactions:!1,massive_actions:[]},display_search:!1,search_placeholder:""}}dateCleared(t,e){e&&this.filterDateCleared.next({which:e,cleared:!t})}onChange(t){this.datePickerParams={dateFrom:this.dateFrom.value?this.dateFrom.value.substr(0,10):"",dateTo:this.dateTo.value?this.dateTo.value.substr(0,10):""},void 0!==f().store&&f().store.select(v.i).pipe(Object(h.a)(t=>"DATA_LOADED"===t.status),Object(p.a)(1)).subscribe(t=>{t&&"DATA_LOADED"===t.status&&this.transactionsTable&&(this.transactionsListTable.tableParams.source.date.dateFrom=this.datePickerParams.dateFrom,this.transactionsListTable.tableParams.source.date.dateTo=this.datePickerParams.dateTo,this.transactionsListTable.tableParams.source.current_page=1,this.transactionsTable.table.refreshTable())})}ngAfterViewInit(){this._viewportMonitorService.addElements("transaction-widget",[this.transactionsWrapper],{events:[s.b.Scroll]})}getRowActions(){return[{id:"view_details",title:l.a.t("salesforce","View Details"),action:t=>{this.pageService.dialog.open({width:834,height:540,title:l.a.t("course","Transactions Details"),content:{params:{transactionID:t.id},component:w.a},type:"",actions:[{type:"cancel",properties:{text:l.a.t("standard","Close"),handler:t=>{t.close()}}}]})}},{id:"cancel",title:"Cancel",action:t=>{this.pageService.dialog.open({width:500,height:240,title:l.a.t("standard","Change transaction status"),content:l.a.t("standard","Are you sure that you want cancel the tranasction?"),type:"confirmation",show_confirmation_check:!0,confirmation_check_text:l.a.t("standard","Yes I'm sure and I want to proceed"),actions:[{type:"cancel",properties:{text:l.a.t("standard","Cancel")},handler:t=>{t.close()}},{type:"normal",properties:{text:l.a.t("standard","Confirm")},handler:e=>{this.store.dispatch(this.actions.update({}));const n=this.backendService.request(`/ecommerce/v1/transaction/${t.id}/cancel`,"GET").subscribe(()=>{n.unsubscribe(),this.changedStatus=!0,this.docLayoutService.toast.showToast({message:l.a.t("standard","Transaction successfully deleted."),type:"success"})});f().store.select(v.i).pipe(Object(h.a)(t=>"DATA_LOADED"===t.status),Object(p.a)(1)).subscribe(t=>{t&&"DATA_LOADED"===t.status&&this.transactionsTable.table.refreshTable()}),e.close()}}]})}}]}isValidaDate(t){return t&&"0000-00-00 00:00:00"!=t}ngOnDestroy(){this.loadWidget&&(this._viewportMonitorService.removeElements("transaction-widget",[this.transactionsWrapper]),this._viewportMonitorService.unregisterContainer("transaction-widget"),this.reduxSubscriber.unsubscribe())}};return t.\u0275fac=function(e){return new(e||t)(y.dc(P.b),y.dc(S.a),y.dc(I.d),y.dc(x.a),y.dc(E.a),y.dc(T.a),y.dc(D.a),y.dc(y.i),y.dc(k.a))},t.\u0275cmp=y.Xb({type:t,selectors:[["my-transactions-widget"]],viewQuery:function(t,e){if(1&t&&(y.md(R,1),y.md(F,1),y.md(U,1),y.md(z,1)),2&t){let t;y.Qc(t=y.sc())&&(e.transactionsTable=t.first),y.Qc(t=y.sc())&&(e.dateFrom=t.first),y.Qc(t=y.sc())&&(e.dateTo=t.first),y.Qc(t=y.sc())&&(e.transactionsWrapper=t.first)}},features:[y.Jb],decls:2,vars:2,consts:[[3,"widgetTitle",4,"ngIf"],["class","transactions-wrapper widget-shadow bg-white",4,"ngIf"],[3,"widgetTitle"],[1,"transactions-wrapper","widget-shadow","bg-white"],["transactionsWrapper",""],[1,"mdl-wrapper"],[1,"mdl-grid","transactions-date"],[1,"mdl-cell",3,"ngClass"],[3,"type","name","label","initialEmptyValue","onChangeDate","onConfirmDateDialog"],["dateFrom",""],["dateTo",""],[3,"display_search","search_placeholder","no_search_bar_for_real","tableParams","row_actions","action_buttons",4,"ngIf"],[3,"display_search","search_placeholder","no_search_bar_for_real","tableParams","row_actions","action_buttons"],["transactionsTable",""]],template:function(t,e){1&t&&(y.dd(0,q,1,1,"widget-title",0),y.dd(1,G,11,19,"div",1)),2&t&&(y.Dc("ngIf",e.widgetTitle),y.Mb(1),y.Dc("ngIf",e.loadWidget))},directives:[A.p,L.a,A.n,j.a,N.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.transaction-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:15px}[_nghost-%COMP%]     .transactions-date{padding:10px 0 0}[_nghost-%COMP%]     .transactions-date .mdl-cell{min-width:90px}[_nghost-%COMP%]     .table-extended{height:calc(100vh - 246px)}[_nghost-%COMP%]     .table-extended .table-container{overflow:hidden}[_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner{height:calc(100% - 94px)}[_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner::-webkit-scrollbar{width:6px;height:6px}[_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner::-webkit-scrollbar-button{width:0;height:0}[_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner::-webkit-scrollbar-thumb{background:#ccc;border:0 transparent;border-radius:50px}[_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner::-webkit-scrollbar-corner, [_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner::-webkit-scrollbar-track{background:transparent;border:0 transparent}[_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner::-webkit-scrollbar-thumb:active{background:var(--ui-color-typography-secondary)}[_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner::-webkit-scrollbar-track:active{background:var(--ui-color-badge-background-light)}@media (-ms-high-contrast:none),(hover:hover),screen and (-ms-high-contrast:active){[_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner::-webkit-scrollbar-track:hover{background:transparent;border:0 transparent}[_nghost-%COMP%]     .table-extended .table-container .wrap-table-inner::-webkit-scrollbar-thumb:hover{background:var(--ui-color-typography-secondary)}}[_nghost-%COMP%]     .table-extended .table-container .mdl-data-table{border-left:0;border-right:0}[_nghost-%COMP%]     .table-extended .table-container .mdl-data-table.footer-table{border-bottom:0}[_nghost-%COMP%]     .table-extended .btn-ellipsis .mdl-menu .mdl-menu__item~.mdl-menu__item .ellipsis-link{color:var(--ui-color-semantic-error-default)}"]}),t=Object(i.b)([Object(M.a)({name:"mytransactions",module:"pages",settings:W})],t),t})();class $ extends _.b{constructor(t,e,n,i,s,a){super(t,e,n,i,s),this.date=a}static getStoreAndState(t,e,n="SET"){if(t&&(this.store=t),e&&(this.action=e),"GET"===n)return{store:this.store,action:this.action}}fetchData(t){return this.reduxVariables=$.getStoreAndState(null,null,"GET"),this.sort_by.length>1&&this.sort_by.shift(),t.sort_attr=this.sort_by[0].column_id,t.sort_dir=this.sort_by[0].order,void 0!==this.date&&(t.date_from=this.date.dateFrom,t.date_to=this.date.dateTo),c.a.create(e=>{void 0!==this.reduxVariables.store&&(this.reduxVariables.store.dispatch(this.reduxVariables.action.init(t)),this.reduxVariables.store.select(v.i).pipe(Object(h.a)(t=>"DATA_LOADED"===t.status),Object(p.a)(1)).subscribe(t=>{"DATA_LOADED"===t.status&&(e.next(t.customPageData),e.complete())}))})}}const Q=m},xkEZ:function(t,e,n){"use strict";n.r(e),n.d(e,"MANAGE_PAGES_PIPES",function(){return kn}),n.d(e,"ManagePagesModule",function(){return An});var i=n("tyNb"),s=n("tfGn"),a=n("nUpK"),o=n("9jGm"),r=n("l7P3"),c=n("9Ejp"),l=n("mqip"),d=n("F+9e"),g=n("3Pt+"),u=n("LVoI"),h=n("d+dA"),p=n("dRcD"),m=n("QmWI"),_=n("gvJE"),b=n("e3q5"),f=n("Zt9p"),w=n("j5TW"),C=n("2Jdu"),O=n("SxV6"),v=n("qI0D"),M=n("fXoL");let y=(()=>{class t{pageListInitialize(e){return{type:t.PAGES_LIST_INITIALIZE,payload:e}}pageListSuccess(e){return{type:t.PAGES_LIST_SUCCESS,payload:e}}pageListRejected(){return{type:t.PAGES_LIST_REJECTED}}saveNewPageInitialize(e){return{type:t.SAVE_NEW_PAGE_INITIALIZE,payload:e}}saveNewPageSuccess(e){return{type:t.SAVE_NEW_PAGE_SUCCESS,payload:e}}saveNewPageRejected(e){return{type:t.SAVE_NEW_PAGE_REJECTED,payload:e}}pageSettingInitialize(e){return{type:t.PAGE_SETTINGS_INITIALIZE,payload:e}}pageSettingSuccess(e,n=!1){return{type:t.PAGE_SETTINGS_SUCCESS,payload:e,save:n}}pageSettingRejected(){return{type:t.PAGE_SETTINGS_REJECTED}}pageSettingUpdateRequest(e,n){return{type:t.PAGE_SETTINGS_UPDATE_INITIALIZE,payload:{page_id:e,settings:n}}}pageSettingUpdateSuccess(e,n){return{type:t.PAGE_SETTINGS_UPDATE_SUCCESS,payload:e,page:n}}pageSettingUpdateRejected(e){return{type:t.PAGE_SETTINGS_UPDATE_REJECTED,payload:e}}pageSettingDestroy(){return{type:t.PAGE_SETTINGS_DATA_DESTROY}}pageSlideReset(){return{type:t.RESET_PAGES_SLICE}}deleteSinglePage(e){return{type:t.DELETE_SINGLE_PAGE,payload:e}}deleteSinglePageSuccess(e){return{type:t.DELETE_SINGLE_PAGE_SUCCESS,payload:e}}deleteSinglePageReject(e){return{type:t.DELETE_SINGLE_PAGE_REJECTED,payload:e}}pageNameSettingUpdate(e,n){return{type:t.PAGE_SETTINGS_UPDATE_NAME,payload:{names:e,descriptions:n}}}publishPage(e,n){return{type:t.PUBLISH_PAGE,payload:{pageId:e,pageName:n}}}publishPageSuccess(e){return{type:t.PUBLISH_PAGE_SUCCESS,payload:e}}unpublishPage(e,n){return{type:t.UNPUBLISH_PAGE,payload:{pageId:e,pageName:n}}}unpublishPageSuccess(e){return{type:t.UNPUBLISH_PAGE_SUCCESS,payload:e}}}return t.PAGES_LIST_INITIALIZE="[Menu Pages] Menu Pages Loading Initializing",t.PAGES_LIST_SUCCESS="[Menu Pages] Menu Pages Loading Success",t.PAGES_LIST_REJECTED="[Menu Pages] Menu Pages Loading Rejected",t.SAVE_NEW_PAGE_INITIALIZE="[Menu Pages] Create New Page Initialized",t.SAVE_NEW_PAGE_SUCCESS="[Menu Pages] Create New Page Success",t.SAVE_NEW_PAGE_REJECTED="[Menu Pages] Create New Page Rejected",t.PUBLISH_PAGE="[Menu Pages] Publish Page",t.PUBLISH_PAGE_SUCCESS="[Menu Pages] Publish Page Success",t.UNPUBLISH_PAGE="[Menu Pages] Unpublish Page",t.UNPUBLISH_PAGE_SUCCESS="[Menu Pages] Unpublish Page Success",t.PAGE_SETTINGS_INITIALIZE="[Menu Pages] Menu Page Settings Loading Initialized",t.PAGE_SETTINGS_SUCCESS="[Menu Pages] Menu Page Settings Loading Success",t.PAGE_SETTINGS_REJECTED="[Menu Pages] Menu Page Settings Loading Rejected",t.PAGE_SETTINGS_UPDATE_INITIALIZE="[Menu Pages] Menu Page Settings Update is Requested",t.PAGE_SETTINGS_UPDATE_SUCCESS="[Menu Pages] Menu Page Settings Update is Successful",t.PAGE_SETTINGS_UPDATE_REJECTED="[Menu Pages] Menu Page Settings Update is Rejected",t.PAGE_SETTINGS_UPDATE_NAME="[Menu Pages] Menu Page Name Settings is Updated",t.PAGE_SETTINGS_DATA_DESTROY="[Menu Pages] Menu Page Settings Clean Reducer",t.RESET_PAGES_SLICE="[Menu Pages] Menu Page Reset Redux Slice",t.DELETE_SINGLE_PAGE="[Single Page Delete] Delete Single Page",t.DELETE_SINGLE_PAGE_REJECTED="[Single Page Delete] Delete Single Page Rejected",t.DELETE_SINGLE_PAGE_SUCCESS="[Single Page Delete] Delete Single Page Success",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=M.Zb({token:t,factory:t.\u0275fac}),t})();var P=n("LvDl"),S=n.n(P);const I={items:[],single_page_information:{saved_success:!1,status:v.a.NOT_INITIALIZED,errors:[]},state:v.a.NOT_INITIALIZED,count:1,current_page:1,current_page_size:null,total_count:1,has_more_data:!1,hasChanged:!1,page_creation:{status:v.a.NOT_INITIALIZED,errors:[],id:null},page_delete:{status:v.a.NOT_INITIALIZED,errors:[]}};class x{static listAllAvailablePages(t,e){const n=I;return n.items=e.items,n.state=v.a.INITIALIZED,n.count=e.count,n.current_page=e.current_page,n.current_page_size=e.current_page_size,n.has_more_data=e.has_more_data,n.total_count=e.total_count,n.hasChanged=!1,Object.assign(Object.assign(Object.assign({},t),n),{single_page_information:Object.assign(Object.assign({},t.single_page_information),{state:v.a.UNCHANGED})})}static certainPageSettings(t,e,n=!1){const i={single_page_information:{saved_success:!1,status:v.a.INITIALIZED,errors:[]},state:v.a.INITIALIZED,hasChanged:!1};return n?(i.single_page_information.saved_success=n,S.a.assign({},t.single_page_information,i.single_page_information),Object.assign(Object.assign({},t),{single_page_information:Object.assign(Object.assign({},e),{status:v.a.UPDATED,saved_success:!0}),hasChanged:n})):(i.single_page_information=e,Object.assign(Object.assign(Object.assign({},t),i),{single_page_information:Object.assign(Object.assign({},e),{status:v.a.INITIALIZED})}))}static addNewPage(t,e){const n={items:t.items,hasChanged:!0,page_creation:{status:v.a.INITIALIZED,errors:[],id:null,data:{}}};return S.a.isEmpty(e)||(n.page_creation.id=e.id,n.page_creation.data=e),S.a.assign({},t,n)}static rejectNewPage(t,e){const n={items:t.items,hasChanged:!1,page_creation:{status:v.a.REJECTED,errors:[],id:null}};return S.a.isEmpty(e)||(n.page_creation.errors=e),S.a.assign({},t,n)}static rejectUpdateOfPage(t,e){const n={hasChanged:!0,single_page_information:{status:v.a.REJECTED,errors:[]},state:v.a.REJECTED};return S.a.isEmpty(e)||(n.single_page_information.errors=e),S.a.assign({},t,n)}}const E={lms_pages:function(t=I,e){const n=Object.assign({},I);switch(e.type){case y.PUBLISH_PAGE:case y.UNPUBLISH_PAGE:case y.PAGE_SETTINGS_UPDATE_INITIALIZE:return Object.assign(Object.assign({},t),{single_page_information:Object.assign(Object.assign({},t.single_page_information),{status:v.a.REQUEST_UPDATE})});case y.RESET_PAGES_SLICE:return n.items=[],n.state=v.a.NOT_INITIALIZED,n.has_more_data=!1,n.current_page_size=null,S.a.assign({},t,n);case y.PAGES_LIST_INITIALIZE:case y.PAGE_SETTINGS_INITIALIZE:return Object.assign(Object.assign({},t),{state:v.a.INITIALIZING,single_page_information:Object.assign(Object.assign({},t.single_page_information),{status:v.a.INITIALIZING})});case y.PAGES_LIST_SUCCESS:return x.listAllAvailablePages(t,e.payload.data);case y.SAVE_NEW_PAGE_INITIALIZE:return S.a.assign({},t,{page_creation:{status:v.a.INITIALIZING}});case y.SAVE_NEW_PAGE_SUCCESS:return x.addNewPage(t,e.payload);case y.SAVE_NEW_PAGE_REJECTED:return x.rejectNewPage(t,e.payload);case y.PAGE_SETTINGS_SUCCESS:return x.certainPageSettings(t,e.payload.data,e.save);case y.PAGE_SETTINGS_UPDATE_REJECTED:return x.rejectUpdateOfPage(t,e.payload);case y.PUBLISH_PAGE_SUCCESS:case y.UNPUBLISH_PAGE_SUCCESS:return x.certainPageSettings(t,e.payload.data,!0);case y.PAGE_SETTINGS_DATA_DESTROY:return S.a.assign({},t,{single_page_information:{saved_success:!1}});case y.DELETE_SINGLE_PAGE:return n.page_delete.status=v.a.INITIALIZED,n.page_delete.errors=[],S.a.assign({},t,n);case y.DELETE_SINGLE_PAGE_SUCCESS:return n.page_delete.status=v.a.INITIALIZED,n.hasChanged=!0,S.a.assign({},t,n);case y.DELETE_SINGLE_PAGE_REJECTED:return n.page_delete.status=v.a.REJECTED,n.page_delete.errors=e.payload.message,S.a.assign({},t,n);case y.PAGE_SETTINGS_UPDATE_NAME:return Object.assign(Object.assign({},t),{single_page_information:Object.assign(Object.assign({},t.single_page_information),{status:v.a.RENAMED,names:e.payload.names,descriptions:e.payload.descriptions})});default:return t}}},T=Object(r.k)("manage-page"),D={icon:(t,e)=>{if(null==t)switch(e.type){case"external":t="zmdi zmdi-link";break;case"widget":t="zmdi zmdi-view-dashboard"}return`<i class="table-big-icons text-grey-mid-permanent  ${t}"></i>`},name:(t,e,n)=>{if(void 0!==e)return(new m.a).transform(e.names)},descriptions:(t,e,n)=>{if(void 0!==e)return(new m.a).transform(e.descriptions)},assigned_to_menus:t=>{if(void 0!==t)return`<span class="${"manage-lms-pages-icon-preview "+(0!==t.length?"":"text-warning")}">\n                    <span class="table-cell-label count-number">${t.length}</span>\n                    <i class="zmdi zmdi-format-list-bulleted menu-number-icons table-big-icons"></i>\n                </span>`},yes_no:t=>{if(void 0!==t)return _.a.t("standard",t?"Yes":"No")},publish_unpublish:(t,e)=>{if(void 0===t)return"";if(e.built_in)return"";let n;return n=t?"zmdi-check-circle text-positive-green":"zmdi-circle text-grey",`<i class="zmdi ${n} table-big-icons"></i>`}};var k=n("lJxs");function A(t){return t?t.replace(/[\u00A0-\u9999<>\&]/gim,t=>`&#${t.charCodeAt(0)};`):""}class L extends w.b{constructor(t,e,n,i,s){super(t,e,n,i,s),this.filterParams={},this.pagesSliceSelector=Object(r.m)(T,t=>t.lms_pages),this.multipleSorting=!1}static getStoreAndState(t,e,n="SET"){if(t&&(this.store=t),e&&(this.action=e),"GET"===n)return{store:this.store,action:this.action}}setFilterOnChange(t){t.subscribe(t=>{this.filterParams.filters=t.filters,this.filterParams.search_text=t.search_text})}fetchData(t){return this.reduxVariables=L.getStoreAndState(null,null,"GET"),t.search_text||(t.search_text=""),t.sort_attr=this.sort_by[0].column_id,t.sort_dir=this.sort_by[0].order,Object.keys(this.filterParams).length>0&&(t.filters=this.filterParams.filters,t.search_text=this.filterParams.search_text),this.reduxVariables.store.dispatch(this.reduxVariables.action.pageListInitialize(t)),this.reduxVariables.store.select(this.pagesSliceSelector).pipe(Object(O.a)(t=>t&&t.state===v.c.INITIALIZED),Object(k.a)(t=>(t.items&&t.items.length>0&&t.items.forEach(t=>{t.descriptions&&(t.descriptions.value&&(t.descriptions.value=A(t.descriptions.value)),t.descriptions.values&&Object.keys(t.descriptions.values).length>0&&Object.keys(t.descriptions.values).forEach(e=>{t.descriptions.values[e]=A(t.descriptions.values[e])})),t.names&&(t.names.value&&(t.names.value=A(t.names.value)),t.names.values&&Object.keys(t.names.values).length>0&&Object.keys(t.names.values).forEach(e=>{t.names.values[e]=A(t.names.values[e])})),t.name_simple&&(t.name_simple=A(t.name_simple))}),t)))}}var j=n("0XDt");function N(t){return!!t.dirty}var R=n("D6+O"),F=n("ofXK"),U=n("/hE/");function z(t,e){if(1&t){const t=M.kc();M.jc(0,"div",3),M.jc(1,"radio",4),M.rc("OnChange",function(e){return M.Uc(t),M.vc().changeOfValue(e)}),M.ic(),M.ic()}if(2&t){const t=e.$implicit,n=M.vc();M.Mb(1),M.Dc("inputFormControl",null==n.form_control?null:n.form_control.controls.type)("label",t.label)("name",t.name)("subtitle",t.subtitle)("checked",t.checked)("boxed",t.boxed)("value",t.value)}}let q=(()=>{class t{constructor(t){this.toggleService=t,this.page_types=[]}getExternalLinkPageVoiceSubtitle(t){return _.a.t("standard",t.mobileMenuAvailable?"Open an external link in page (iframe), in the same window, or as a new window. Available for desktop and mobile":"Open an external link in page (iframe), in the same window, or as a new window.")}ngOnInit(){this.page_types=[{label:_.a.t("admin_webpages","Widget Custom Page"),value:"widget",name:"page_types",subtitle:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("admin_webpages","Build your page with widgets, either from scratch or using templates. Available for desktop and for mobile."):_.a.t("admin_webpages","Create your page with a widgets page composer."),checked:!0,boxed:!0},{label:_.a.t("admin_webpages","External Link"),value:"external",name:"page_types",subtitle:this.getExternalLinkPageVoiceSubtitle({mobileMenuAvailable:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)}),checked:!1,boxed:!0}],this.form_control&&(this.form_control.addControl("type",new g.e(this.page_types[0].value)),this.form_control.controls.type.valueChanges.subscribe(()=>{N(this.form_control.controls.type)&&(this.form_control.formIsDirty=!0)}))}next(){const t=this.form_control.controls.type.value;if(t)switch(t){case"external":this.form_control.addControl("settings",new g.h({general:new g.h({url:new g.e(null,g.x.compose([g.x.required]),j.a.validUrlValidator)})})),this.form_control.controls.settings.controls.general.controls.url.enable();break;default:this.form_control.contains("settings")&&this.form_control.removeControl("settings")}}resetMainControls(){this.form_control.reset(),this.form_control.contains("settings")&&this.form_control.removeControl("settings"),this.form_control.controls.template&&this.form_control.controls.template.setValue("blank")}changeOfValue(t){this.form_control&&(this.resetMainControls(),this.form_control.controls.type.setValue(t))}resetUrlValidationOnFirstStep(){this.form_control&&this.form_control.controls.hasOwnProperty("settings")&&this.form_control.controls.settings.controls.hasOwnProperty("general")&&this.form_control.controls.settings.controls.general.controls.hasOwnProperty("url")&&this.form_control.controls.settings.controls.general.controls.url.disable()}}return t.\u0275fac=function(e){return new(e||t)(M.dc(R.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],inputs:{form_control:"form_control"},decls:5,vars:4,consts:[[1,"pages-wizard-step-wrapper","bg-grey-superlight"],[1,"step-description","hint","text-grey-mid","border-grey-light","bg-white"],["class","data-row border-grey-light bg-white text-basic-size",4,"ngFor","ngForOf"],[1,"data-row","border-grey-light","bg-white","text-basic-size"],[3,"inputFormControl","label","name","subtitle","checked","boxed","value","OnChange"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.jc(1,"div",1),M.fd(2),M.wc(3,"t"),M.ic(),M.dd(4,z,2,7,"div",2),M.ic()),2&t&&(M.Mb(2),M.hd(" ",M.xc(3,2,"Select the page type you want to create"),""),M.Mb(2),M.Dc("ngForOf",e.page_types))},directives:[F.o,U.a],pipes:[_.b],encapsulation:2}),t})();var B=n("JTlr"),V=n("irQE"),G=n("fYJ8"),W=n("iCGg"),H=n("Jc1x");const $=["multiLangNames"],Q=["multiLangDescriptions"];function J(t,e){if(1&t&&M.ec(0,"textfield",9),2&t){const t=M.vc(2);M.Dc("label",t.pageFieldsParams.url.label)("value",t.pageFieldsParams.url.value)("type",t.pageFieldsParams.url.type)("floating_label",t.pageFieldsParams.floating_label)("isLoading",t.urlCheckIsLoading)("inputFormControl",t.form_control.controls.settings.controls.general.controls.url)}}function Y(t,e){if(1&t){const t=M.kc();M.jc(0,"div",1),M.jc(1,"div",2),M.fd(2),M.wc(3,"t"),M.ic(),M.jc(4,"div",3),M.jc(5,"multilanguage-selector",4),M.rc("onLanguageSelection",function(e){return M.Uc(t),M.vc().onLanguageChange(e)}),M.ic(),M.ec(6,"textfield",5),M.ec(7,"textfield",6),M.ec(8,"textfield",7),M.dd(9,J,1,6,"textfield",8),M.ic(),M.ic()}if(2&t){const t=M.vc();M.Mb(2),M.hd(" ",M.xc(3,30,"Insert the details you want to give to your page"),""),M.Mb(3),M.Dc("formGroup",t.localizableSwitchForNewPage.formGroup)("data",t.localizableSwitchForNewPage.data)("fieldsValidators",t.localizableSwitchForNewPage.fieldsValidators),M.Mb(1),M.Dc("label",t.pageFieldsParams.code.label)("value",t.pageFieldsParams.code.value)("type",t.pageFieldsParams.code.type)("floating_label",t.pageFieldsParams.floating_label)("show_counter",t.pageFieldsParams.code.show_counter)("max_length",t.pageFieldsParams.code.max_length)("inputFormControl",t.form_control.controls.code),M.Mb(1),M.Dc("id",t.pageFieldsParams.page_name.label)("type",t.pageFieldsParams.page_name.type)("floating_label",t.pageFieldsParams.floating_label)("multi_language",t.pageFieldsParams.multi_language)("language",t.currentLanguage.lang)("label",t.pageFieldsParams.page_name.label)("show_counter",t.pageFieldsParams.page_name.show_counter)("max_length",t.pageFieldsParams.page_name.max_length)("inputFormControl",null!=t.currentLanguage&&t.currentLanguage.lang_code?t.localizableSwitchForNewPage.formGroup.controls.translationsLocalizableFields.controls.names.controls[t.currentLanguage.lang_code]:null==t.localizableSwitchForNewPage.formGroup.controls?null:t.localizableSwitchForNewPage.formGroup.controls.names),M.Mb(1),M.Dc("id",t.pageFieldsParams.page_description.label)("type",t.pageFieldsParams.page_description.type)("floating_label",t.pageFieldsParams.floating_label)("multi_language",t.pageFieldsParams.multi_language)("language",t.currentLanguage.lang)("show_counter",t.pageFieldsParams.page_description.show_counter)("max_length",t.pageFieldsParams.page_description.max_length)("label",t.pageFieldsParams.page_description.label)("inputFormControl",null!=t.currentLanguage&&t.currentLanguage.lang_code?t.localizableSwitchForNewPage.formGroup.controls.translationsLocalizableFields.controls.descriptions.controls[t.currentLanguage.lang_code]:null==t.localizableSwitchForNewPage.formGroup.controls?null:t.localizableSwitchForNewPage.formGroup.controls.descriptions),M.Mb(1),M.Dc("ngIf",t.showUrlTextField&&t.form_control.contains("settings"))}}let K=(()=>{class t{constructor(t,e,n){this.fb=t,this.changeDetector=e,this.store=n,this.showUrlTextField=!1,this.disposableSubscriptions=[]}ngOnInit(){this.pageFieldsParams={code:{label:_.a.t("gamification","Code"),value:"",type:"text",max_length:25,show_counter:!0},page_name:{label:_.a.t("admin_webpages","Page Name"),value:"",mode:"single",max_length:255,show_counter:!0},page_description:{label:_.a.t("admin_webpages","Page Description"),value:"",mode:"single",max_length:150,show_counter:!0},url:{label:_.a.t("standard","_URL"),value:"",mode:"text"},floating_label:!0,multi_language:!0},this.translationsName=B.a.createField("names",{type:V.a.SINGLE_VALUE}),this.translationsDescription=B.a.createField("descriptions",{type:V.a.SINGLE_VALUE}),this.localizableSwitchForNewPage={formGroup:this.fb.group({names:new g.e(null,g.x.compose([g.x.required,g.x.maxLength(255)])),descriptions:new g.e(null,g.x.maxLength(150))}),data:[this.translationsName,this.translationsDescription],fieldsValidators:{names:[g.x.required,g.x.maxLength(255)],descriptions:[g.x.maxLength(150)]}},this.form_control&&(this.form_control.addControl("code",new g.e(null,g.x.maxLength(25))),this.form_control.addControl("names",new g.e),this.form_control.addControl("descriptions",new g.e),this.evaluatePageType(),this.disposableSubscriptions.push(this.form_control.controls.type.valueChanges.subscribe(t=>{t&&this.evaluatePageType()}))),this.localizableSwitchForNewPage.formGroup.valueChanges.subscribe(t=>{this.localizableSwitchForNewPage.formGroup.dirty&&(this.form_control.markAsDirty(),this.form_control.formIsDirty=!0)}),this.urlCheckIsProcessing(),this.form_control.valueChanges.subscribe(()=>{N(this.form_control)&&(this.form_control.formIsDirty=!0)})}onLanguageChange(t){this.currentLanguage=t.lang,this.localizableSwitchForNewPage.formGroup=t.form}next(){const t=B.a.localizableFormDataFormat(this.localizableSwitchForNewPage.formGroup,[this.translationsName,this.translationsDescription]);t.names&&null!==t.names.value&&0===Object.keys(t.names.values).length&&(t.names.type="single_value"),this.form_control.controls.names.setValue(t.names),this.form_control.controls.descriptions.setValue(t.descriptions),this.form_control.controls.names.markAsDirty()}isNameDefined(){let t;const e=this.localizableSwitchForNewPage.formGroup;return t=G.a.keyExistInObject(e.controls,"translationsLocalizableFields")?e.controls.translationsLocalizableFields.controls.names.controls[this.currentLanguage.lang_code]:e.controls.names,!!t.valid||(t.markAsTouched(),t.markAsDirty(),t.updateValueAndValidity(),this.changeDetector.markForCheck(),!1)}ngOnDestroy(){for(const t of this.disposableSubscriptions)t&&t.unsubscribe()}evaluatePageType(){this.resetTranslationsForm(),this.showUrlTextField="external"===this.form_control.controls.type.value}urlCheckIsProcessing(){this.disposableSubscriptions.push(this.store.select(this.storeSlice).subscribe(t=>{this.urlCheckIsLoading=t.page_creation.status===v.a.INITIALIZING,this.changeDetector.markForCheck()}))}resetTranslationsForm(){this.form_control.controls.names.value||this.localizableSwitchForNewPage.formGroup.reset()}}return t.\u0275fac=function(e){return new(e||t)(M.dc(g.d),M.dc(M.i),M.dc(r.d))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(M.md($,1),M.md(Q,1)),2&t){let t;M.Qc(t=M.sc())&&(e.multiLangNames=t.first),M.Qc(t=M.sc())&&(e.multiLangDescriptions=t.first)}},inputs:{form_control:"form_control",storeSlice:"storeSlice"},decls:1,vars:1,consts:[["class","pages-wizard-step-wrapper page-details bg-white",4,"ngIf"],[1,"pages-wizard-step-wrapper","page-details","bg-white"],[1,"step-description","hint","text-grey-mid","border-grey-light","bg-white"],[1,"page-creation_form"],[3,"formGroup","data","fieldsValidators","onLanguageSelection"],[3,"label","value","type","floating_label","show_counter","max_length","inputFormControl"],[3,"id","type","floating_label","multi_language","language","label","show_counter","max_length","inputFormControl"],[3,"id","type","floating_label","multi_language","language","show_counter","max_length","label","inputFormControl"],[3,"label","value","type","floating_label","isLoading","inputFormControl",4,"ngIf"],[3,"label","value","type","floating_label","isLoading","inputFormControl"]],template:function(t,e){1&t&&M.dd(0,Y,10,32,"div",0),2&t&&M.Dc("ngIf",e.form_control)},directives:[F.p,W.a,g.p,g.i,H.a],pipes:[_.b],encapsulation:2}),t})();var X=n("3D7D");function Z(t,e){if(1&t&&(M.jc(0,"span",6),M.wc(1,"t"),M.ec(2,"i",7),M.ic()),2&t){const t=M.vc(2);M.Ec("tooltip",M.xc(1,2,t.mobileIconTooltipText)),M.Dc("position","top")}}function tt(t,e){if(1&t&&(M.jc(0,"span",6),M.wc(1,"t"),M.ec(2,"i",8),M.ic()),2&t){const t=M.vc(2);M.Ec("tooltip",M.xc(1,2,t.desktopIconTooltipText)),M.Dc("position","top")}}function et(t,e){if(1&t){const t=M.kc();M.jc(0,"div",3),M.jc(1,"div"),M.jc(2,"radio",4),M.rc("OnChange",function(e){return M.Uc(t),M.vc().changeOfValue(e)}),M.ic(),M.ic(),M.jc(3,"div"),M.dd(4,Z,3,4,"span",5),M.dd(5,tt,3,4,"span",5),M.ic(),M.ic()}if(2&t){const t=e.$implicit,n=M.vc();M.Mb(2),M.Dc("inputFormControl",null==n.form_control?null:n.form_control.controls.template)("thumbnail",t.thumbnail)("label",t.label)("name",t.name)("subtitle",t.subtitle)("value",t.value),M.Mb(2),M.Dc("ngIf",!t.desktopOnly&&n.mobileWidgetToggle),M.Mb(1),M.Dc("ngIf",t.desktopOnly&&n.mobileWidgetToggle)}}let nt=(()=>{class t{constructor(t){this.toggleService=t,this.mobileIconTooltipText=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("standard","Template available both for desktop and for mobile"):_.a.t("standard","Template also available for the Mobile App"),this.desktopIconTooltipText=_.a.t("standard","Template available for desktop only"),this.mobileWidgetToggle=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)}ngOnInit(){this.widget_templates=[{label:_.a.t("standard","Blank"),thumbnail:"public/images/pages/blank@2x.png",value:"blank",name:"widget_templates",subtitle:_.a.t("admin_webpages","Blank template with no pre-activated widgets, so you can design your page from scratch.")},{label:_.a.t("standard","Informal Training Dashboard"),thumbnail:"public/images/pages/social@2x2.png",value:"informal_training",name:"widget_templates",subtitle:_.a.t("admin_webpages","Dashboard Template optimized to let the users manage informal training"),desktopOnly:!0},{label:_.a.t("standard","Formal Training Dashboard"),thumbnail:"public/images/pages/formal@2x.png",value:"formal_training",name:"widget_templates",subtitle:_.a.t("admin_webpages","Dashboard template allowing students to easily access courses in which they're enrolled")},{label:_.a.t("standard","Formal Training Stream"),thumbnail:"public/images/pages/channels@2x.png",value:"formal_training_stream",name:"widget_templates",subtitle:_.a.t("admin_webpages","Template displaying channels of quickly accessible formal learning content"),desktopOnly:!0},{label:_.a.t("standard","Courses Offering Dashboard"),thumbnail:"public/images/pages/e-commerce@2x.png",value:"courses_offering",name:"widget_templates",subtitle:_.a.t("admin_webpages","Template optimized to quickly offer courses directly to learners.")}],this.form_control.addControl("template",new g.e("blank"))}confirm(t){return t}prev(){Object.prototype.hasOwnProperty.call(this.form_control.controls,"names")&&this.form_control.controls.names.setValue(this.formatTranslationsForComponent(this.form_control.controls.names.value)),Object.prototype.hasOwnProperty.call(this.form_control.controls,"descriptions")&&this.form_control.controls.descriptions.setValue(this.formatTranslationsForComponent(this.form_control.controls.descriptions.value)),this.form_control.formIsDirty=!0}formatTranslationsForComponent(t){if(!t||0===t.length)return;let e={};const n={};for(let i=0;i<t.length;i++){const s=h.b.getInstance().getLangByShortCode(t[i].lang_code),a=t[i].value;if(void 0!==s){if(!s.hasOwnProperty("code"))return;n[s.code]=a}e=Object.assign(Object.assign({},e),{temp:n})}return e}changeOfValue(t){console.log("event",t)}}return t.\u0275fac=function(e){return new(e||t)(M.dc(R.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],inputs:{form_control:"form_control"},decls:5,vars:4,consts:[[1,"pages-wizard-step-wrapper","page-templates","bg-grey-superlight"],[1,"step-description","hint","text-grey-mid","border-grey-light","bg-white"],["style","display: flex;align-items: center;","class","data-row border-grey-light bg-white text-basic-size",4,"ngFor","ngForOf"],[1,"data-row","border-grey-light","bg-white","text-basic-size",2,"display","flex","align-items","center"],[3,"inputFormControl","thumbnail","label","name","subtitle","value","OnChange"],["class","widget-mobile-compatible-icon",3,"tooltip","position",4,"ngIf"],[1,"widget-mobile-compatible-icon",3,"tooltip","position"],[1,"zmdi","zmdi-devices","text-grey-mid"],[1,"zmdi","zmdi-laptop","text-grey-mid"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.jc(1,"div",1),M.fd(2),M.wc(3,"t"),M.ic(),M.dd(4,et,6,8,"div",2),M.ic()),2&t&&(M.Mb(2),M.hd(" ",M.xc(3,2,"Choose one of the following templates for yout page"),""),M.Mb(2),M.Dc("ngForOf",e.widget_templates))},directives:[F.o,U.a,F.p,X.a],pipes:[_.b],encapsulation:2}),t})();var it=n("cgKn"),st=n("35q8"),at=n("s3Kw"),ot=n("HDdC"),rt=n("z6cu"),ct=n("Y9qQ"),lt=n("AurG");let dt=(()=>{class t{constructor(t,e,n){this._backendService=t,this.widgetRenderStore=e,this.widgetRenderActions=n,this.throw_errors=new M.q,this.instanceId=0,this.instanceId=Math.random()}callPagesList(t,e){let n=[];return t&&(n=["get_total_count=1","page="+t.payload.page,"page_size="+t.payload.page_size],t.payload.hasOwnProperty("search_text")&&null!==t.payload.search_text&&n.push("search_text="+t.payload.search_text),t.payload.hasOwnProperty("sort_attr")&&t.payload.hasOwnProperty("sort_dir")&&n.push("sort_attr="+t.payload.sort_attr+"&sort_dir="+t.payload.sort_dir),t.payload.hasOwnProperty("filters")&&n.push("filters="+t.payload.filters)),this._backendService.request("/pages/v1/pages"+(e=e?"/"+e:"")+"?"+n.join("&"),"GET")}saveNewPage(t){return ot.a.create(e=>{const n=this._backendService.request("/pages/v1/pages","POST",t).subscribe(i=>{const s=Object.assign({id:i.data.id},t);e.next(s),e.complete(),n&&n.unsubscribe()},t=>{e.error(t),e.complete(),n&&n.unsubscribe()})})}editCertainPage(t,e){return t?this._backendService.request("/pages/v1/pages/"+t,"PUT",e):Object(rt.a)("Missing page id")}setPageCreationErrors(t){this.throw_errors.emit(t)}deleteSinglePage(t){if(void 0!==t)return this._backendService.request("/pages/v1/pages/"+t,"DELETE");console.error("No menu ID was sent!")}dispatchPreviewLoading(t){this.widgetRenderStore.dispatch(this.widgetRenderActions.isDemo(!0)),this.widgetRenderStore.dispatch(this.widgetRenderActions.loadPageData(t))}disableDemo(){this.widgetRenderStore.dispatch(this.widgetRenderActions.isDemo(!1))}}return t.\u0275fac=function(e){return new(e||t)(M.nc(ct.a),M.nc(r.d),M.nc(lt.a))},t.\u0275prov=M.Zb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var gt=n("JA8w"),ut=n("ubRZ"),ht=n("+sIT"),pt=n("jg0+"),mt=n("Gql0"),_t=n("T+s5"),bt=n("A3UQ");const ft=["lmsPagesTable"],wt=["pageSwitchComponent"];function Ct(t,e){1&t&&(M.jc(0,"div",5),M.ec(1,"ui-spinner"),M.ic())}function Ot(t,e){if(1&t){const t=M.kc();M.jc(0,"extended-table",6,7),M.rc("searchOnChange",function(e){return M.Uc(t),M.vc().tableSearchChange(e)}),M.ic()}if(2&t){const t=M.vc();M.Dc("display_search",t.listingPagesExtendedTableParams.display_search)("panels",t.listingPagesExtendedTableParams.panels)("search_placeholder",t.listingPagesExtendedTableParams.search_placeholder)("tableParams",t.listingPagesExtendedTableParams.tableParams)}}const vt=function(t){return{"pages-switch-active":t}};let Mt=(()=>{class t{constructor(t,e,n,i,s,a,o,c,l,d,g,u,h,p,m){this._store=t,this._pagesActions=e,this.pageServices=n,this._router=i,this.uiActions=s,this.lmsPageService=a,this.translationService=o,this.detectionStrategy=c,this._sessionActions=l,this.toggleService=d,this._backendService=g,this.docLayoutService=u,this.embeddedService=h,this.asknicelyService=p,this._formatterService=m,this.storeSubscriber=[],this.pagesSliceSelector=Object(r.m)(T,t=>t.lms_pages),this.isLoadingSpinnerVisible=!1,this.externalPageOpensIn=t=>t&&t[0]&&t[0].data&&t[0].data.hasOwnProperty("opens_in")?t[0].data.opens_in:"",this.docLayoutService.breadcrumbs.setHierarchicalBreadcrumbs([{label:_.a.t("admin_webpages","Manage pages"),href:this._router.url}])}publishButtonAction(t){this._store.select(this.pagesSliceSelector).pipe(Object(O.a)(t=>!!t.single_page_information.status&&t.single_page_information.status===v.a.UPDATED)).subscribe(t=>{this._store.dispatch(this._sessionActions.loadSession()),this.detectionStrategy.markForCheck()}),this._store.dispatch(t.published?this._pagesActions.unpublishPage(t.id,t.name_simple):this._pagesActions.publishPage(t.id,t.name_simple))}errorDuplicateCallback(){this.isLoadingSpinnerVisible=!1,this.docLayoutService.toast.showToast({message:_.a.t("standard","Operation failed."),type:"error"})}getRowActions(){const t=[{id:"preview",title:"preview",icon:"eye text-main",action:t=>{console.log("e2it",t)}},{id:"edit",title:_.a.t("standard","Edit"),icon:"edit text-main",action:t=>{this._router.navigate(["/pages/page-management/settings/"+t.id])}},{id:"duplicate_and_edit",title:_.a.t("app7020","Duplicate and Edit"),icon:"plus-circle-o-duplicate text-main",action:t=>{this.pagesLimitReached()||(this.isLoadingSpinnerVisible=!0,this._backendService.request("/pages/v1/pages/duplicate","POST",{id:t.id}).subscribe(t=>{1==t.data.success?this._router.navigate(["/pages/page-management/settings/"+t.data.duplicate_id]):this.errorDuplicateCallback()},()=>{this.errorDuplicateCallback()}))}},{id:"delete",title:"Delete",icon:"delete text-error",action:t=>{this.pageServices.dialog.open(function(t,e,n,i,s){const a=(new m.a).transform(t.names),o=_.a.t("standard",0===t.assigned_to_menus.length?"Are you sure you want to delete the following page: {page}":"Are you sure you want to delete the following page: {page}? If you delete it, it will be removed from all the menus it is associated to.",{page:a});return{id:3,width:470,height:210,title:_.a.t("admin_webpages","Delete page"),content:o,type:"confirmation",actions:[{type:"cancel",properties:{text:_.a.t("standard","Cancel")},handler:t=>{t.close()}},{type:"normal",properties:{text:_.a.t("standard","Confirm")},handler:o=>{o.close(),e.dispatch(n.deleteSinglePage(t.id)),e.select(Object(r.m)(T,t=>t.lms_pages)).pipe(Object(O.a)(t=>!t||t.page_delete.status===v.c.INITIALIZED&&t.hasChanged||t.page_delete.status===v.c.REJECTED)).subscribe(t=>{t&&(t.page_delete.status===v.c.INITIALIZED&&t.hasChanged&&(e.dispatch(i.loadSession()),s.toast.showToast({message:_.a.t("admin_webpages","{item} has been deleted",{item:a}),type:"success"})),t.page_delete.status===v.c.REJECTED&&s.toast.showToast({message:t.page_delete.errors[0],type:"error"}))})}}]}}(t,this._store,this._pagesActions,this._sessionActions,this.docLayoutService))}}];if(!this.embeddedService.isEmbedded()){const e={id:"copy_url",title:_.a.t("standard","Copy url"),icon:"copy text-main",action:t=>{const e=t.url;Object(u.g)(e).then(t=>{this.docLayoutService.toast.showToast({message:_.a.t("standard","Link copied to your clipboard"),type:"success"})}).catch(t=>{this.docLayoutService.toast.showToast({message:_.a.t("standard","Link was not copied to your clipboard"),type:"error"})})}};t.splice(1,0,e)}return t}addActionButtons(){const t={properties:{icons:["plus"],textClass:"custom-circle-button text-white",BgClass:"bg-positive-green hover-bg-positive-green hover-text-white",tooltipPosition:"bottom",tooltipText:_.a.t("admin_webpages","New Page"),baloon:{width:300,style:"main",showOnClick:!0,position:this._formatterService.isUserLanguageRTL()?"right":"bottom-left",title:_.a.t("standard","New page creation"),text:_.a.t("standard","To create new pages, simply click on the green button and follow the wizard."),isSuggestionBalloon:!0}},onClick:()=>{this.isLoadingSpinnerVisible||(this.openNewPageCreationPanel(),this.initWizard())}},e={properties:{icons:["view-list-alt"],tooltipPosition:"bottom",tooltipText:_.a.t("admin_webpages","Switch to Manage Menus")},onClick:()=>{this.isLoadingSpinnerVisible||this._router.navigate(["/pages/menu-management"])}};p.a.getInstance().isCurrentUserA(p.a.LEVEL_SUPERADMIN)?this.docLayoutService.actionButtons.setActionButtons([e,t]):this.docLayoutService.actionButtons.setActionButtons([t])}pageNameDefined(t){return!t.isNameDefined||t.isNameDefined&&t.isNameDefined()}ngOnInit(){this.docLayoutService.page.activateFullHeightMode(),this.docLayoutService.header.showTitleBar({title:_.a.t("admin_webpages","Manage pages"),subtitle:_.a.t("admin_webpages","Manage and create customized pages and dashboards"),fullWidth:!0,mode:"bordered"}),this.addActionButtons(),L.getStoreAndState(this._store,this._pagesActions),this.initializeTableParameters();const t=this._store.select(this.pagesSliceSelector).subscribe(t=>{if(t){if(t.hasChanged){if(!this.lmsPagesTable||this.lmsPagesTable&&!this.lmsPagesTable.hasOwnProperty("table"))return;this.lmsPagesTable.table.refreshTable()}switch(this.totalPagesCount=t.total_count,t.page_creation.status){case v.a.INITIALIZING:this.pageCreationWizardRightPanelConfig.actions.map(t=>{"submit"===t.type&&(t.state="disabled")});break;case v.a.INITIALIZED:(new m.a).transform(t.page_creation.data.names);break;case v.a.REJECTED:if(void 0!==this.wizard&&(console.warn("Errors sent back by the API (to be removed when development is done)",t.page_creation.errors),t.page_creation.errors[0].hasOwnProperty("field"))){switch(t.page_creation.errors[0].field){case"code":case"names":case"description":case"url":this.wizard.changeStep("page-creation-step2");break;default:this.wizard.changeStep("page-creation-step1"),"string"==typeof t.page_creation.errors[0].message&&this.docLayoutService.toast.showToast({message:t.page_creation.errors[0].message,type:"error"})}this.errorSubscriber=this.lmsPageService.throw_errors.subscribe(t=>{this.setCreationPageErrors(t,this.wizard.getWizardForm().controls)}),this.lmsPageService.setPageCreationErrors(t.page_creation.errors)}}}});this.storeSubscriber.push(t),this.pageCreationWizardRightPanelConfig={title:_.a.t("standard","New Custom Page"),description:_.a.t("standard","Follow the steps in order to create a new page"),content:{component:C.a,params:{steps:this.wizardStepsManager(),navigationMode:"breadcrumbs",navigationItems:this.navigationItemsManager()}},actions:[]},this.toggleService.isOn(b.a.TOGGLE_ASK_NICELY_NPS)&&this.asknicelyService.getSettings().subscribe(t=>{let e=t.data;e.alignment="left",this.asknicelyService.askNicelyCall(e)})}wizardStepsManager(){return this.toggleService.isOn(b.a.TOGGLE_ADMIN_PAGES_MULTIPLE_PAGES_PER_MENU)?[{id:"page-creation-step1",content:q,params:{}},{id:"page-creation-step2",content:K,params:{storeSlice:this.pagesSliceSelector}},{id:"page-creation-step3",content:nt,params:{},is_visible:!1}]:[{id:"page-creation-step2",content:K,params:{storeSlice:this.pagesSliceSelector}},{id:"page-creation-step3",content:nt,params:{}}]}navigationItemsManager(){const t=[{title:_.a.t("webapp","Details")},{title:_.a.t("preferences","_TEMPLATE")}],e={title:_.a.t("report","Type")};return this.toggleService.isOn(b.a.TOGGLE_ADMIN_PAGES_MULTIPLE_PAGES_PER_MENU)?[e,...t]:t}setCreationPageErrors(t,e){const n=p.a.getInstance().language?p.a.getInstance().language:h.b.getInstance().default_language,i=Object.keys(e);for(let s=0;s<i.length;s++)Object.prototype.hasOwnProperty.call(e[i[s]],"controls")&&this.setCreationPageErrors(t,e[i[s]].controls);if(t)for(let s=0;s<t.length;s++){const i=t[s].field,a=Array.isArray(t[s].message)?t[s].message[0][n]:t[s].message;Object.prototype.hasOwnProperty.call(e,i)&&(e[i].setErrors(a),e[i].markAsTouched())}}tableSearchChange(t){""===t&&this.lmsPagesTable.table.refreshTable({search_text:""},!1,!0)}ngOnDestroy(){if(this.storeSubscriber)for(let t=0;t<this.storeSubscriber.length;t++)this.storeSubscriber[t].unsubscribe();this.errorSubscriber&&this.errorSubscriber.unsubscribe(),this.stepCmpFormSubscriber&&this.stepCmpFormSubscriber.unsubscribe(),this._store.dispatch(this.uiActions.hideRightpanel()),this.docLayoutService.actionButtons.clearActionButtons(),this.pageServiceSubscriber&&this.pageServiceSubscriber.unsubscribe(),this.docLayoutService.header.hideTitleBar()}initWizard(){const t=this.pageServices.changes.rightPanel.subscribe(e=>{let n;this.wizard=e.innerCmp,this.onChangeStepSubscriber=this.wizard.onChangeStep.subscribe(t=>{const e=this.wizard.getWizardForm();this.pageCreationWizardRightPanelConfig.inputFormControl=e,this.toggleService.isOn(b.a.TOGGLE_ADMIN_PAGES_MULTIPLE_PAGES_PER_MENU)||e.addControl("type",new g.e("widget"));const i=()=>{switch(e.value.type){case"widget":this.wizard.showStep("page-creation-step3");break;default:this.wizard.hideStep("page-creation-step3")}};this.wizard.hasPrev()?n&&n.unsubscribe():(n=e.valueChanges.subscribe(()=>{i()}),setTimeout(()=>{i()}),t.resetUrlValidationOnFirstStep&&t.resetUrlValidationOnFirstStep()),t.form_control=this.pageCreationWizardRightPanelConfig.inputFormControl;const s=[];if(this.wizard.hasPrev()&&s.push({type:"normal",properties:{text:_.a.t("app7020","Previous"),className:"previous-button"},customClasses:"docebo-button-left",handler:e=>{this.wizard.prevStep(),t.prev&&t.prev()}}),s.push({type:"cancel",properties:{text:_.a.t("app7020","Cancel")},handler:t=>{t.close()}}),this.wizard.hasNext()){const e={type:"normal",state:"",properties:{text:_.a.t("app7020","Next")},handler:e=>{this.wizard.validateStep(this.wizard.getCurrentStep())||this.docLayoutService.toast.showToast({message:_.a.t("standard","Your form is invalid, please check again all fields."),type:"error"}),this.pageNameDefined(t)&&this.wizard.nextStep(),t.next&&t.next()}};this.stepCmpFormSubscriber=t.form_control.valueChanges.subscribe(n=>{e.state=t.form_control.valid?"normal":"disabled"}),s.push(e)}this.wizard.isLastStep()&&s.push({type:"submit",state:"",properties:{text:_.a.t("standard","Create & Edit")},handler:e=>{if(!this.pageNameDefined(t))return;void 0!==t.next&&t.next();let n=this.wizard.wizardForm.getRawValue();"external"===n.type&&(n.settings.general.opens_in="blank"),this._store.dispatch(this._pagesActions.saveNewPageInitialize(n));const i=this._store.select(this.pagesSliceSelector).subscribe(t=>{t.page_creation.status===v.a.INITIALIZED&&e.close()});this.storeSubscriber.push(i)}}),this.pageCreationWizardRightPanelConfig.actions=s,this._store.dispatch(this.uiActions.updateRightPanelConfig({actions:this.pageCreationWizardRightPanelConfig.actions,inputFormControl:this.pageCreationWizardRightPanelConfig.inputFormControl}))}),t.unsubscribe()})}initializeTableParameters(){this.listingPagesExtendedTableParams={display_search:!0,search_placeholder:_.a.t("standard","Search here..."),tableParams:{columns:this.getTableColumns("all","descriptions"),source:new L(1,[{column_id:"type",order:"desc"}],50,null,this.getTableColumns("column-view","")),row_actions:this.getRowActions(),enable_massive_actions:!1,cache_prefix:"lms-listing-pages",massive_actions:[],calc_height:!1},panels:[{icon:"view-column",content:{params:{columns:this.getTableColumns("all",""),locked_columns:[{id:"icon",title:"Icon"},{id:"name",title:_.a.t("standard","Name")}],max_selectable:8},component:f.a}}]},setTimeout(()=>{this.listingPagesExtendedTableParams.tableParams.source.setFilterOnChange(this.lmsPagesTable.filterOnChange)})}getTableColumns(t,e){const n=[{id:"icon",name:_.a.t("label","Icon"),is_sortable:!1,width:"85px",renderer:D.icon},{id:"code",name:_.a.t("gamification","Code"),is_sortable:!0,renderer:w.b.PlainText,textRenderer:!0},{id:"name",name:_.a.t("standard","Name"),is_sortable:!0,renderer:D.name,textRenderer:!0,onClick:t=>{this._router.navigate([`/pages/page-management/settings/${t.id}`,{panel:1}])}},{id:"descriptions",name:_.a.t("app7020","Description"),renderer:D.descriptions,textRenderer:!0},{id:"type",name:_.a.t("standard","Type"),is_sortable:!0,renderer:(t,e)=>void 0===e.built_in?"":e.built_in?_.a.t("standard","Built-in"):this.pageTypeLabel(t,e),textRenderer:!0},{id:"assigned_to_menus",width:"80px",name:_.a.t("adminrules","_ADMIN_MENU"),is_sortable:!1,renderer:D.assigned_to_menus},{id:"widgets",width:"150px",name:_.a.t("standard","Widgets"),is_sortable:!1,renderer:(t,e)=>{if(void 0===t)return"";if(e.hasOwnProperty("built_in")&&e.built_in||e.hasOwnProperty("type")&&"external"===e.type)return"";const n=(t,e)=>{let n="laptop";return"mobile"===e&&(n="smartphone-iphone"),`<span class="${"manage-lms-pages-icon-preview "+(0!==t[e]?"text-main":"text-warning")} target-${e}">\n                        <span class="table-cell-label count-number target-${e}">${t[e]}</span>\n                        <i class="zmdi zmdi-${n} menu-number-icons table-big-icons target-${e}"></i>\n                    </span>`};let i='<div class="widget-cell-wrap">';return Number.isInteger(t.desktop)&&(i+=n(t,"desktop")),this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)&&Number.isInteger(t.mobile)&&(i+=n(t,"mobile")),`${i}</div>`},onClick:(t,e)=>{e.target.classList.contains("target-desktop")?this._router.navigate([`/pages/page-management/settings/${t.id}`,{tab:"desktop"}]):e.target.classList.contains("target-mobile")&&this._router.navigate([`/pages/page-management/settings/${t.id}`,{tab:"mobile"}])}},{id:"published",width:"110px",name:_.a.t("standard","Published"),is_sortable:!1,renderer:D.publish_unpublish,onClick:this.publishButtonAction.bind(this)}];switch(t){case"all":return n;case"column-view":return n.map(t=>P.pick(t,["id","name"]))}}openMenuPickerRightComponent(){console.warn("Right panel to choose number of menus where this should be shown is to be implemented")}pageTypeLabel(t,e){switch(t){case"widget":return new _.b(this.translationService,this.detectionStrategy).transform(_.a.t("admin_webpages","Widget page"));case"html":return new _.b(this.translationService,this.detectionStrategy).transform(_.a.t("admin_webpages","HTML page"));case"external":return"blank"===this.externalPageOpensIn(e.settings)?new _.b(this.translationService,this.detectionStrategy).transform(_.a.t("admin_webpages","External Link (opens in a new window)")):new _.b(this.translationService,this.detectionStrategy).transform(_.a.t("admin_webpages","External Link (opens in page)"));default:return new _.b(this.translationService,this.detectionStrategy).transform(_.a.t("admin_webpages","Custom page"))}}openNewPageCreationPanel(){if(this.pagesLimitReached())return;const t=P.cloneDeep(this.pageCreationWizardRightPanelConfig);this._store.dispatch(this.uiActions.showRightPanel(t)),this._store.dispatch(this.uiActions.openRightpanel())}pagesLimitReached(){return this.totalPagesCount>=t.MAX_PAGES_LIMIT&&(this.docLayoutService.toast.showToast({message:_.a.t("admin_webpages","The maximum amount of pages is {limit}. Please remove some pages before creating a new one.",{limit:t.MAX_PAGES_LIMIT}),type:"error"}),!0)}}return t.MAX_PAGES_LIMIT=1e3,t.\u0275fac=function(e){return new(e||t)(M.dc(r.d),M.dc(y),M.dc(st.a),M.dc(i.h),M.dc(at.e),M.dc(dt),M.dc(gt.a),M.dc(M.i),M.dc(ut.a),M.dc(R.a),M.dc(ct.a),M.dc(ht.a),M.dc(pt.a),M.dc(it.a),M.dc(mt.b))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&(M.md(ft,1),M.md(wt,1)),2&t){let t;M.Qc(t=M.sc())&&(e.lmsPagesTable=t.first),M.Qc(t=M.sc())&&(e.pageSwitchComponent=t.first)}},features:[M.Lb([it.a])],decls:6,vars:5,consts:[[1,"lms-custom-pages-listing__wrapper","bg-white"],["pageSwitchComponent",""],[1,"lms-custom-pages-listing__body",3,"ngClass"],["class","spinner page-spinner",4,"ngIf"],[3,"display_search","panels","search_placeholder","tableParams","searchOnChange",4,"ngIf"],[1,"spinner","page-spinner"],[3,"display_search","panels","search_placeholder","tableParams","searchOnChange"],["lmsPagesTable",""]],template:function(t,e){if(1&t&&(M.jc(0,"div",0),M.ec(1,"pages-switch",null,1),M.jc(3,"div",2),M.dd(4,Ct,2,0,"div",3),M.dd(5,Ot,2,4,"extended-table",4),M.ic(),M.ic()),2&t){const t=M.Rc(2);M.Mb(3),M.Dc("ngClass",M.Ic(3,vt,null==t?null:t.showComponent)),M.Mb(1),M.Dc("ngIf",e.isLoadingSpinnerVisible),M.Mb(1),M.Dc("ngIf",e.listingPagesExtendedTableParams&&!e.isLoadingSpinnerVisible)}},directives:[_t.a,F.n,F.p,a.bd,bt.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]     .header-table thead tr th.th-assigned_to_menus, [_nghost-%COMP%]     .header-table thead tr th.th-icon, [_nghost-%COMP%]     .header-table thead tr th.th-is_public, [_nghost-%COMP%]     .header-table thead tr th.th-published, [_nghost-%COMP%]     .header-table thead tr th.th-widgets, [_nghost-%COMP%]     .wrap-table-inner .docebo-table tbody tr td.td-assigned_to_menus, [_nghost-%COMP%]     .wrap-table-inner .docebo-table tbody tr td.td-icon, [_nghost-%COMP%]     .wrap-table-inner .docebo-table tbody tr td.td-is_public, [_nghost-%COMP%]     .wrap-table-inner .docebo-table tbody tr td.td-published, [_nghost-%COMP%]     .wrap-table-inner .docebo-table tbody tr td.td-widgets{text-align:center}[_nghost-%COMP%]     .table-extended{height:100%}[_nghost-%COMP%]     btn-ellipsis .mdl-menu__container.is-visible{z-index:unset}.lms-custom-pages-listing__wrapper[_ngcontent-%COMP%]{height:100%}.lms-custom-pages-listing__wrapper[_ngcontent-%COMP%]     .widget-cell-wrap{display:flex;justify-content:space-between}.lms-custom-pages-listing__wrapper[_ngcontent-%COMP%]     .wrap-table-inner{position:absolute;top:42px;box-sizing:border-box;height:100%;padding-bottom:1px;overflow-y:overlay!important;overflow-x:hidden}.lms-custom-pages-listing__wrapper[_ngcontent-%COMP%]     .manage-lms-pages-icon-preview{display:flex!important;justify-content:space-between;align-items:center;width:100%;line-height:17px}.lms-custom-pages-listing__wrapper[_ngcontent-%COMP%]     .manage-lms-pages-icon-preview .count-number{height:18px;line-height:1.35em;vertical-align:middle;text-align:right;width:100%}.lms-custom-pages-listing__wrapper[_ngcontent-%COMP%]     .manage-lms-pages-icon-preview .menu-number-icons{vertical-align:middle;text-align:left;margin-left:2px;width:100%}  .docebo-radio.has-thumbnail{margin-bottom:0}  .widget-mobile-compatible-icon{width:30px;height:30px;margin-bottom:5px;text-align:center}.router-outlet:not(.direction-rtl):not(.heracles-root)[_nghost-%COMP%]     .widget-mobile-compatible-icon, .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .widget-mobile-compatible-icon{margin-left:15px}.router-outlet.direction-rtl:not(.heracles-root)[_nghost-%COMP%]     .widget-mobile-compatible-icon, .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .widget-mobile-compatible-icon{margin-right:15px}  .widget-mobile-compatible-icon .zmdi{font-size:22px;line-height:30px}.ie-browser[_nghost-%COMP%]     .manage-lms-pages-icon-preview .menu-number-icons, .ie-browser   [_nghost-%COMP%]     .manage-lms-pages-icon-preview .menu-number-icons{height:19px}.page-spinner[_ngcontent-%COMP%]{padding-top:15rem}"]}),t})();var yt=n("FxmT"),Pt=n("S2Qf"),St=n("2wEv"),It=n("vEO/"),xt=n("UaIC");function Et(t,e){if(1&t){const t=M.kc();M.jc(0,"div",1),M.jc(1,"div",2),M.jc(2,"span",3),M.fd(3),M.wc(4,"t"),M.ic(),M.ic(),M.jc(5,"div",4),M.jc(6,"div",5),M.jc(7,"multilanguage-selector",6),M.rc("onLanguageSelection",function(e){return M.Uc(t),M.vc().onLanguageChange(e)})("onSwitchAssignChange",function(e){return M.Uc(t),M.vc().onSwitchAssignChange(e)}),M.ic(),M.ic(),M.jc(8,"div",7),M.ec(9,"textfield",8),M.ic(),M.jc(10,"div",7),M.ec(11,"textfield",9),M.ic(),M.jc(12,"div",7),M.ec(13,"textfield",10),M.ic(),M.ic(),M.ic()}if(2&t){const t=M.vc();M.Mb(3),M.gd(M.xc(4,30,t.codeNameDescriptionTranslatable)),M.Mb(4),M.Dc("formGroup",t.mainSettingsForm)("data",t.localizableDataForGeneralPageSettings)("fieldsValidators",t.formValidatorsForDataForGeneralPageSettings),M.Mb(2),M.Dc("id",t.textfieldComponents.code.id)("type",t.textfieldComponents.code.type)("floating_label",t.textfieldComponents.code.floating_label)("label",t.textfieldComponents.code.label)("readOnly",t.hideIconWrapper)("show_counter",t.textfieldComponents.code.show_counter)("max_length",t.textfieldComponents.code.max_length)("inputFormControl",t.textfieldComponents.code.inputFormControl),M.Mb(2),M.Dc("id",t.textfieldComponents.names.id)("type",t.textfieldComponents.names.type)("floating_label",t.textfieldComponents.names.floating_label)("multi_language",t.textfieldComponents.names.multi_language)("language",t.currentLanguage.lang)("label",t.textfieldComponents.names.label)("show_counter",t.textfieldComponents.names.show_counter)("max_length",t.textfieldComponents.names.max_length)("inputFormControl",null!=t.currentLanguage&&t.currentLanguage.lang_code?t.mainSettingsForm.controls.translationsLocalizableFields.controls.names.controls[t.currentLanguage.lang_code]:null==t.mainSettingsForm.controls?null:t.mainSettingsForm.controls.names),M.Mb(2),M.Dc("id",t.textfieldComponents.descriptions.id)("type",t.textfieldComponents.descriptions.type)("floating_label",t.textfieldComponents.descriptions.floating_label)("multi_language",t.textfieldComponents.descriptions.multi_language)("language",t.currentLanguage.lang)("show_counter",t.textfieldComponents.descriptions.show_counter)("max_length",t.textfieldComponents.descriptions.max_length)("label",t.textfieldComponents.descriptions.label)("inputFormControl",null!=t.currentLanguage&&t.currentLanguage.lang_code?t.mainSettingsForm.controls.translationsLocalizableFields.controls.descriptions.controls[t.currentLanguage.lang_code]:null==t.mainSettingsForm.controls?null:t.mainSettingsForm.controls.descriptions)}}function Tt(t,e){if(1&t){const t=M.kc();M.jc(0,"switch",20),M.rc("change",function(e){return M.Uc(t),M.vc(3).showHideAdvancedSettings(e)}),M.ic()}if(2&t){const t=M.vc(3);M.Dc("confirmLabel",t.advancedSetting.confirmLabel)("inputFormControl",t.advancedSetting.inputFormControl)("labelCustomClass",t.advancedSetting.labelCustomClass)}}function Dt(t,e){if(1&t&&M.ec(0,"dropdown",24),2&t){const t=M.vc(4);M.Dc("label",t.dropdownOAuthClient.label)("floating_label",t.dropdownOAuthClient.floating_label)("options",t.dropdownOAuthClient.options)("name",t.dropdownOAuthClient.name)("enabled",t.dropdownOAuthClient.enabled)("value",t.dropdownOAuthClient.value)("inputFormControl",t.dropdownOAuthClient.inputFormControl)}}function kt(t,e){if(1&t&&(M.jc(0,"div",21),M.ec(1,"textfield",22),M.ec(2,"textfield",22),M.dd(3,Dt,1,7,"dropdown",23),M.ic()),2&t){const t=M.vc(3);M.Mb(1),M.Dc("id",t.saltSecretComponent.id)("type",t.saltSecretComponent.type)("disabledField",t.saltSecretComponent.disabledField)("floating_label",t.saltSecretComponent.floating_label)("label",t.saltSecretComponent.label)("inputFormControl",t.saltSecretComponent.inputFormControl),M.Mb(1),M.Dc("id",t.reSaltSecretComponent.id)("type",t.reSaltSecretComponent.type)("disabledField",t.reSaltSecretComponent.disabledField)("floating_label",t.reSaltSecretComponent.floating_label)("label",t.reSaltSecretComponent.label)("inputFormControl",t.reSaltSecretComponent.inputFormControl),M.Mb(1),M.Dc("ngIf",t.dropdownOAuthClient)}}const At=function(){return{category:"pages"}},Lt=function(t,e){return{"iframe-height-desc-down":t,"iframe-height-desc":e}},jt=function(){return{category:"standard"}};function Nt(t,e){if(1&t&&(M.jc(0,"div"),M.ec(1,"ui-notification-inline",16),M.wc(2,"t"),M.wc(3,"t"),M.jc(4,"div",7),M.ec(5,"textfield",11),M.ic(),M.jc(6,"div",17),M.fd(7),M.wc(8,"t"),M.ic(),M.dd(9,Tt,1,3,"switch",18),M.dd(10,kt,4,13,"div",19),M.ic()),2&t){const t=M.vc(2);M.Mb(1),M.Dc("type","info")("title",M.yc(2,12,"Iframing internal URLs",M.Hc(21,At)))("message",M.yc(3,15,"You cannot iframe URLs of internal platform pages",M.Hc(22,At))),M.Mb(4),M.Dc("id",t.textIframeHeight.id)("type",t.textIframeHeight.type)("floating_label",t.textIframeHeight.floating_label)("label",t.textIframeHeight.label)("inputFormControl",t.textIframeHeight.inputFormControl),M.Mb(1),M.Dc("ngClass",M.Jc(23,Lt,!(null!=t.textIframeHeight&&null!=t.textIframeHeight.inputFormControl&&t.textIframeHeight.inputFormControl.valid)&&""!==(null==t.textIframeHeight||null==t.textIframeHeight.inputFormControl?null:t.textIframeHeight.inputFormControl.value),(null==t.textIframeHeight||null==t.textIframeHeight.inputFormControl?null:t.textIframeHeight.inputFormControl.valid)||""===(null==t.textIframeHeight||null==t.textIframeHeight.inputFormControl?null:t.textIframeHeight.inputFormControl.value))),M.Mb(1),M.hd(" ",M.yc(8,18,"Leave blank for auto height",M.Hc(26,jt))," "),M.Mb(2),M.Dc("ngIf",t.advancedSetting),M.Mb(1),M.Dc("ngIf",t.showAdvancedSettingFields)}}const Rt=function(){return{category:"admin_webpages"}};function Ft(t,e){if(1&t){const t=M.kc();M.jc(0,"div",1),M.jc(1,"div",2),M.jc(2,"span",3),M.fd(3),M.wc(4,"t"),M.ic(),M.ic(),M.jc(5,"div",4),M.jc(6,"div",7),M.ec(7,"textfield",11),M.ic(),M.jc(8,"div",12),M.jc(9,"span",13),M.fd(10),M.wc(11,"t"),M.ic(),M.jc(12,"radio",14),M.rc("OnChange",function(e){return M.Uc(t),M.vc().showHideIframeSettings(e)}),M.ic(),M.jc(13,"radio",14),M.rc("OnChange",function(e){return M.Uc(t),M.vc().showHideIframeSettings(e)}),M.ic(),M.ic(),M.dd(14,Nt,11,27,"div",15),M.ic(),M.ic()}if(2&t){const t=M.vc();M.Mb(3),M.gd(M.xc(4,20,t.externalLinkTranslatable)),M.Mb(4),M.Dc("id",t.textfieldUrlComponent.id)("type",t.textfieldUrlComponent.type)("floating_label",t.textfieldUrlComponent.floating_label)("label",t.textfieldUrlComponent.label)("inputFormControl",t.textfieldUrlComponent.inputFormControl),M.Mb(3),M.gd(M.yc(11,22,"Opens",M.Hc(25,Rt))),M.Mb(2),M.Dc("label",t.radioButtonInternalComponent.label)("name",t.radioButtonInternalComponent.name)("value",t.radioButtonInternalComponent.value)("enabled",t.radioButtonInternalComponent.enabled)("required",t.radioButtonInternalComponent.required)("inputFormControl",t.radioButtonInternalComponent.inputFormControl),M.Mb(1),M.Dc("label",t.radioButtonExternalComponent.label)("name",t.radioButtonExternalComponent.name)("value",t.radioButtonExternalComponent.value)("enabled",t.radioButtonExternalComponent.enabled)("required",t.radioButtonExternalComponent.required)("inputFormControl",t.radioButtonExternalComponent.inputFormControl),M.Mb(1),M.Dc("ngIf",t.showIframeSettings)}}function Ut(t,e){if(1&t){const t=M.kc();M.jc(0,"div",1),M.jc(1,"div",2),M.jc(2,"span",3),M.fd(3),M.wc(4,"t"),M.ic(),M.jc(5,"span",25),M.fd(6),M.wc(7,"t"),M.ic(),M.ic(),M.jc(8,"div",4),M.jc(9,"icon-picker",26),M.rc("onIconPicked",function(e){return M.Uc(t),M.vc().iconPicked(e)}),M.ic(),M.ic(),M.ic()}if(2&t){const t=M.vc();M.Mb(3),M.gd(M.xc(4,5,t.pageIconTranslatable)),M.Mb(3),M.gd(M.xc(7,7,t.pageIconDescriptionTranslatable)),M.Mb(3),M.Dc("default_icon",t.iconPickerComponent.default_icon)("inputFormControl",t.iconPickerComponent.input_form_control)("disabled",t.iconPickerComponent.disabled)}}function zt(t,e){if(1&t&&(M.jc(0,"div",28),M.ec(1,"switch",29),M.ic()),2&t){const t=M.vc(2);M.Mb(1),M.Dc("change",t.switchContributeButtonParams.change)("confirmLabel",t.switchContributeButtonParams.confirmLabel)("inputFormControl",t.switchContributeButtonParams.inputFormControl)("labelCustomClass",t.switchContributeButtonParams.labelCustomClass)}}function qt(t,e){if(1&t&&(M.jc(0,"div",28),M.ec(1,"switch",29),M.ic()),2&t){const t=M.vc(2);M.Mb(1),M.Dc("change",t.switchAskTheExpertButtonParams.change)("confirmLabel",t.switchAskTheExpertButtonParams.confirmLabel)("inputFormControl",t.switchAskTheExpertButtonParams.inputFormControl)("labelCustomClass",t.switchAskTheExpertButtonParams.labelCustomClass)}}function Bt(t,e){if(1&t&&(M.jc(0,"div",28),M.ec(1,"switch",29),M.ic()),2&t){const t=M.vc(2);M.Mb(1),M.Dc("change",t.switchShareViewButtonParams.change)("confirmLabel",t.switchShareViewButtonParams.confirmLabel)("inputFormControl",t.switchShareViewButtonParams.inputFormControl)("labelCustomClass",t.switchShareViewButtonParams.labelCustomClass)}}function Vt(t,e){if(1&t&&(M.jc(0,"div",1),M.jc(1,"div",2),M.jc(2,"span",3),M.fd(3),M.wc(4,"t"),M.ic(),M.jc(5,"span",25),M.fd(6),M.wc(7,"t"),M.ic(),M.ic(),M.jc(8,"div",4),M.dd(9,zt,2,4,"div",27),M.dd(10,qt,2,4,"div",27),M.dd(11,Bt,2,4,"div",27),M.ic(),M.ic()),2&t){const t=M.vc();M.Mb(3),M.gd(M.xc(4,5,t.pageCoachAndShareTitleTranslatable)),M.Mb(3),M.gd(M.xc(7,7,t.pageCoachAndShareDescriptionTranslatable)),M.Mb(3),M.Dc("ngIf",t.showCoachAndShareSettings),M.Mb(1),M.Dc("ngIf",t.showCoachAndShareSettings),M.Mb(1),M.Dc("ngIf",t.switchShareViewButtonParams)}}let Gt=(()=>{class t{constructor(t,e,n,i,s,a,o,r){this.fb=t,this._store=e,this._pagesActions=n,this.pageActions=i,this._lmsPageService=s,this.pageService=a,this.toggle=o,this._ref=r,this.showAllFormElements=!1,this.hideExternalLinkProperties=!1,this.hideIconWrapper=!1,this.advancedSetting=null,this.showAdvancedSettingFields=!1,this.showCoachAndShareSettings=!1,this.showIframeSettings=!0,this.dropdownOAuthClientOptions=[],this.enableFSBOnLangChange=!1,this.codeNameDescriptionTranslatable=_.a.t("admin_webpages","Code, Name and Description"),this.externalLinkTranslatable=_.a.t("admin_webpages","External Link Properties"),this.pageIconTranslatable=_.a.t("admin_webpages","Page Icon"),this.pageIconDescriptionTranslatable=_.a.t("admin_webpages","The icon will be used in the desktop/mobile app menu."),this.pageCoachAndShareTitleTranslatable=_.a.t("admin_webpages","Additional Page Buttons"),this.advancedSSOsubtitleTranslatable=_.a.t("admin_webpages","Your URL will contain the following parameters: unix timestamp, e-mail and security hash. This is a preview of the URL:{url}",{url:"http://www.mydomain.com/link?timestamp=1234567&username=john.doe&email=john.doe@company.com&hash=a71943mfio439djk3ck"})}static isKeyEmpty(t,e){if(e.hasOwnProperty(t))return e[t]&&e[t].hasOwnProperty("value")?null==e[t].value:null==e[t]}static getLocalizableData(e,n){const i={type:null,value:null,values:null},s=[];if(n.length>0){const a=n.length,o=[];let r=null;for(let c=0;c<a;c++)e.hasOwnProperty("controls")&&(e=e.controls[n[c]].value),!t.isKeyEmpty(n[c],e)&&e[n[c]].hasOwnProperty("type")?(i.type=e[n[c]].type,null===r&&(r=e[n[c]].type),e[n[c]].type===V.a.MULTI_LANG?i.values=e[n[c]].values:i.value=e[n[c]].value,s.push(B.a.createField(n[c],{type:i.type,values:i.values,value:i.value}))):o.push(n[c]);o.length>0&&o.forEach(t=>{s.push(B.a.createField(t,{type:r}))})}return s}ngOnInit(){this.general_data.hasOwnProperty("type")&&(this.general_data.type!==v.b.EXTERNAL&&(this.hideExternalLinkProperties=!0),""!==this.general_data.type&&this.general_data.type!==v.b.BUILTIN||(this.hideIconWrapper=!0)),this.pageCoachAndShareDescriptionTranslatable=h.b.getInstance().isPluginActive("Share7020App")?_.a.t("standard","Enable users to upload assets, ask questions to experts and copy the page URL via the corresponding buttons"):_.a.t("standard","Enable users to copy the page URL via the corresponding buttons"),this.initializeFormControlComponents(),G.a.valueUndefined(this.mainSettingsForm.controls.settings)||G.a.valueUndefined(this.mainSettingsForm.controls.settings.controls.general.controls.opens_in)||this.showHideIframeSettings(this.mainSettingsForm.controls.settings.controls.general.controls.opens_in.value)}chooseDefaultIcon(t){switch(t){case v.b.EXTERNAL:return"zmdi zmdi-link";case v.b.WIDGET:return"zmdi zmdi-view-dashboard"}}showHideIframeSettings(t){this.showIframeSettings="iframe"===t}showHideAdvancedSettings(t){const e=!this.showAdvancedSettingFields;this.mainSettingsForm.controls.settings.controls.general.controls.iframe_advanced_setting.setValue(e),this.showAdvancedSettingFields=e}initializeFormControlComponents(){if(this.formValidatorsArray=[g.x.minLength(10),g.x.maxLength(50)],this.localizableDataForGeneralPageSettings=t.getLocalizableData(this.general_data,["names","descriptions"]),this.formValidatorsForDataForGeneralPageSettings={names:[g.x.required,g.x.maxLength(255)],descriptions:[g.x.maxLength(150)]},this.hideExternalLinkProperties?this.general_data.type!==v.b.BUILTIN&&""!==this.general_data.type&&(this.generalSettingsForm=this.fb.group({show_ask_the_expert_button:[!!this.page_custom_data.hasOwnProperty("show_ask_the_expert_button")&&this.page_custom_data.show_ask_the_expert_button,g.x.required],show_contribute_button:[!!this.page_custom_data.hasOwnProperty("show_contribute_button")&&this.page_custom_data.show_contribute_button],show_share_this_view_button:[!!this.page_custom_data.hasOwnProperty("show_share_this_view_button")&&this.page_custom_data.show_share_this_view_button]}),h.b.getInstance().isPluginActive("Share7020App")||(this.generalSettingsForm.removeControl("show_contribute_button"),this.generalSettingsForm.removeControl("show_ask_the_expert_button")),this.mainSettingsForm.addControl("settings",new g.h({general:this.generalSettingsForm}))):(this.generalSettingsForm=this.fb.group({url:[this.page_custom_data.hasOwnProperty("url")?this.page_custom_data.url:"",g.x.compose([g.x.required]),j.a.validUrlValidator],opens_in:[this.page_custom_data.hasOwnProperty("opens_in")?this.page_custom_data.opens_in:"blank"],iframe_advanced_setting:[!!this.page_custom_data.hasOwnProperty("iframe_advanced_setting")&&this.page_custom_data.iframe_advanced_setting],iframe_height:[this.page_custom_data.hasOwnProperty("iframe_height")?this.page_custom_data.iframe_height:"",g.x.compose([j.a.iFrameHeight()])],salt_secret:[this.page_custom_data.hasOwnProperty("salt_secret")?this.page_custom_data.salt_secret:"",g.x.maxLength(255)],re_salt_secret:[this.page_custom_data.hasOwnProperty("salt_secret")?this.page_custom_data.salt_secret:"",g.x.maxLength(255)],oauth_client:[this.page_custom_data.hasOwnProperty("oauth_client")?this.page_custom_data.oauth_client:""],show_ask_the_expert_button:[!!this.page_custom_data.hasOwnProperty("show_ask_the_expert_button")&&this.page_custom_data.show_ask_the_expert_button,g.x.required],show_contribute_button:[!!this.page_custom_data.hasOwnProperty("show_contribute_button")&&this.page_custom_data.show_contribute_button]},{validator:j.a.mismatchedPasswords("salt_secret","re_salt_secret")}),this.mainSettingsForm.addControl("settings",new g.h({general:this.generalSettingsForm}))),this.textfieldComponents={code:{id:"textfield-for-lms-pages-external-code",type:"text",floating_label:!0,label:_.a.t("standard","Code"),inputFormControl:this.mainSettingsForm.controls.code,max_length:25,show_counter:!0},names:{id:"textfield-for-lms-pages-names",type:"text",floating_label:!0,multi_language:!0,label:_.a.t("admin_webpages","Page Name"),max_length:255,show_counter:!0},descriptions:{id:"textfield-for-lms-pages-v",type:"text",floating_label:!0,multi_language:!0,show_counter:!0,max_length:150,label:_.a.t("admin_webpages","Page Description")}},!this.hideExternalLinkProperties){if(this.textfieldUrlComponent={id:"textfield-for-lms-pages-external-link",type:"text",floating_label:!0,label:_.a.t("standard","URL"),inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.url},this.radioButtonInternalComponent={label:_.a.t("admin_webpages","In page (iframe)"),name:"radio-group",value:"iframe",enabled:!0,required:!1,inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.opens_in},this.radioButtonExternalComponent={label:_.a.t("admin_webpages","As a New Page"),name:"radio-group",value:"blank",enabled:!0,required:!1,inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.opens_in},this.textIframeHeight={id:"textfield-for-iframe-height",type:"text",floating_label:!0,label:_.a.t("player","Height (px)"),inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.iframe_height},this.advancedSetting={inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.iframe_advanced_setting,confirmLabel:_.a.t("standard","Advanced Settings"),labelCustomClass:"title-normal-regular"},this.page_custom_data.hasOwnProperty("oauth_clients")){const t=this.page_custom_data.oauth_clients;if(Object.keys(t))for(const e of Object.keys(t))this.dropdownOAuthClientOptions.push({value:t[e].client_id,label:t[e].app_name})}this.saltSecretComponent={id:"textfield-for-salt",type:"password",disabledField:!1,floating_label:!0,label:_.a.t("standard","Salt Secret"),inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.salt_secret},this.reSaltSecretComponent={id:"textfield-for-re-salt",type:"password",disabledField:!1,floating_label:!0,label:_.a.t("standard","Repeat secret"),inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.re_salt_secret},this.dropdownOAuthClient={label:_.a.t("standard","OAuth Client"),floating_label:!1,display_search:!1,grouped:!1,options:this.dropdownOAuthClientOptions,name:"oauth_client",enabled:!0,required:!1,value:this.page_custom_data.oauth_client,inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.oauth_client},this.showAdvancedSettingFields=!!this.page_custom_data.hasOwnProperty("iframe_advanced_setting")&&this.page_custom_data.iframe_advanced_setting}this.general_data.type===v.b.WIDGET&&(this.showCoachAndShareSettings=h.b.getInstance().isPluginActive("Share7020App"),this.showCoachAndShareSettings&&(this.switchContributeButtonParams={change:t=>{this.mainSettingsForm.controls.settings.controls.general.controls.show_contribute_button.setValue(!!t),this.pageService.floatingSaveButtonMarkAsDirty(!0),this.pageService.preventNavigation()},confirmLabel:this.toggle.isOn(Pt.f.TOGGLE_NEW_CONTRIBUTE)?_.a.t("standard","Show Share Content button"):_.a.t("standard","Show contribute button"),labelCustomClass:"tabs-switch-button text-grey-mid",inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.show_contribute_button},this.switchAskTheExpertButtonParams={change:t=>{this.mainSettingsForm.controls.settings.controls.general.controls.show_ask_the_expert_button.setValue(!!t),this.pageService.floatingSaveButtonMarkAsDirty(!0),this.pageService.preventNavigation()},confirmLabel:_.a.t("standard","Show ask the expert button"),labelCustomClass:"tabs-switch-button text-grey-mid",inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.show_ask_the_expert_button}),this.switchShareViewButtonParams={change:t=>{this.mainSettingsForm.controls.settings.controls.general.controls.show_share_this_view_button.setValue(!!t),this.pageService.floatingSaveButtonMarkAsDirty(!0),this.pageService.preventNavigation()},confirmLabel:_.a.t("standard","Show share this view button"),labelCustomClass:"tabs-switch-button text-grey-mid",inputFormControl:this.mainSettingsForm.controls.settings.controls.general.controls.show_share_this_view_button}),this.iconPickerComponent={default_icon:this.chooseDefaultIcon(this.general_data.type),input_form_control:this.mainSettingsForm.controls.icon,disabled:!1},this.showAllFormElements=!0,this.mainSettingsForm.updateValueAndValidity()}iconPicked(t){this.pageService.floatingSaveButtonMarkAsDirty(!0),this.pageService.preventNavigation()}onLanguageChange(t){this.currentLanguage=t.lang}onSwitchAssignChange(t){this.pageService.floatingSaveButtonMarkAsDirty(!0),this.pageService.preventNavigation()}ngOnDestroy(){this.multiLangFormSubs&&this.multiLangFormSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(M.dc(g.d),M.dc(r.d),M.dc(y),M.dc(at.e),M.dc(dt),M.dc(st.a),M.dc(Pt.g),M.dc(M.i))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],inputs:{mainSettingsForm:"mainSettingsForm",general_data:"general_data",page_custom_data:"page_custom_data",panel_id:"panel_id",page_id:"page_id"},decls:4,vars:4,consts:[["class","general-page-settings__wrapper border-grey-light mdl-grid",4,"ngIf"],[1,"general-page-settings__wrapper","border-grey-light","mdl-grid"],[1,"mdl-cell","mdl-cell--4-col","lms-pages-setting-box"],[1,"title-normal"],[1,"mdl-cell","mdl-cell--8-col","lms-pages-setting-box"],[1,"language-selector-switch","mdl-cell--12-col"],[3,"formGroup","data","fieldsValidators","onLanguageSelection","onSwitchAssignChange"],[1,"url-textfield-wrap"],[3,"id","type","floating_label","label","readOnly","show_counter","max_length","inputFormControl"],[3,"id","type","floating_label","multi_language","language","label","show_counter","max_length","inputFormControl"],[3,"id","type","floating_label","multi_language","language","show_counter","max_length","label","inputFormControl"],[3,"id","type","floating_label","label","inputFormControl"],[1,"radio-buttons-wrap"],[1,"subtitle-normal"],[3,"label","name","value","enabled","required","inputFormControl","OnChange"],[4,"ngIf"],[3,"type","title","message"],[1,"bolded","hint","text-grey-mid",3,"ngClass"],[3,"confirmLabel","inputFormControl","labelCustomClass","change",4,"ngIf"],["class","advanced-sso-desc advanced-sso-secret-key",4,"ngIf"],[3,"confirmLabel","inputFormControl","labelCustomClass","change"],[1,"advanced-sso-desc","advanced-sso-secret-key"],[3,"id","type","disabledField","floating_label","label","inputFormControl"],[3,"label","floating_label","options","name","enabled","value","inputFormControl",4,"ngIf"],[3,"label","floating_label","options","name","enabled","value","inputFormControl"],[1,"subtitle-normal","text-grey-mid"],[3,"default_icon","inputFormControl","disabled","onIconPicked"],["class","additional-page-switch",4,"ngIf"],[1,"additional-page-switch"],[3,"change","confirmLabel","inputFormControl","labelCustomClass"]],template:function(t,e){1&t&&(M.dd(0,Et,14,32,"div",0),M.dd(1,Ft,15,26,"div",0),M.dd(2,Ut,10,9,"div",0),M.dd(3,Vt,12,9,"div",0)),2&t&&(M.Dc("ngIf",e.showAllFormElements),M.Mb(1),M.Dc("ngIf",e.showAllFormElements&&!e.hideExternalLinkProperties),M.Mb(1),M.Dc("ngIf",e.showAllFormElements&&!e.hideIconWrapper),M.Mb(1),M.Dc("ngIf",e.showAllFormElements&&(e.showCoachAndShareSettings||e.switchShareViewButtonParams)))},directives:[F.p,W.a,g.p,g.i,H.a,U.a,a.Bc,F.n,St.a,It.a,xt.a],pipes:[_.b],encapsulation:2}),t})();var Wt=n("M+yG");function Ht(t,e){1&t&&(M.jc(0,"div",2),M.jc(1,"div",3),M.ec(2,"ui-spinner"),M.jc(3,"div",4),M.fd(4),M.wc(5,"t"),M.ic(),M.ic(),M.ic()),2&t&&(M.Mb(4),M.gd(M.xc(5,1,"Loading settings...")))}function $t(t,e){if(1&t&&M.ec(0,"accordion",9),2&t){const t=M.vc(2);M.Dc("type",t.accordionSettings.type)("panels",t.accordionSettings.panels)}}function Qt(t,e){if(1&t&&(M.jc(0,"div",5),M.jc(1,"div",6),M.jc(2,"div",7),M.dd(3,$t,1,2,"accordion",8),M.ic(),M.ic(),M.ic()),2&t){const t=M.vc();M.Mb(3),M.Dc("ngIf",t.accordionSettings)}}let Jt=(()=>{class t{constructor(t,e,n){this.lmsPageService=t,this.pageService=e,this.route=n,this.builtin_page=!0}ngOnInit(){this.settings&&(this.switchButtonParams={change:t=>{this.mainSettingsForm.controls.published.setValue(t?1:0)},confirmLabel:_.a.t("standard","Publish"),labelCustomClass:"tabs-switch-button text-grey-mid",inputFormControl:this.mainSettingsForm.controls.published},this.accordionSettings={type:"split",panels:[]},this.routeSubscriber=this.route.params.subscribe(t=>{void 0!==t.panel&&(this.settingsPanelOpened=!0),this.initializeAccordionComponentParams()}))}initializeAccordionComponentParams(){let t;const e={code:this.settings.code,names:this.settings.names,descriptions:this.settings.descriptions,icon:this.settings.icon,type:this.settings.type},n=this.settings.settings.find(t=>"general"===t.id);t={params:{mainSettingsForm:this.mainSettingsForm,general_data:e,page_custom_data:n.data,panel_id:0,page_id:this.page_id},component:Gt},this.accordionSettings.panels.push({title:n.name,description:n.descriptions,content:t,opened:this.settingsPanelOpened,active:this.settingsPanelOpened})}ngOnDestroy(){this.lmsPageService.dispatchPreviewLoading({rows:this.settings.rows}),this.routeSubscriber&&this.routeSubscriber.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(M.dc(dt),M.dc(st.a),M.dc(i.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],inputs:{settings:"settings",page_id:"page_id",mainSettingsForm:"mainSettingsForm",builtin_page:"builtin_page"},decls:2,vars:2,consts:[["class","hydra-theme-settings-accordion__loader",4,"ngIf"],["class","mdl-wrapper lms-page-settings__wrapper",4,"ngIf"],[1,"hydra-theme-settings-accordion__loader"],[1,"loader"],[1,"message","text-grey-mid"],[1,"mdl-wrapper","lms-page-settings__wrapper"],[1,"mdl-grid"],[1,"mdl-cell","mdl-cell--8-col"],[3,"type","panels",4,"ngIf"],[3,"type","panels"]],template:function(t,e){1&t&&(M.dd(0,Ht,6,3,"div",0),M.dd(1,Qt,4,1,"div",1)),2&t&&(M.Dc("ngIf",!e.settings),M.Mb(1),M.Dc("ngIf",e.settings))},directives:[F.p,a.bd,Wt.a],pipes:[_.b],encapsulation:2}),t})();var Yt=n("pLZG");let Kt=(()=>{class t{static mobileCompatibleWidgets(t){return["channels","coursesandlearningplans","catalog","customcontentbox","image","video-embed","htmlwysiwyg","myprofile","activitiesstream",...t.isOn(Pt.f.TOGGLE_MOBILE_GAMIFICATION)?["gamification"]:[],...t.isOn(Pt.f.TOGGLE_MOBILE_TASK_LIST_WIDGET)?["tasklist"]:[],...t.isOn(Pt.f.TOGGLE_MY_CALENDAR_WIDGET_MOBILE)?["mycalendar"]:[],...t.isOn(Pt.f.TOGGLE_MOBILE_QNA_WIDGET)?["questionsandanswers"]:[]]}static returnEmptyColumnInitialized(t,e){return{size:e,sequence:t,widgets:[]}}static watchOutForExternalCloseOfRightPanel(t,e){const n=t.select("page").subscribe(i=>{i.rightpanel.show&&!i.rightpanel.visible&&Object.keys(i.rightpanel.state).length>1&&(setTimeout(()=>{Object.keys(i.rightpanel.state).length>1&&t.dispatch(e.hideRightpanel())},200),n.unsubscribe())})}static getMobileWidgets(e,n){if(!e)return t.mobileStaticWidgets=[],void(t.notMobileStaticWidgets=[]);const i=["rows","columns","widgets"],s=Object.keys(e);if(Boolean(s.find(t=>i.indexOf(t)>-1))){const a=s.find(t=>i.indexOf(t)>-1)||"";for(const i of e[a])t.getMobileWidgets(i,n)}else t.mobileCompatibleWidgets(n).indexOf(e.type)>-1?t.mobileStaticWidgets.push(e):t.notMobileStaticWidgets.push(e)}static returnRowColumnSize(t,e){switch(e||(e=0),t){case v.e.FULL_ROW:return v.d.FULL_ROW;case v.e.HALF_HALF_COLUMNS:return v.d.HALF_COLUMNS;case v.e.ONE_THIRD_COLUMNS:return v.d.ONE_THIRD;case v.e.ONE_TO_TWO_THIRDS:return e%2==0?v.d.ONE_THIRD:v.d.TWO_THIRDS;case v.e.TWO_TO_ONE_THIRDS:return e%2==0?v.d.TWO_THIRDS:v.d.ONE_THIRD;default:return v.d.FULL_ROW}}static changeRowAndWidgetsSequences(t){for(let e=0;e<t.length;e++){t[e].sequence=e;for(let n=0;n<t[e].columns.length;n++){t[e].columns[n].size=this.returnRowColumnSize(t[e].layout,t[e].columns[n].sequence);for(let i=0;i<t[e].columns[n].widgets.length;i++)t[e].columns[n].widgets[i]&&(t[e].columns[n].widgets[i].position.row=e,t[e].columns[n].widgets[i].position.column=n,t[e].columns[n].widgets[i].position.sequence=i)}}}static distributeWidgetsForTypeOfLayout(t,e){if(e[t].layout===v.e.FULL_ROW&&0===e[t].columns.length)return;const n=e[t].columns.length,i=this.returnRowColumnsNumber(e[t].layout);if(n!==i)if(n>i)for(let s=n-1;s>i-1;s--)this.transferWidgetsFromColumnToColumn(e,t,s,s-1);else for(let s=0;s<i;s++)if(0===e[t].columns.filter(t=>Number(t.sequence)===s).length)switch(e[t].layout){case v.e.FULL_ROW:e[t].columns.push(this.returnEmptyColumnInitialized(s,v.d.FULL_ROW));break;case v.e.HALF_HALF_COLUMNS:e[t].columns.push(this.returnEmptyColumnInitialized(s,v.d.HALF_COLUMNS));break;case v.e.ONE_TO_TWO_THIRDS:e[t].columns.push(this.returnEmptyColumnInitialized(s,0===s?v.d.ONE_THIRD:v.d.TWO_THIRDS));break;case v.e.TWO_TO_ONE_THIRDS:e[t].columns.push(this.returnEmptyColumnInitialized(s,0===s?v.d.TWO_THIRDS:v.d.ONE_THIRD));break;case v.e.ONE_THIRD_COLUMNS:e[t].columns.push(this.returnEmptyColumnInitialized(s,v.d.ONE_THIRD))}}static createEmptyColumnsBasedOnRowTemplate(e){const n=[];switch(e){case v.e.FULL_ROW:n.push(t.returnEmptyColumnInitialized(0,v.d.FULL_ROW));break;case v.e.HALF_HALF_COLUMNS:n.push(t.returnEmptyColumnInitialized(0,v.d.HALF_COLUMNS)),n.push(t.returnEmptyColumnInitialized(1,v.d.HALF_COLUMNS));break;case v.e.ONE_TO_TWO_THIRDS:n.push(t.returnEmptyColumnInitialized(0,v.d.ONE_THIRD)),n.push(t.returnEmptyColumnInitialized(1,v.d.TWO_THIRDS));break;case v.e.TWO_TO_ONE_THIRDS:n.push(t.returnEmptyColumnInitialized(0,v.d.TWO_THIRDS)),n.push(t.returnEmptyColumnInitialized(1,v.d.ONE_THIRD));break;case v.e.ONE_THIRD_COLUMNS:n.push(t.returnEmptyColumnInitialized(0,v.d.ONE_THIRD)),n.push(t.returnEmptyColumnInitialized(1,v.d.ONE_THIRD)),n.push(t.returnEmptyColumnInitialized(2,v.d.ONE_THIRD))}return n}static transferWidgetsFromColumnToColumn(t,e,n,i){t[e].columns[i].widgets=[...t[e].columns[i].widgets,...t[e].columns[n].widgets],t[e].columns.pop()}static returnRowColumnsNumber(t){switch(t){case v.e.ONE_THIRD_COLUMNS:return 3;case v.e.FULL_ROW:return 1;case v.e.TWO_TO_ONE_THIRDS:case v.e.ONE_TO_TWO_THIRDS:case v.e.HALF_HALF_COLUMNS:return 2;default:return console.error("There was a problem reading the layout of the row"),0}}}return t.mobileStaticWidgets=[],t.notMobileStaticWidgets=[],t.dynamicWidgetTypes=["activitiesstream","activityoverview","catalog","channels","coursesandlearningplans","gamification","mycalendar","mykpis","myprofile","mytransactions","questionsandanswers","subscriptioncodes","tasklist"],t.staticWidgetTypes=["customcontentbox","video-embed","htmlwysiwyg","iframe","image"],t})();function Xt(t,e){if(1&t){const t=M.kc();M.jc(0,"div",3),M.jc(1,"radio",4),M.rc("OnChange",function(e){return M.Uc(t),M.vc().changeOfValue(e)}),M.ic(),M.ic()}if(2&t){const t=e.$implicit,n=M.vc();M.Mb(1),M.Dc("inputFormControl",n.selectedRowStyle)("label",t.label)("name",t.name)("thumbnail",t.thumbnail)("value",t.value)}}const Zt=function(){return{category:"admin_webpages"}};let te=(()=>{class t{constructor(t){this.fb=t,this.action=null,this.selectedRowStyle=new g.e("12"),this.rowStructureControl=new g.h({}),this.row_styles=[],this.row_styles=[{label:_.a.t("admin_webpages","1/1 - Full width"),name:"layout_style_12",value:"12",thumbnail:"/public/images/pages/row-item-12@2x.png"},{label:_.a.t("admin_webpages","1/2 - Half width"),name:"",value:"6_6",thumbnail:"/public/images/pages/row-item-6-6@2x.png"},{label:_.a.t("admin_webpages","1/3 - Three columns"),name:"",value:"4_4_4",thumbnail:"/public/images/pages/row-item-4-4-4@2x.png"},{label:_.a.t("admin_webpages","2/3 + 1/3 - Two columns"),name:"",value:"8_4",thumbnail:"/public/images/pages/row-item-8-4@2x.png"},{label:_.a.t("admin_webpages","1/3 + 2/3 - Two columns"),name:"",value:"4_8",thumbnail:"/public/images/pages/row-item-4-8@2x.png"}]}ngOnInit(){null!==this.action&&this.createNewRowActions(),void 0!==this.settings&&this.editRowActions()}createNewRowActions(){this.rowStructureControl=this.fb.group({background:[{}],layout:[this.selectedRowStyle.value],sequence:[this.mockUpLayoutRows.length]})}editRowActions(){this.selectedRowStyle.setValue(this.settings.layout),this.rowStructureControl=this.fb.group({layout:[this.selectedRowStyle.value]})}saveRow(){return this.rowFormControl&&this.rowFormControl.controls.layout.setValue(this.rowStructureControl.controls.layout.value),this.rowStructureControl}goToRowSettings(){return this.rowStructureControl}changeOfValue(t){this.selectedRowStyle.setValue(t),this.rowStructureControl.controls.layout.setValue(t)}}return t.\u0275fac=function(e){return new(e||t)(M.dc(g.d))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],inputs:{mockUpLayoutRows:"mockUpLayoutRows",action:"action",rowFormControl:"rowFormControl",settings:"settings"},decls:5,vars:6,consts:[[1,"pages-wizard-step-wrapper","bg-grey-superlight"],[1,"step-description","hint","text-grey-mid","border-grey-light","bg-white"],["class","row-style-data-row data-row border-grey-light bg-white text-basic-size",4,"ngFor","ngForOf"],[1,"row-style-data-row","data-row","border-grey-light","bg-white","text-basic-size"],[3,"inputFormControl","label","name","thumbnail","value","OnChange"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.jc(1,"div",1),M.fd(2),M.wc(3,"t"),M.ic(),M.dd(4,Xt,2,5,"div",2),M.ic()),2&t&&(M.Mb(2),M.hd(" ",M.yc(3,2,"Select one of the layouts listed below:",M.Hc(5,Zt))," "),M.Mb(2),M.Dc("ngForOf",e.row_styles))},directives:[F.o,U.a],pipes:[_.b],styles:[".row-style-data-row[_ngcontent-%COMP%] {\n        border-style: solid;\n        border-bottom-width: 1px;\n        padding: 10px 25px 0;\n        box-sizing: border-box;\n        height: 76px;\n      }"]}),t})();var ee=n("OLAh"),ne=n("fnIB");const ie=function(){return{category:"admin_webpages"}};function se(t,e){1&t&&(M.jc(0,"div",11),M.fd(1),M.wc(2,"t"),M.ic()),2&t&&(M.Mb(1),M.hd(" ",M.yc(2,1,"Define settings for this row",M.Hc(4,ie))," "))}function ae(t,e){if(1&t&&(M.jc(0,"div",12),M.ec(1,"color-picker",13),M.ic()),2&t){const t=M.vc();M.Mb(1),M.Dc("label",t.backgroundSettingComponents.color_picker.label)("defaultColor",t.backgroundSettingComponents.color_picker.defaultColor)("inputFormControl",t.rowFormControl.controls.background.controls.color)}}function oe(t,e){if(1&t){const t=M.kc();M.jc(0,"div",14),M.jc(1,"single-upload",15),M.rc("uploaded",function(){return M.Uc(t),M.vc().updateValuesForUploaderComponents("image_url")}),M.ic(),M.ic()}if(2&t){const t=M.vc();M.Mb(1),M.ad(t.backgroundSettingComponents.image_uploader.style),M.Dc("label",t.backgroundSettingComponents.image_uploader.label)("placeholder",t.backgroundSettingComponents.image_uploader.placeholder)("allowed_extensions",t.backgroundSettingComponents.image_uploader.allowed_extensions)("max_file_size",t.backgroundSettingComponents.image_uploader.max_file_size)("disabledField",t.backgroundSettingComponents.image_uploader.disabledField)("collection",t.backgroundSettingComponents.image_uploader.collection)("subfolder",t.backgroundSettingComponents.image_uploader.subfolder)("disabledDelete",t.backgroundSettingComponents.image_uploader.disabledDelete)("subtitle",t.backgroundSettingComponents.image_uploader.subtitle)("showPreview",t.backgroundSettingComponents.image_uploader.showPreview)("inputFormControl",t.rowFormControl.controls.background.controls.image_url)}}function re(t,e){if(1&t){const t=M.kc();M.jc(0,"div",14),M.jc(1,"single-upload",15),M.rc("uploaded",function(){return M.Uc(t),M.vc().updateValuesForUploaderComponents("video_url")}),M.ic(),M.ic()}if(2&t){const t=M.vc();M.Mb(1),M.ad(t.backgroundSettingComponents.video_uploader.style),M.Dc("label",t.backgroundSettingComponents.video_uploader.label)("placeholder",t.backgroundSettingComponents.video_uploader.placeholder)("allowed_extensions",t.backgroundSettingComponents.video_uploader.allowed_extensions)("max_file_size",t.backgroundSettingComponents.video_uploader.max_file_size)("disabledField",t.backgroundSettingComponents.video_uploader.disabledField)("collection",t.backgroundSettingComponents.video_uploader.collection)("subfolder",t.backgroundSettingComponents.video_uploader.subfolder)("disabledDelete",t.backgroundSettingComponents.video_uploader.disabledDelete)("subtitle",t.backgroundSettingComponents.video_uploader.subtitle)("showPreview",t.backgroundSettingComponents.video_uploader.showPreview)("inputFormControl",t.rowFormControl.controls.background.controls.video_url)}}const ce=function(){return{category:"branding"}};function le(t,e){if(1&t){const t=M.kc();M.jc(0,"div",14),M.jc(1,"div",16),M.jc(2,"div",17),M.fd(3),M.wc(4,"t"),M.ic(),M.jc(5,"div",18),M.fd(6),M.wc(7,"t"),M.ic(),M.ic(),M.jc(8,"single-upload",15),M.rc("uploaded",function(){return M.Uc(t),M.vc().updateValuesForUploaderComponents("video_fallback_image")}),M.ic(),M.ic()}if(2&t){const t=M.vc();M.Mb(3),M.gd(M.yc(4,15,"Fallback image",M.Hc(21,ce))),M.Mb(3),M.hd("",M.yc(7,18,"In case of video is not supported or did not load this image will remain as fallback.",M.Hc(22,ce))," "),M.Mb(2),M.ad(t.backgroundSettingComponents.image_uploader.style),M.Dc("label",t.backgroundSettingComponents.image_uploader.label)("placeholder",t.backgroundSettingComponents.image_uploader.placeholder)("allowed_extensions",t.backgroundSettingComponents.image_uploader.allowed_extensions)("max_file_size",t.backgroundSettingComponents.image_uploader.max_file_size)("disabledField",t.backgroundSettingComponents.image_uploader.disabledField)("collection",t.backgroundSettingComponents.image_uploader.collection)("subfolder",t.backgroundSettingComponents.image_uploader.subfolder)("disabledDelete",t.backgroundSettingComponents.image_uploader.disabledDelete)("subtitle",t.backgroundSettingComponents.image_uploader.subtitle)("showPreview",t.backgroundSettingComponents.image_uploader.showPreview)("inputFormControl",t.rowFormControl.controls.background.controls.video_fallback_image)}}const de=function(){return{category:"standard"}};let ge=(()=>{class t{constructor(t,e){this.fb=t,this.pageService=e,this.action=null,this.showSpecificUIOptions="no-color",this.consoleLogStyles="color: pink; font-size: 18px; font-weight: bold",this.radioButtonChoicesForRowBackground={no_color:{label:_.a.t("branding","No Color"),name:"radio-no-color-for-background-row-settings",value:"no-color",change:t=>{this.radioFunction(t)}},color:{label:_.a.t("standard","Color"),name:"radio-color-for-background-row-settings",value:"color",change:t=>{this.radioFunction(t)}},image:{label:_.a.t("standard","_IMAGE"),name:"radio-image-for-background-row-settings",value:"image",change:t=>{this.radioFunction(t)}},video:{label:_.a.t("profile","_USER_VIDEO"),name:"radio-video-for-background-row-settings",value:"video",change:t=>{this.radioFunction(t)}}},this.backgroundSettingComponents={color_picker:{label:_.a.t("standard","Background color"),defaultColor:"var(--ui-color-layout-brand)"},image_uploader:{style:"form",label:_.a.t("standard","Upload a background image"),placeholder:_.a.t("standard","Click to choose an image"),allowed_extensions:["bmp","gif","ico","jpeg","jpg","png"],max_file_size:2,disabledField:!1,collection:"uploads",subfolder:"pages/"+this.page_id,disabledDelete:!1,subtitle:_.a.t("standard","Max. image size: {mb_size}",{mb_size:"2MB"}),showPreview:!0},video_uploader:{style:"form",label:_.a.t("standard","Upload a background video"),placeholder:_.a.t("standard","Click to choose a video"),allowed_extensions:["3gp","3gp2","avi","flv","mkv","mov","mp4","mpeg","mpeg4","mpg","mpg2","ogg","ogm","wmv"],max_file_size:10,disabledField:!1,collection:"uploads",subfolder:"pages/"+this.page_id,disabledDelete:!1,subtitle:_.a.t("standard","Max. image size: {mb_size}",{mb_size:"10MB"}),showPreview:!1}}}ngOnInit(){null===this.action?this.showSpecificUIOptions=this.rowFormControl.controls.background.controls.type.value:this.setUpSettingsForANewRow()}setUpSettingsForANewRow(){this.rowFormControl.controls.background=this.fb.group({type:["no-color"],color:["var(--ui-color-typography-accent)"],image_url:[""],video_url:[""],video_fallback_image:[""]})}updateValuesForUploaderComponents(t){this.rowFormControl.controls.background.controls[t].updateValueAndValidity(),this.rowFormControl.controls.background.controls[t].markAsDirty()}radioFunction(t){let e;this.showSpecificUIOptions=t,e="image"===t||"video"===t?t+"_url":t;const n=Object.keys(this.rowFormControl.controls.background.controls);for(let i=0;i<n.length;i++)this.rowFormControl.controls.background.controls[n[i]].setValidators(null),this.rowFormControl.controls.background.controls[n[i]].updateValueAndValidity();switch(e){case"image_url":this.rowFormControl.controls.background.controls.image_url.setValidators(g.x.required),this.rowFormControl.controls.background.controls.image_url.updateValueAndValidity();break;case"video_url":this.rowFormControl.controls.background.controls.video_url.setValidators(g.x.required),this.rowFormControl.controls.background.controls.video_url.updateValueAndValidity(),this.rowFormControl.controls.background.controls.video_fallback_image.setValidators(g.x.required),this.rowFormControl.controls.background.controls.video_fallback_image.updateValueAndValidity()}}saveRow(){if(this.rowFormControl.markAsTouched(),this.rowFormControl.markAsDirty(),this.pageService.floatingSaveButtonMarkAsDirty(!0),this.pageService.preventNavigation(),null!==this.action)return this.saveNewRow();this.editExistingRow()}editExistingRow(){const t=Object.keys(this.rowFormControl.controls.background.controls);let e=this.rowFormControl.controls.background.controls.type.value;"image"!==e&&"video"!==e||(e+="_url");for(let n=0;n<t.length;n++){if(t[n]!==e&&"type"!==t[n]){if("video_fallback_image"===t[n]&&"video_url"===e)continue;this.rowFormControl.controls.background.removeControl(t[n])}this.rowFormControl.updateValueAndValidity()}}saveNewRow(){if(!this.rowFormControl.controls.background.valid)return!1;const t=Kt.createEmptyColumnsBasedOnRowTemplate(this.rowFormControl.controls.layout.value),e=Object.keys(this.rowFormControl.controls.background.controls);let n=this.rowFormControl.controls.background.controls.type.value;"image"!==n&&"video"!==n||(n+="_url");for(let i=0;i<e.length;i++){if(e[i]!==n&&"type"!==e[i]){if("video_fallback_image"===e[i]&&"video_url"===n)continue;this.rowFormControl.controls.background.removeControl(e[i])}this.rowFormControl.updateValueAndValidity()}return this.rowFormControl.addControl("columns",new g.e),this.rowFormControl.controls.columns.setValue(t),this.mockUpLayoutRows[this.action](this.rowFormControl.value),!0}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(M.dc(g.d),M.dc(st.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],inputs:{page_id:"page_id",settings:"settings",mockUpLayoutRows:"mockUpLayoutRows",action:"action",rowFormControl:"rowFormControl"},decls:23,vars:35,consts:[[1,"widget-creation_wrapper"],["class","widget-setting-step-description hint text-grey-mid border-grey-light bg-white",4,"ngIf"],[1,"widget-settings-body__wrapper","bg-white"],[1,"widget-settings-box__wrapper","border-grey-light","defined-border"],[1,"row-settings-subtitle"],[1,"main-subtitle","bolded","text-basic-size"],[1,"hint-subtitle","hint","text-grey-mid"],[1,"create-new-row-widget-in-desktop-composer-radio"],[3,"label","name","value","inputFormControl","change"],["class","mdl-cell mdl-cell--5-col",4,"ngIf"],["class","mdl-cell mdl-cell--12-col",4,"ngIf"],[1,"widget-setting-step-description","hint","text-grey-mid","border-grey-light","bg-white"],[1,"mdl-cell","mdl-cell--5-col"],[3,"label","defaultColor","inputFormControl"],[1,"mdl-cell","mdl-cell--12-col"],[3,"label","placeholder","allowed_extensions","max_file_size","disabledField","collection","subfolder","disabledDelete","subtitle","showPreview","inputFormControl","uploaded"],[1,"mdl-cell--12-col","fallback-image-caption"],[1,"text-grey-dark","bolded"],[1,"text-grey-mid","hint"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.dd(1,se,3,5,"div",1),M.jc(2,"div",2),M.jc(3,"div",3),M.jc(4,"div",4),M.jc(5,"div",5),M.fd(6),M.wc(7,"t"),M.ic(),M.jc(8,"div",6),M.fd(9),M.wc(10,"t"),M.ic(),M.ic(),M.jc(11,"div",7),M.ec(12,"radio",8),M.ic(),M.jc(13,"div",7),M.ec(14,"radio",8),M.dd(15,ae,2,3,"div",9),M.ic(),M.jc(16,"div",7),M.ec(17,"radio",8),M.dd(18,oe,2,13,"div",10),M.ic(),M.jc(19,"div",7),M.ec(20,"radio",8),M.dd(21,re,2,13,"div",10),M.dd(22,le,9,23,"div",10),M.ic(),M.ic(),M.ic(),M.ic()),2&t&&(M.Mb(1),M.Dc("ngIf",e.action),M.Mb(5),M.hd(" ",M.yc(7,27,"Background",M.Hc(33,de))," "),M.Mb(3),M.hd(" ",M.yc(10,30,"Setup the background for this row",M.Hc(34,ie))," "),M.Mb(3),M.Dc("label",e.radioButtonChoicesForRowBackground.no_color.label)("name",e.radioButtonChoicesForRowBackground.no_color.name)("value",e.radioButtonChoicesForRowBackground.no_color.value)("inputFormControl",e.rowFormControl.controls.background.controls.type)("change",e.radioButtonChoicesForRowBackground.no_color.change),M.Mb(2),M.Dc("label",e.radioButtonChoicesForRowBackground.color.label)("name",e.radioButtonChoicesForRowBackground.color.name)("value",e.radioButtonChoicesForRowBackground.color.value)("inputFormControl",e.rowFormControl.controls.background.controls.type)("change",e.radioButtonChoicesForRowBackground.color.change),M.Mb(1),M.Dc("ngIf","color"===e.showSpecificUIOptions),M.Mb(2),M.Dc("label",e.radioButtonChoicesForRowBackground.image.label)("name",e.radioButtonChoicesForRowBackground.image.name)("value",e.radioButtonChoicesForRowBackground.image.value)("inputFormControl",e.rowFormControl.controls.background.controls.type)("change",e.radioButtonChoicesForRowBackground.image.change),M.Mb(1),M.Dc("ngIf","image"===e.showSpecificUIOptions),M.Mb(2),M.Dc("label",e.radioButtonChoicesForRowBackground.video.label)("name",e.radioButtonChoicesForRowBackground.video.name)("value",e.radioButtonChoicesForRowBackground.video.value)("inputFormControl",e.rowFormControl.controls.background.controls.type)("change",e.radioButtonChoicesForRowBackground.video.change),M.Mb(1),M.Dc("ngIf","video"===e.showSpecificUIOptions),M.Mb(1),M.Dc("ngIf","video"===e.showSpecificUIOptions))},directives:[F.p,U.a,ee.a,ne.a],pipes:[_.b],styles:[".defined-border[_ngcontent-%COMP%] {\n        border-width: 0 0 1px;\n        border-style: solid;\n      }\n\n      .row-settings-subtitle[_ngcontent-%COMP%] {\n        padding-bottom: 25px;\n      }\n\n      .hint-subtitle[_ngcontent-%COMP%] {\n        margin-top: 3px;\n      }\n\n      .fallback-image-caption[_ngcontent-%COMP%] {\n        margin-bottom: 5px;\n      }"]}),t})();var ue=n("DbCY"),he=n("Nasa"),pe=n("zMZL");const me=function(){return{category:"course_management"}};function _e(t,e){if(1&t&&(M.hc(0),M.fd(1),M.wc(2,"t"),M.jc(3,"a",8),M.fd(4),M.wc(5,"t"),M.ic(),M.fd(6),M.wc(7,"t"),M.gc()),2&t){const t=M.vc(2);M.Mb(1),M.hd("",M.xc(2,4,"Check our")," "),M.Mb(2),M.Ec("href",t.knowledgeBase,M.Xc),M.Mb(1),M.gd(M.yc(5,6,"Knowledge Base",M.Hc(11,me))),M.Mb(2),M.hd(" ",M.xc(7,9,"for further information."),"")}}const be=function(){return{category:"app7020"}};function fe(t,e){if(1&t){const t=M.kc();M.jc(0,"div",1),M.jc(1,"div",2),M.ec(2,"i",3),M.ic(),M.jc(3,"div",4),M.jc(4,"p",5),M.fd(5),M.wc(6,"t"),M.dd(7,_e,8,12,"ng-container",6),M.ic(),M.ic(),M.jc(8,"div",7),M.rc("click",function(){return M.Uc(t),M.vc().onClick()}),M.jc(9,"strong"),M.fd(10),M.wc(11,"t"),M.ic(),M.ic(),M.ic()}if(2&t){const t=M.vc();M.Mb(5),M.hd("",M.xc(6,3,t.infoBarLabel)," "),M.Mb(2),M.Dc("ngIf",""!==t.knowledgeBase),M.Mb(3),M.gd(M.yc(11,5,"Got it",M.Hc(8,be)))}}let we=(()=>{class t{constructor(){this.knowledgeBase="",this.infoBarIsVisible=!1}ngOnInit(){pe.a.getInstance().get(this.localStorageKey,null)||(this.infoBarIsVisible=!0)}onClick(){this.infoBarIsVisible=!1,pe.a.getInstance().set(this.localStorageKey,"hidden")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=M.Xb({type:t,selectors:[["manage-pages-info-bar"]],inputs:{infoBarLabel:"infoBarLabel",localStorageKey:"localStorageKey",knowledgeBase:"knowledgeBase"},decls:1,vars:1,consts:[["class","info-bar__wrapper bg-white border-grey-light",4,"ngIf"],[1,"info-bar__wrapper","bg-white","border-grey-light"],[1,"info-bar__icon","text-main"],[1,"zmdi","zmdi-info"],[1,"info-bar__label"],[1,"bolded","text-grey-mid"],[4,"ngIf"],[1,"info-bar__action","text-main",3,"click"],["target","_blank",3,"href"]],template:function(t,e){1&t&&M.dd(0,fe,12,9,"div",0),2&t&&M.Dc("ngIf",e.infoBarIsVisible)},directives:[F.p],pipes:[_.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.info-bar__wrapper[_ngcontent-%COMP%]{display:flex;justify-content:stretch;align-content:center;align-items:center;padding:15px 35px;border-width:0 0 1px;border-style:solid}.info-bar__icon[_ngcontent-%COMP%]   .zmdi[_ngcontent-%COMP%]{font-size:24px;line-height:24px}.info-bar__label[_ngcontent-%COMP%]{flex-grow:1;padding:0 18px}.info-bar__label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;line-height:18px}.info-bar__label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600}.info-bar__label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .info-bar__label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.info-bar__action[_ngcontent-%COMP%]{min-width:50px;font-size:14px;text-transform:uppercase;cursor:pointer}[_nghost-%COMP%]{display:block}.narrow[_nghost-%COMP%]   .info-bar__wrapper[_ngcontent-%COMP%]{padding:15px 24px}"]}),t})();var Ce=n("mrSG"),Oe=n("hQwR"),ve=n("2YCl"),Me=function(t){return t[t.EDIT="edit"]="EDIT",t[t.DELETE_WIDGET="delete"]="DELETE_WIDGET",t}({}),ye=n("tlsT");const Pe=["dynamicWarningMsgElement"];function Se(t,e){1&t&&(M.jc(0,"div",3),M.jc(1,"div",4),M.ec(2,"icon",5),M.ic(),M.ec(3,"div",6,7),M.ic())}function Ie(t,e){if(1&t&&(M.jc(0,"span",14),M.wc(1,"t"),M.ec(2,"i",15),M.ic()),2&t){const t=M.vc(2);M.Ec("tooltip",M.xc(1,2,t.mobileIconTooltipText)),M.Dc("position","top")}}function xe(t,e){if(1&t&&(M.jc(0,"span",14),M.wc(1,"t"),M.ec(2,"i",16),M.ic()),2&t){const t=M.vc(2);M.Ec("tooltip",M.xc(1,2,t.desktopIconTooltipText)),M.Dc("position","top")}}function Ee(t,e){if(1&t){const t=M.kc();M.jc(0,"div",8),M.jc(1,"div",9),M.jc(2,"radio",10),M.rc("OnChange",function(){M.Uc(t);const n=e.index;return M.vc().goToWidgetSettings(n)}),M.ic(),M.dd(3,Ie,3,4,"span",11),M.dd(4,xe,3,4,"span",11),M.ic(),M.jc(5,"div",12),M.ec(6,"img",13),M.ic(),M.ic()}if(2&t){const t=e.$implicit,n=e.index,i=M.vc();M.Mb(2),M.Dc("inputFormControl",i.selectedWidgetType)("label",t.config.heading)("name",t.config.name)("subtitle",t.config.description)("value",t.config.name)("boxed",!0),M.Mb(1),M.Dc("ngIf",t.mobileCompatible),M.Mb(1),M.Dc("ngIf",!t.mobileCompatible&&i.mobileWidgetToggle),M.Mb(1),M.cd("max-height",t.config.preview&&i.widgetSelectedIndex===n?"800px":0)("opacity",t.config.preview&&i.widgetSelectedIndex===n?1:0),M.Mb(1),M.Dc("src",t.config.preview,M.Xc)}}let Te=(()=>{class t{constructor(t,e,n,i,s,a){this.backendService=t,this.cdr=e,this._store=n,this._actions=i,this.toggleService=s,this.translationService=a,this.widgetsList=[],this.dynamicWidgetsLimitReached=!1,this.selectedWidgetType=new g.e,this.widgetSettingsView=!1,this.mobileIconTooltipText=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("standard","Widget available both for desktop and for mobile"):_.a.t("standard","Widget also available for the Mobile App"),this.desktopIconTooltipText=_.a.t("standard","Widget available for desktop only"),this.mobileWidgetToggle=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS),this.widgetListTitle=_.a.t("standard","Select the widget that you want to add to your page."),this.dynamicWidgetsWarningText=this.translationService.instant("You have exceeded the maximum amount of dynamic widgets in a page. To maintain the performance of your platform, you will only be able to add static widgets from the list below unless you remove any of the already configured dynamic widgets of the page. For more information on widgets, please refer to the {0}Docebo Knowledge Base{1}",{0:'<a target="_blank" href="https://www.docebo.com/knowledge-base/widgetpages/">',1:"</a>"})}ngOnInit(){this.selectedWidgetType.setValue(this.widgetsList[0].config.name),this.goToWidgetSettings(0),this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)&&(this.widgetsList=this.widgetsList.map(t=>Object.assign(Object.assign({},t),{mobileCompatible:Kt.mobileCompatibleWidgets(this.toggleService).indexOf(t.type||t.config.name)>-1})))}ngAfterViewInit(){this.dynamicWarningMsgElement&&(this.dynamicWarningMsgElement.nativeElement.innerHTML="<p>"+this.dynamicWidgetsWarningText+".</p>")}goToWidgetSettings(t){var e;this.widgetSelectedIndex=t,this.widgetConfig={name:this.widgetsList[t].config.heading,description:this.widgetsList[t].config.description,type:this.widgetsList[t].config.name,useRawData:(null===(e=this.widgetsList[t].config)||void 0===e?void 0:e.useRawData)||!1},this.paramsSettings=this.widgetsList[t].config.params,this.widgetSettingsView=!0,this.formValidator=this.widgetsList[t].formValidator,this.asyncFormValidator=this.widgetsList[t].asyncFormValidator}updateWithAsyncValues(t,e){this.paramsSettings=t.params,this.widgetSettingsView=!0,e.unsubscribe()}initSettingsComposer(){this._store.dispatch(this._actions.setSettingsFormData({paramsSettings:this.paramsSettings,widgetConfig:this.widgetConfig,formValidator:this.formValidator,asyncFormValidator:this.asyncFormValidator}))}backToWidgetSelection(){this.widgetSettingsView=!1}submit(t){console.log(t)}next(){this.initSettingsComposer()}}return t.\u0275fac=function(e){return new(e||t)(M.dc(ct.a),M.dc(M.i),M.dc(r.d),M.dc(ye.a),M.dc(R.a),M.dc(gt.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&M.md(Pe,1),2&t){let t;M.Qc(t=M.sc())&&(e.dynamicWarningMsgElement=t.first)}},inputs:{mockUpLayout:"mockUpLayout",rowIndex:"rowIndex",colIndex:"colIndex",widgetsList:"widgetsList",dynamicWidgetsLimitReached:"dynamicWidgetsLimitReached"},decls:6,vars:5,consts:[[1,"widget-setting-form-title","subtitle-normal","text-grey-mid","bg-white","border-grey-light"],["class","widget-setting-form-title bg-white border-grey-light","style","display: flex",4,"ngIf"],["class","widget-setting-form-field bg-white border-grey-light",4,"ngFor","ngForOf"],[1,"widget-setting-form-title","bg-white","border-grey-light",2,"display","flex"],[1,"warning-icon"],[1,"fa","fa-warning"],[1,"subtitle-warning"],["dynamicWarningMsgElement",""],[1,"widget-setting-form-field","bg-white","border-grey-light"],[1,"widget-radio-wrapper"],[1,"widget-setting-form-field-radio",3,"inputFormControl","label","name","subtitle","value","boxed","OnChange"],["class","widget-mobile-compatible-icon",3,"tooltip","position",4,"ngIf"],[1,"widget-setting-preview-image-container"],[1,"widget-setting-preview-image",3,"src"],[1,"widget-mobile-compatible-icon",3,"tooltip","position"],[1,"zmdi","zmdi-devices","text-grey-mid"],[1,"zmdi","zmdi-laptop","text-grey-mid"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.jc(1,"h3"),M.fd(2),M.wc(3,"t"),M.ic(),M.ic(),M.dd(4,Se,5,0,"div",1),M.dd(5,Ee,7,13,"div",2)),2&t&&(M.Mb(2),M.hd("",M.xc(3,3,e.widgetListTitle),"."),M.Mb(2),M.Dc("ngIf",e.dynamicWidgetsLimitReached),M.Mb(1),M.Dc("ngForOf",e.widgetsList))},directives:[F.p,F.o,U.a,X.a],pipes:[_.b],styles:[".color-gm__red{color:#de352e}.color-gm__yellow{color:#f5a623}.color-gm__green{color:#64c763}.color-gm__blue{color:#0c509c}.color-gm__light-blue{color:#4861b0}.widget-setting-form-title{box-sizing:border-box;padding:0 25px;border-width:0 0 1px;border-style:solid}.widget-setting-form-field{display:block;padding:20px 25px 15px;border-width:0 0 1px;border-style:solid}.widget-setting-form-field-radio ::ng-deep .docebo-radio{cursor:pointer}.widget-setting-preview-image-container{overflow:hidden;transition:opacity 50ms ease-in-out,max-height .15s ease-in-out}.widget-radio-wrapper{display:flex;justify-content:space-between;align-content:center;align-items:center}.widget-mobile-compatible-icon{width:30px;height:30px;margin-bottom:5px;text-align:center}:host-context(.router-outlet:not(.direction-rtl):not(.heracles-root)) .widget-mobile-compatible-icon{margin-left:15px}:host-context(.router-outlet.direction-rtl:not(.heracles-root)) .widget-mobile-compatible-icon{margin-right:15px}.widget-mobile-compatible-icon .zmdi{font-size:22px;line-height:30px}.widget-setting-preview-image{width:100%;margin:10px 0;border:1px solid var(--ui-color-border-neutral)}p{margin:10px 0 5px}pre{overflow-x:auto;overflow-y:hidden}pre code{font-family:monospace}.subtitle-warning{flex:9}.subtitle-warning p{padding:10px 0;line-height:19px}.subtitle-warning p,.subtitle-warning p a{font-size:12px;font-weight:700;color:var(--ui-color-semantic-alert)}.subtitle-warning p a{text-decoration:underline}.warning-icon{flex:1;padding-top:16%;height:100%}.warning-icon icon{color:var(--ui-color-semantic-alert)}"],encapsulation:2}),t})();var De=n("ich5"),ke=n("XNiG"),Ae=n("2Vo4");function Le(t,e){if(1&t){const t=M.kc();M.jc(0,"div",2),M.jc(1,"div",3),M.jc(2,"div",4),M.jc(3,"dynamic-form",5,6),M.rc("submit",function(e){return M.Uc(t),M.vc().submit(e)})("back",function(e){return M.Uc(t),M.vc().backToWidgetSelection(e)}),M.ic(),M.ic(),M.ic(),M.ic()}if(2&t){const t=M.vc();M.Mb(3),M.Dc("config",t.paramsSettings)("formValidator",t.formValidator)("asyncFormValidator",t.asyncFormValidator)("assignToAllLanguages",t.assignToAllLanguages)}}function je(t,e){1&t&&(M.jc(0,"div",7),M.ec(1,"ui-spinner"),M.ic())}let Ne=(()=>{class t{constructor(t,e,n,i){this.cdr=t,this.store=e,this._actions=n,this.docLayoutService=i,this.widgetSettingsView=!1,this.widgetSettingsLoading=!1,void 0!==this.store&&this.store.dispatch(this._actions.getSettingsFormData())}ngOnInit(){this.reduxListener(),this.widgetsLength=Object.keys(this.widgetInfo).length>0?this.widgetInfo.position.sequence:this.mockUpLayout[this.rowIndex].columns[this.colIndex].widgets.length-1,-1===this.widgetsLength&&(this.widgetsLength=0)}initializeSettingsAsync(){const t=this.widgetsList.find(t=>this.widgetInfo&&t.config.name===this.widgetInfo.type||this.widgetConfig&&t.config.name===this.widgetConfig.type);t&&!this.widgetSettingsLoading&&(t.asyncSettings?(this.widgetSettingsLoading=!0,this.updateAsyncSubject=new ke.a,t.asyncSettings(this.updateAsyncSubject),this.updateAsyncSubject.subscribe(t=>{void 0!==this.store&&this.store.dispatch(this._actions.asyncSettingsLoad(t))})):this.displayFormAndSubscribeForChanges())}ngAfterViewInit(){}ngOnDestroy(){this.reduxSubscriber.unsubscribe()}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select("settings_composer").subscribe(t=>{switch(this.currentState=t,this.currentState.status){case"INITIALIZED":case"LOAD_DATA_SUCCESS":this.paramsSettings=this.currentState.paramsSettings,this.formValidator=this.currentState.formValidator,this.asyncFormValidator=this.currentState.asyncFormValidator,this.widgetConfig=this.currentState.widgetConfig,this.assignToAllLanguages=this.currentState.assignToAllLanguages,this.initializeSettingsAsync();break;case"LOAD_ASYNC_SETTINGS_SUCCESS":this.paramsSettings=this.currentState.paramsSettings,this.updateAsyncSubject.unsubscribe(),this.displayFormAndSubscribeForChanges();break;default:return}}))}backToWidgetSelection(){this.form.setDisabled("submit",!1)}submit(t){console.log(t)}subscribeToFormChanges(){let t=this.form.valid;this.form.changes.subscribe(()=>{this.form.valid!==t&&(t=this.form.valid,this.form.setDisabled("submit",!t)),this.form.form.controls.title&&(this.form.form.controls.title.value||(this.form.form.markAsUntouched(),this.form.form.markAsPristine()))}),this.form.setDisabled("submit",!0)}displayFormAndSubscribeForChanges(){this.widgetSettingsView=!0,this.widgetSettingsLoading=!1,this.cdr.markForCheck(),this.cdr.detectChanges(),this.subscribeToFormChanges()}cancel(){Object.prototype.hasOwnProperty.call(this.widgetInfo,"settings")&&Object.keys(this.widgetInfo.settings)}prev(){this.cancel()}saveWidget(){const t=new Ae.a(null),e=h.b.getInstance().default_language;if(this.widgetSettingsLoading)return t.next(!1),t;if(this.form.form.controls)for(const n in this.form.form.controls)n&&(this.form.form.get(n).markAsTouched(),null!==this.form.form.get("translationsLocalizableFields").get(n)&&this.form.form.get("translationsLocalizableFields").get(n).get(e).markAsTouched());return this.form.valid?(this.handleValidForm(),t.next(!0)):"PENDING"===this.form.form.status&&this.form.asyncFormValidator?this.form.asyncFormValidator(this.form.form).subscribe(e=>{e?(this.handleInvalidForm(e.snackbarError),t.next(!1)):(this.handleValidForm(),t.next(!0))}):(this.handleInvalidForm(),t.next(!1)),t}handleValidForm(){Object.keys(this.widgetInfo).length>1?this.editExistingWidget():this.createNewWidget()}handleInvalidForm(t=null){let e=null;t?e=t:this.form.form.errors&&(e=this.form.form.errors.snackbarError),this.form.form.markAsTouched(),this.docLayoutService.toast.showToast(e?{message:_.a.t("error",e),type:"error"}:{message:_.a.t("error","Invalid input data"),type:"error"})}createNewWidget(){const t={description:null,name:null,type:null,position:{},settings:null};if(t.description=this.widgetConfig.description,t.type=this.widgetConfig.type,t.position={column:this.colIndex,row:this.rowIndex,sequence:Object.prototype.hasOwnProperty.call(this.widgetInfo,"position")?this.widgetInfo.position.sequence:this.widgetsLength},t.settings=this.widgetConfig.useRawData?this.form.getRawValue:this.form.value,this.form.form.controls.hasOwnProperty("name")||this.form.form.controls.hasOwnProperty("title")){const e=B.a.localizableFormDataFormat(this.form.form,this.form.localizableData);t.name=e.name||e.title,delete t.settings.name,delete t.settings.title}else t.name="";this.mockUpLayout[this.rowIndex].columns[this.colIndex].widgets.push(t),this.cdr.detectChanges()}editExistingWidget(){const t=this.mockUpLayout[this.rowIndex].columns[this.colIndex].widgets;for(let e=0;e<t.length;e++){const n=t[e];if(n.position.sequence===this.widgetInfo.position.sequence)if(n.description=this.widgetConfig.description,n.type=this.widgetConfig.type,n.settings=this.form.value,this.form.form.controls.hasOwnProperty("name")||this.form.form.controls.hasOwnProperty("title")){const t=B.a.localizableFormDataFormat(this.form.form,this.form.localizableData);n.name=t.name||t.title,delete n.settings.name,delete n.settings.title}else n.name=""}this.cdr.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(M.dc(M.i),M.dc(r.d),M.dc(ye.a),M.dc(ht.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&M.md(De.a,1),2&t){let t;M.Qc(t=M.sc())&&(e.form=t.first)}},inputs:{widgetsList:"widgetsList",mockUpLayout:"mockUpLayout",widgetInfo:"widgetInfo",rowIndex:"rowIndex",colIndex:"colIndex",mainSettingsForm:"mainSettingsForm"},decls:2,vars:2,consts:[["class","mdl-wrapper",4,"ngIf"],["class","loader-spinner",4,"ngIf"],[1,"mdl-wrapper"],[1,"mdl-grid"],[1,"mdl-cell","mdl-cell--12-col"],[3,"config","formValidator","asyncFormValidator","assignToAllLanguages","submit","back"],["form","dynamicForm"],[1,"loader-spinner"]],template:function(t,e){1&t&&(M.dd(0,Le,5,4,"div",0),M.dd(1,je,2,0,"div",1)),2&t&&(M.Dc("ngIf",e.widgetSettingsView&&!e.widgetSettingsLoading),M.Mb(1),M.Dc("ngIf",e.widgetSettingsLoading))},directives:[F.p,De.a,a.bd],styles:["p[_ngcontent-%COMP%] {\n            margin: 10px 0 5px;\n        }\n        pre[_ngcontent-%COMP%] {\n            overflow-x: auto;\n            overflow-y: hidden;\n        }\n        pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%] {\n            font-family: monospace;\n        }\n        .loader-spinner[_ngcontent-%COMP%] {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            flex-direction: column;\n            height: calc(100% - 50px);\n        }"]}),t})();var Re=n("jx+i"),Fe=n("+s/G");function Ue(t,e){if(1&t){const t=M.kc();M.jc(0,"h4",15),M.jc(1,"span",16),M.rc("click",function(){M.Uc(t);const e=M.vc().$implicit;return M.vc().onClickName(e)}),M.fd(2),M.ic(),M.jc(3,"span",2),M.jc(4,"span",17),M.fd(5),M.wc(6,"t"),M.ic(),M.jc(7,"em",3),M.fd(8),M.wc(9,"t"),M.ic(),M.ic(),M.ic()}if(2&t){const t=M.vc().$implicit,e=M.vc();M.Mb(2),M.hd(" ",e.getWidgetName(t)," "),M.Mb(3),M.gd(M.xc(6,3,e.getWidgetDescription(t.type))),M.Mb(3),M.gd(M.xc(9,5,"Drop here to move widget"))}}const ze=function(){return{category:"admin_webpages"}},qe=function(){return["/legacy/lms/index.php?r=app/index"]};function Be(t,e){if(1&t){const t=M.kc();M.jc(0,"h4",18),M.jc(1,"span",19),M.ec(2,"i",20),M.ic(),M.jc(3,"span",21),M.rc("click",function(){M.Uc(t);const e=M.vc().$implicit;return M.vc().onClickName(e)}),M.fd(4),M.ic(),M.jc(5,"span",22),M.jc(6,"span",23),M.fd(7),M.wc(8,"t"),M.ic(),M.jc(9,"em",3),M.fd(10),M.wc(11,"t"),M.ic(),M.ic(),M.jc(12,"span",24),M.jc(13,"a",25),M.fd(14),M.wc(15,"t"),M.ic(),M.fd(16," | "),M.jc(17,"a",26),M.rc("click",function(){M.Uc(t);const e=M.vc().$implicit;return M.vc().widgetEllipsisAction("delete",e)}),M.fd(18),M.wc(19,"t"),M.ic(),M.ic(),M.ic()}if(2&t){const t=M.vc().$implicit,e=M.vc();M.Mb(4),M.hd(" ",e.getWidgetName(t)," "),M.Mb(3),M.hd(" ",M.yc(8,6,"The widget has been disabled and won't be shown to users because the corresponding app is no longer active.",M.Hc(17,ze))," "),M.Mb(3),M.gd(M.xc(11,9,"Drop here to move widget")),M.Mb(3),M.Dc("routerLink",M.Hc(18,qe)),M.Mb(1),M.hd(" ",M.yc(15,11,"Manage App",M.Hc(19,ze))," "),M.Mb(4),M.hd(" ",M.yc(19,14,"Delete Widget",M.Hc(20,ze))," ")}}function Ve(t,e){if(1&t&&(M.jc(0,"span",27),M.wc(1,"t"),M.ec(2,"i",28),M.ic()),2&t){const t=M.vc(2);M.Ec("tooltip",M.xc(1,2,t.mobileIconTooltipText)),M.Dc("position","top")}}function Ge(t,e){if(1&t&&(M.jc(0,"span",27),M.wc(1,"t"),M.ec(2,"i",29),M.ic()),2&t){const t=M.vc(2);M.Ec("tooltip",M.xc(1,2,t.desktopIconTooltipText)),M.Dc("position","top")}}function We(t,e){if(1&t&&(M.jc(0,"div",8),M.dd(1,Ue,10,7,"h4",9),M.dd(2,Be,20,21,"h4",10),M.jc(3,"span",11),M.ec(4,"btn-ellipsis",12),M.ic(),M.dd(5,Ve,3,4,"span",13),M.dd(6,Ge,3,4,"span",13),M.jc(7,"div",4),M.ec(8,"span",14),M.ec(9,"span",5),M.ic(),M.ic()),2&t){const t=e.$implicit,n=e.index,i=M.vc();M.Nb("row",null==t||null==t.position?null:t.position.row)("column",null==t||null==t.position?null:t.position.column)("sequence",null==t||null==t.position?null:t.position.sequence),M.Mb(1),M.Dc("ngIf",(null==t?null:t.position)&&!i.widgetAppIsNotActive(t.type)),M.Mb(1),M.Dc("ngIf",(null==t?null:t.position)&&i.widgetAppIsNotActive(t.type)),M.Mb(2),M.Dc("id",t.id+"--"+n)("orientation","bottom-right")("params",t)("actions",i.widgetAppIsNotActive(t.type)?i.ellipsisDeleteMenuActions:i.ellipsisMenuActions),M.Mb(1),M.Dc("ngIf",i.mobileCompatible(t)&&i.mobileWidgetToggle),M.Mb(1),M.Dc("ngIf",!i.mobileCompatible(t)&&i.mobileWidgetToggle)}}let He=(()=>{class t{constructor(t,e,n,i,s,a,o,c,l,d,g,u,h){this._store=t,this.settingsStore=e,this.dragulaService=n,this.uiActions=i,this.pageServices=s,this.docLayoutService=a,this.widgetSettingsDependencies=o,this._actions=c,this.translationService=l,this.cdr=d,this.translationPipe=g,this.widgetRenderService=u,this.toggleService=h,this.widgetsList=[],this.draggable=!1,this.mobileIconTooltipText=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("standard","Widget available both for desktop and for mobile"):_.a.t("standard","Widget also available for the Mobile App"),this.desktopIconTooltipText=_.a.t("standard","Widget available for desktop only"),this.mobileWidgetToggle=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS),this.widgetAppRel={gamification:"GamificationApp",mytransactions:"EcommerceApp",questionsandanswers:"Share7020App",subscriptioncode:"SubscriptionCodesApp"},this.widgetNamesMap=[],this.widgetDescriptionsMap=[],this.subscribers=[],this.dynamicWidgetsLimit=10,this.dynamicWidgetsLimitReached=!1,this.staticWidgetsList=[],this.pagesSliceSelector=Object(r.m)(T,t=>t.lms_pages),this.dragulaMovesLock=!1,this.widgetsListInit=this.widgetRenderService.getWidgetSettingsListForModule("pages"),this.initWidgetsClasses(!0),this.subscribers.push(n.over("widget-bag").subscribe(t=>{this.onOver(t)})),this.subscribers.push(n.drag("widget-bag").subscribe(t=>{t.el.classList.contains("border-positive-green")||t.el.classList.add("border-positive-green"),"widget-bag"===t.name&&(this.draggable=!0)})),this.subscribers.push(n.shadow("widget-bag").subscribe(t=>{t.el.classList.contains("border-positive-green")||t.el.classList.add("border-positive-green")})),this.subscribers.push(n.cloned("widget-bag").subscribe(t=>{t.clone.classList.contains("border-positive-green")&&t.clone.classList.remove("border-positive-green")})),this.subscribers.push(n.dragend("widget-bag").subscribe(t=>{t.el.classList.contains("border-positive-green")&&t.el.classList.remove("border-positive-green"),this.draggable=!1})),this.subscribers.push(n.out("widget-bag").subscribe(t=>{this.onOut(t)})),n.find("widget-bag")||n.createGroup("widget-bag",{revertOnSpill:!0,moves:t=>!(!t||!t.classList.contains("widget-cell")||this.dragulaMovesLock)})}ngOnInit(){this.subscribers.push(this._store.select(this.pagesSliceSelector).pipe(Object(Yt.a)(t=>!(!t||!t.single_page_information)),Object(k.a)(t=>t.single_page_information)).subscribe(t=>{this.dragulaMovesLock=t.status===v.a.REQUEST_UPDATE})),this.platformLang=h.b.getInstance().default_language,this.sessionLang=p.a.getInstance().language,this.addWidgetCircleButtonParams={state:"normal",properties:{textClass:"text-positive-green",icons:["plus"],diameter:40,shadow:!1,typeStyle:"outline",tooltipText:_.a.t("standard","Add New Widget"),tooltipPosition:"top",fontSize:22}},this.ellipsisMenuActions=[{title:_.a.t("standard","Edit"),action:t=>{this.widgetEllipsisAction(Me.EDIT,t)}},{title:_.a.t("standard","Delete"),action:t=>{this.widgetEllipsisAction(Me.DELETE_WIDGET,t)},type:Oe.a.DELETE}],this.ellipsisDeleteMenuActions=[{title:_.a.t("standard","Delete"),action:t=>{this.widgetEllipsisAction(Me.DELETE_WIDGET,t)}}]}mobileCompatible(t){return Kt.mobileCompatibleWidgets(this.toggleService).indexOf(t.type)>-1}initWidgetsClasses(t=!1){this.widgetsList=[],Object.keys(this.widgetsListInit).map(t=>this.widgetsListInit[t]).map(e=>{const n=new e(this.widgetSettingsDependencies);n.config.conditions&&n.config.conditions.exists&&(n.config.headingForSorting=this.translationPipe.transform(n.config.heading).toLowerCase(),this.widgetsList.push(n),t&&Kt.staticWidgetTypes.includes(n.config.name)&&this.staticWidgetsList.push(n)),this.widgetNamesMap[String(n.config.name)]=n.config.heading,this.widgetDescriptionsMap[String(n.config.name)]=n.config.description}),this.widgetsList=S.a.sortBy(this.widgetsList,"config.headingForSorting"),t&&(this.staticWidgetsList=S.a.sortBy(this.staticWidgetsList,"config.headingForSorting"))}editSpecificWidgetSettings(t){const e=this.widgetsList.filter(e=>e.config.name===t.type)[0],n={name:t.name,description:t.description,type:t.type},i=this.updateDefaultParamsValues(e.config.params,t.settings);return this.settingsStore.dispatch(this._actions.setSettingsFormData({paramsSettings:i,widgetConfig:n,formValidator:e.formValidator,assignToAllLanguages:t.settings.assignToAll?t.settings.assignToAll:null})),t}updateDefaultParamsValues(t,e){const n=[];return t.map(t=>{const e=Object.assign({},t);n.push(e)}),Object.keys(e).forEach(t=>{n.map(n=>{"group"===n.type&&n.subFields?n.subFields.map(n=>{"translationsLocalizableFields"===t&&this.checkIfLocalizableField(n)?n.defaultValue=e[t][n.name]:n.name===t&&(n.defaultValue=e[t])}):"translationsLocalizableFields"===t&&this.checkIfLocalizableField(n)?n.defaultValue=e[t][n.name]:n.name===t&&(n.defaultValue=e[t])})}),n}checkIfLocalizableField(t){return"textMultilang"===t.type||"htmlMultilang"===t.type}loopWidgetRows(t,e,n){null==n?n=0:(this.mockUpLayoutRows[t].columns[e].widgets[n-1].position.sequence=n,0!==n?n-=1:n=0);for(let i=n;i<this.mockUpLayoutRows[t].columns[e].widgets.length;i++)this.mockUpLayoutRows[t].columns[e].widgets[i].position.sequence=i;this.mainSettingsForm.markAsDirty(),this.mainSettingsForm.controls.rows.setValue(this.mockUpLayoutRows)}widgetAppIsNotActive(t){return void 0!==this.widgetAppRel[t]&&!h.b.getInstance().isPluginActive(this.widgetAppRel[t])}widgetEllipsisAction(t,e){const{row:n,column:i,sequence:s}=e.position;switch(t){case Me.EDIT:if(G.a.atLeastOneValueDefined([n,i,s]))this.docLayoutService.toast.showToast({message:_.a.t("ecommerce","_OPERATION_FAILURE"),type:"error"});else{const t=this.editSpecificWidgetSettings(e);e.current_step_id="widget-creation-step2",this.openWizardForConfiguringWidget(n,i,t)}break;case Me.DELETE_WIDGET:G.a.atLeastOneValueDefined([n,i,s])?this.docLayoutService.toast.showToast({message:_.a.t("ecommerce","_OPERATION_FAILURE"),type:"error"}):1===this.mockUpLayoutRows[n].columns[i].widgets.length?this.mockUpLayoutRows[n].columns[i].widgets=[]:this.mockUpLayoutRows[n].columns[i].widgets.splice(s,1),this.loopWidgetRows(n,i),this.pageServices.floatingSaveButtonMarkAsDirty(!0)}this.pageServices.floatingSaveButtonMarkAsDirty(!0),this.pageServices.preventNavigation()}openWizardForConfiguringWidget(t,e,n){!n&&this.widgetsLimitReached()||(this.initializeWizardPanelConfigForWidgets(t,e,n,this.dynamicWidgetsLimitReached),this._store.dispatch(this.uiActions.showRightPanel(this.panelConfig)),this.initWizardForWidget(void 0!==n),this._store.dispatch(this.uiActions.openRightpanel()),Kt.watchOutForExternalCloseOfRightPanel(this._store,this.uiActions))}initializeWizardPanelConfigForWidgets(t=0,e=0,n,i=!1){n&&n.current_step_id||(this.initWidgetsClasses(),this.settingsStore.dispatch(this._actions.clearSettingsFormData()));const s=this.mockUpLayoutRows;let a=i?this.staticWidgetsList:this.widgetsList;const o=void 0!==n?n:{},r=_.a.t("standard",void 0===n?"Add New Widget":"Edit Widget");a=a.filter(t=>-1===t.config.name.indexOf("-new"));const c={id:"widget-creation-step1",description:_.a.t("standard","Select the widget that you want to add to your page."),content:Te,params:{rowIndex:t,colIndex:e,mockUpLayout:s,widgetsList:a,dynamicWidgetsLimitReached:i},disabled:!1},l={id:"widget-creation-step2",description:_.a.t("standard","Select the widget that you want to add to your page."),content:Ne,params:{rowIndex:t,colIndex:e,mockUpLayout:s,widgetInfo:o,mainSettingsForm:this.mainSettingsForm,widgetsList:a}};let d;n&&n.current_step_id&&(n.current_step_id===c.id?d=c:n.current_step_id===l.id&&(d=l,c.disabled=!0),delete n.current_step_id),this.panelConfig={title:r,description:_.a.t("standard","Follow the wizard to create a widget and add it to your page."),inputFormControl:this.mainSettingsForm.controls.rows,content:{component:C.a,params:{steps:[c,l],navigationMode:"breadcrumbs",navigationItems:[{title:_.a.t("report","Type")},{title:_.a.t("webapp","Details")}]}},actions:[]},void 0!==d&&(this.panelConfig.content.params.currentStep=d)}initWizardForWidget(t=!1){const e=this.pageServices.changes.rightPanel.subscribe(n=>{const i=n.innerCmp;let s;this.onChangeStepSubscriber=i.onChangeStep.subscribe(e=>{const n=[];i.hasPrev()&&!t&&n.push({type:"normal",properties:{text:_.a.t("app7020","Previous"),className:"previous-button-for-widget-wizard"},customClasses:"previous-button-for-widget-wizard",handler:()=>{i.prevStep(),e.prev&&e.prev()}}),i.hasNext()&&n.push({type:"normal",properties:{text:_.a.t("app7020","Next")},handler:t=>{i.nextStep(),e.next&&e.next()}}),i.isLastStep()&&n.push({type:"submit",properties:{text:t?_.a.t("standard","Save Changes"):_.a.t("admin_webpages","Add widget")},handler:t=>{e.saveWidget&&("activityoverview"===e.widgetConfig.type&&(e.form.form.controls.sessions.value||e.form.form.controls.enrollments.value?(e.form.form.controls.height.setValidators(j.a.validNumbersRange(375,1e3)),e.form.form.controls.height.updateValueAndValidity()):e.form.form.controls["course-status"].value&&(e.form.form.controls.height.setValidators(j.a.validNumbersRange(330,1e3)),e.form.form.controls.height.updateValueAndValidity())),t.buttonsDisabled(),s=e.saveWidget().subscribe(e=>{e&&(Kt.changeRowAndWidgetsSequences(this.mockUpLayoutRows),this.mainSettingsForm.markAsDirty(),this.mainSettingsForm.controls.rows.setValue(this.mockUpLayoutRows),s&&s.unsubscribe(),t.buttonsEnabled(),t.close(),this.pageServices.floatingSaveButtonMarkAsDirty(!0),this.pageServices.preventNavigation()),null!==e&&t.buttonsEnabled()}))}}),n.push({type:"cancel",properties:{text:_.a.t("app7020","Cancel")},handler:t=>{e.cancel&&e.cancel(),s&&s.unsubscribe(),t.close(),this._store.dispatch(this.uiActions.hideRightpanel())}}),this.panelConfig.actions=n,this._store.dispatch(this.uiActions.setRightpanelDynamicData(this.panelConfig))}),e.unsubscribe()})}widgetsLimitReached(){const t=this.mainSettingsForm.controls.widgets_limit?this.mainSettingsForm.controls.widgets_limit.value:20,e=[];let n=0;this.mockUpLayoutRows.map(t=>{if(t||t.columns)for(const i of t.columns){if(!i&&!i.widgets)return;for(const t of i.widgets){if(!t)return;Kt.dynamicWidgetTypes.includes(t.type)&&n++,e.push(t)}}});const i=_.a.t("admin_webpages","The maximum amount of widgets per page is {limit}. Please remove any of the already configured widgets prior to add a new one.",{limit:t});return this.dynamicWidgetsLimitReached=n>=this.dynamicWidgetsLimit,!!(e&&e.length>=t)&&(this.docLayoutService.toast.showToast({message:i,type:"error"}),!0)}onClickName(t){this.widgetEllipsisAction(Me.EDIT,t)}onOver(t){this.addClass(t.el,"ex-over"),t.el.classList.remove("former-container")}onOut(t){this.removeClass(t.el,"ex-over"),!t.el.classList.contains("empty-bag")&&t.el.classList.contains("widget-bag")&&t.el.classList.add("former-container")}hasClass(t,e){return new RegExp(`(?:^|\\s+)${e}(?:\\s+|$)`).test(t.className)}addClass(t,e){this.hasClass(t,e)||(t.className=t.className?[t.className,e].join(" "):e)}removeClass(t,e){this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp(`(?:^|\\s+)${e}(?:\\s+|$)`,"g"),""))}getWidgetTypeName(t){return this.widgetNamesMap[t.type]}getWidgetDescription(t){return this.widgetDescriptionsMap[t]}widgetHasName(t){return!!(new m.a).transform(t.name)}getWidgetName(t){return this.widgetHasName(t)?(new m.a).transform(t.name):new _.b(this.translationService,this.cdr).transform(this.getWidgetTypeName(t))}ngOnDestroy(){this._store.dispatch(this.uiActions.hideRightpanel()),this.dragulaService&&null!=this.dragulaService.find("widget-bag")&&this.dragulaService.destroy("widget-bag");for(const t of this.subscribers)t.unsubscribe()}onWidgetArrangementChange(){this.mockUpLayoutRows[this.rowIndex].columns[this.columnIndex].widgets=this.widgets,Kt.changeRowAndWidgetsSequences(this.mockUpLayoutRows),this.mainSettingsForm.markAsDirty(),this.mainSettingsForm.controls.rows.setValue(this.mockUpLayoutRows),this.pageServices.floatingSaveButtonMarkAsDirty(!0)}}return t.\u0275fac=function(e){return new(e||t)(M.dc(r.d),M.dc(r.d),M.dc(c.c),M.dc(at.e),M.dc(st.a),M.dc(ht.a),M.dc(Re.a),M.dc(ye.a),M.dc(gt.a),M.dc(M.i),M.dc(_.b),M.dc(Fe.a),M.dc(R.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["app-widget-manager"]],inputs:{mockUpLayoutRows:"mockUpLayoutRows",mainSettingsForm:"mainSettingsForm",rowIndex:"rowIndex",columnIndex:"columnIndex",widgets:"widgets"},features:[M.Lb([_.b])],decls:11,vars:14,consts:[[3,"dragula","dragulaModel","dragulaModelChange"],["class","widget-cell mdl-cell--12-col border-grey-light",4,"ngFor","ngForOf"],[1,"hint"],[1,"text-positive-green"],[1,"widget-bg"],[1,"bg-positive-green"],[1,"widget-cell","mdl-cell--12-col","add-new-widget-button","bg-before-grey-light","bg-after-grey-light"],[3,"properties","state","click"],[1,"widget-cell","mdl-cell--12-col","border-grey-light"],["class","widget-title-desktop-composer text-grey-dark",4,"ngIf"],["class","widget-title-desktop-composer text-grey-dark widget-warning-margins ",4,"ngIf"],[1,"widget-ellipsis-wrapper"],[3,"id","orientation","params","actions"],["class","widget-mobile-compatible-icon",3,"tooltip","position",4,"ngIf"],[1,"bg-white"],[1,"widget-title-desktop-composer","text-grey-dark"],[1,"widget-name","text-main",3,"click"],[1,"text-grey-mid"],[1,"widget-title-desktop-composer","text-grey-dark","widget-warning-margins"],[1,"widget-alert"],[1,"zmdi","zmdi-alert-triangle","text-error"],[1,"widget-name","text-grey-mid","text-main",3,"click"],[1,"hint","hint-widget-warning"],[1,"text-grey-mid","text-error"],[1,"widget-warning-links","text-grey-mid"],[1,"text-main",3,"routerLink"],[3,"click"],[1,"widget-mobile-compatible-icon",3,"tooltip","position"],[1,"zmdi","zmdi-devices","text-grey-mid"],[1,"zmdi","zmdi-laptop","text-grey-mid"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.rc("dragulaModelChange",function(t){return e.widgets=t})("dragulaModelChange",function(){return e.onWidgetArrangementChange()}),M.dd(1,We,10,11,"div",1),M.jc(2,"div"),M.jc(3,"div",2),M.jc(4,"em",3),M.fd(5),M.wc(6,"t"),M.ic(),M.ic(),M.jc(7,"div",4),M.ec(8,"span",5),M.ic(),M.ic(),M.ic(),M.jc(9,"div",6),M.jc(10,"circle-button",7),M.rc("click",function(){return e.openWizardForConfiguringWidget(e.rowIndex,e.columnIndex)}),M.ic(),M.ic()),2&t&&(M.Rb("mdl-cell--12-col widget-bag ",e.draggable?"draggable":"",""),M.Dc("dragula","widget-bag")("dragulaModel",e.widgets),M.Mb(1),M.Dc("ngForOf",e.widgets),M.Mb(1),M.Rb("widget-placeholder border-positive-green ",e.draggable&&0===(null==e.widgets?null:e.widgets.length)?"draggable":"",""),M.Mb(3),M.gd(M.xc(6,12,"Drop here to move widget")),M.Mb(5),M.Dc("properties",e.addWidgetCircleButtonParams.properties)("state",e.addWidgetCircleButtonParams.state))},directives:[c.a,F.o,he.a,F.p,ve.a,i.k,X.a],pipes:[_.b],styles:['.color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]{width:100%}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-ellipsis-wrapper[_ngcontent-%COMP%]{right:25px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-ellipsis-wrapper[_ngcontent-%COMP%]{right:auto}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-ellipsis-wrapper[_ngcontent-%COMP%]{left:auto}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-ellipsis-wrapper[_ngcontent-%COMP%]{left:25px}[_nghost-%COMP%]   .widget-placeholder[_ngcontent-%COMP%]{position:absolute;top:15px;z-index:0;display:none;height:150px;border-width:1px;border-style:solid;pointer-events:none}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-placeholder[_ngcontent-%COMP%]{left:0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-placeholder[_ngcontent-%COMP%]{left:-2px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-placeholder[_ngcontent-%COMP%]{right:-2px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-placeholder[_ngcontent-%COMP%]{right:10px}[_nghost-%COMP%]   .widget-placeholder[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{line-height:150px;letter-spacing:.2px;text-align:center}[_nghost-%COMP%]   .widget-placeholder[_ngcontent-%COMP%]   .widget-bg[_ngcontent-%COMP%]   span.bg-positive-green[_ngcontent-%COMP%]{opacity:.08}[_nghost-%COMP%]   .widget-bag[_ngcontent-%COMP%]{min-height:0;margin-top:15px}[_nghost-%COMP%]   .widget-bag.former-container[_ngcontent-%COMP%]   .gu-transit[_ngcontent-%COMP%]{height:0;min-height:0;margin:0;border-width:0;visibility:hidden;opacity:0}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-bag.former-container[_ngcontent-%COMP%]   .gu-transit[_ngcontent-%COMP%]{float:left}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-bag.former-container[_ngcontent-%COMP%]   .gu-transit[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .widget-bag.draggable[_ngcontent-%COMP%]{min-height:152px}[_nghost-%COMP%]   .widget-bag.draggable[_ngcontent-%COMP%]   .widget-placeholder[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .widget-bag.draggable[_ngcontent-%COMP%]   .gu-transit[_ngcontent-%COMP%]:first-child, [_nghost-%COMP%]   .widget-bag.draggable[_ngcontent-%COMP%]   .widget-placeholder[_ngcontent-%COMP%] + .gu-transit[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .widget-bg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}[_nghost-%COMP%]   .widget-bg[_ngcontent-%COMP%]   span.bg-positive-green[_ngcontent-%COMP%]{opacity:0}.widget-cell[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;justify-content:center;align-content:center;align-items:center;height:auto;min-height:150px;margin:15px 0;border-width:1px;border-style:solid;cursor:all-scroll;transition:box-shadow .2s}.widget-cell[_ngcontent-%COMP%]   circle-button[_ngcontent-%COMP%]{width:60px;height:40px;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.widget-cell[_ngcontent-%COMP%]:hover:not(.add-new-widget-button):not(.gu-mirror){box-shadow:0 2px 2px 0 rgba(0,0,0,.1)}.widget-cell[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:none}.widget-cell[_ngcontent-%COMP%]   .widget-title-desktop-composer[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;display:flex;flex-direction:column;justify-content:center;align-content:center;align-items:center;margin:20px 70px;overflow:hidden;font-weight:600;line-height:22px;text-align:center}.widget-cell[_ngcontent-%COMP%]   .widget-title-desktop-composer[_ngcontent-%COMP%]   .widget-name[_ngcontent-%COMP%]{font-size:16px;cursor:pointer}.widget-cell[_ngcontent-%COMP%]   .widget-title-desktop-composer[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{display:block}.widget-cell[_ngcontent-%COMP%]   .widget-title-desktop-composer[_ngcontent-%COMP%]   .hint-widget-warning[_ngcontent-%COMP%]{margin-top:5px}.widget-cell[_ngcontent-%COMP%]   .widget-title-desktop-composer[_ngcontent-%COMP%]   .widget-alert[_ngcontent-%COMP%]{position:absolute;top:-3px;font-size:24px}.widget-cell[_ngcontent-%COMP%]   .widget-title-desktop-composer.widget-warning-margins[_ngcontent-%COMP%]{margin:18px 50px}.widget-cell[_ngcontent-%COMP%]   .widget-title-desktop-composer[_ngcontent-%COMP%]   .widget-warning-links[_ngcontent-%COMP%]{position:absolute;bottom:0}.widget-cell[_ngcontent-%COMP%]   .widget-title-desktop-composer[_ngcontent-%COMP%]   .widget-warning-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;font-size:12px;cursor:pointer}.widget-cell[_ngcontent-%COMP%]   .widget-title-desktop-composer[_ngcontent-%COMP%]   .widget-warning-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.widget-cell[_ngcontent-%COMP%]   .widget-ellipsis-wrapper[_ngcontent-%COMP%]{position:absolute;top:15px;z-index:2}.widget-cell.gu-transit[_ngcontent-%COMP%]{opacity:1;transition:height .2s,min-height .2s,opacity .2s,margin .2s}.widget-cell.gu-transit[_ngcontent-%COMP%]   .widget-title-desktop-composer[_ngcontent-%COMP%]{font-size:0;line-height:0}.widget-cell.gu-transit[_ngcontent-%COMP%]   .widget-ellipsis-wrapper[_ngcontent-%COMP%], .widget-cell.gu-transit[_ngcontent-%COMP%]   .widget-mobile-compatible-icon[_ngcontent-%COMP%]{display:none}.widget-cell.gu-transit[_ngcontent-%COMP%]   .widget-bg[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{opacity:0}.widget-cell.gu-transit[_ngcontent-%COMP%]   .widget-bg[_ngcontent-%COMP%]   .bg-positive-green[_ngcontent-%COMP%]{opacity:.08}.widget-cell.gu-transit[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .widget-cell.gu-transit[_ngcontent-%COMP%]   .widget-name[_ngcontent-%COMP%]{display:none}.widget-cell.gu-transit[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:block}.widget-cell[_ngcontent-%COMP%]   .widget-mobile-compatible-icon[_ngcontent-%COMP%]{position:absolute;bottom:15px;z-index:1;width:30px;height:30px;font-size:22px;line-height:30px;text-align:center;cursor:default}.router-outlet:not(.direction-rtl):not(.heracles-root)[_nghost-%COMP%]   .widget-cell[_ngcontent-%COMP%]   .widget-mobile-compatible-icon[_ngcontent-%COMP%], .router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .widget-cell[_ngcontent-%COMP%]   .widget-mobile-compatible-icon[_ngcontent-%COMP%]{right:25px}.router-outlet.direction-rtl:not(.heracles-root)[_nghost-%COMP%]   .widget-cell[_ngcontent-%COMP%]   .widget-mobile-compatible-icon[_ngcontent-%COMP%], .router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .widget-cell[_ngcontent-%COMP%]   .widget-mobile-compatible-icon[_ngcontent-%COMP%]{left:25px}.widget-cell.add-new-widget-button[_ngcontent-%COMP%]{min-height:65px;border-width:0;cursor:auto}.widget-cell.add-new-widget-button[_ngcontent-%COMP%]:before{right:0}.widget-cell.add-new-widget-button[_ngcontent-%COMP%]:after{left:0}.widget-cell.add-new-widget-button[_ngcontent-%COMP%]:after, .widget-cell.add-new-widget-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;display:block;width:calc(50% - 40px);height:1px;margin:auto}.widget-cell.gu-mirror[_ngcontent-%COMP%]    {box-shadow:0 2px 10px 0 rgba(0,0,0,.15)}.widget-cell.gu-mirror[_ngcontent-%COMP%]     .widget-ellipsis-wrapper, .widget-cell.gu-mirror[_ngcontent-%COMP%]     .widget-mobile-compatible-icon{display:none}.widget-cell.gu-mirror[_ngcontent-%COMP%]     .widget-bg span{position:absolute;top:0;right:0;bottom:0;left:0}.widget-cell.gu-mirror[_ngcontent-%COMP%]     .widget-bg span.bg-white{opacity:1}.widget-cell.gu-mirror[_ngcontent-%COMP%]     .widget-bg span.bg-positive-green{opacity:0}']}),t})(),$e=(()=>{class t{transform(t,e){switch(e>3&&(e=3),t){case v.e.FULL_ROW:return"12";case v.e.HALF_HALF_COLUMNS:return"6";case v.e.ONE_THIRD_COLUMNS:return"4";case v.e.ONE_TO_TWO_THIRDS:return e%2==0?"4":"8";case v.e.TWO_TO_ONE_THIRDS:return e%2==0?"8":"4";default:return"12"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=M.cc({name:"chooseLayout",type:t,pure:!0}),t})();function Qe(t,e){if(1&t&&(M.jc(0,"div",11),M.ec(1,"btn-ellipsis",12),M.ic()),2&t){const t=M.vc();M.ad(t.rowEllipsisMenuBalloon.style),M.Dc("width",t.rowEllipsisMenuBalloon.width)("position",t.rowEllipsisMenuBalloon.position)("title",t.rowEllipsisMenuBalloon.title)("text",t.rowEllipsisMenuBalloon.text)("showOnClick",t.rowEllipsisMenuBalloon.showOnClick)("balloonGroup",t.rowEllipsisMenuBalloon.balloonGroup),M.Mb(1),M.Dc("id",(null==t.mockUpLayoutRows[t.rowIndex]?null:t.mockUpLayoutRows[t.rowIndex].id)+"--"+t.rowIndex)("orientation","bottom-right")("params",t.mockUpLayoutRows[t.rowIndex])("actions",t.rowEllipsisMenuActions)}}function Je(t,e){if(1&t&&(M.jc(0,"div",13),M.ec(1,"btn-ellipsis",12),M.ic()),2&t){const t=M.vc();M.Mb(1),M.Dc("id",(null==t.mockUpLayoutRows[t.rowIndex]?null:t.mockUpLayoutRows[t.rowIndex].id)+"--"+t.rowIndex)("orientation","bottom-right")("params",t.mockUpLayoutRows[t.rowIndex])("actions",t.rowEllipsisMenuActions)}}const Ye=function(t){return[t]};function Ke(t,e){if(1&t&&(M.jc(0,"div",14),M.wc(1,"chooseLayout"),M.ec(2,"app-widget-manager",15),M.ic()),2&t){const t=e.index,n=M.vc();M.Dc("ngClass",M.Ic(9,Ye,"mdl-cell--"+M.yc(1,6,null==n.mockUpLayoutRows[n.rowIndex]?null:n.mockUpLayoutRows[n.rowIndex].layout,t)+"-col")),M.Mb(2),M.Dc("mockUpLayoutRows",n.mockUpLayoutRows)("mainSettingsForm",n.mainSettingsForm)("widgets",null==n.mockUpLayoutRows[n.rowIndex]||null==n.mockUpLayoutRows[n.rowIndex].columns[t]?null:n.mockUpLayoutRows[n.rowIndex].columns[t].widgets)("rowIndex",n.rowIndex)("columnIndex",t)}}const Xe=function(){return{category:"standard"}};let Ze=(()=>{class t{constructor(t,e,n,i,s){this._store=t,this.uiActions=e,this.pageServices=n,this.fb=i,this.docLayoutService=s,this.updatedragulaModel=new M.q}ngOnInit(){this.rowEllipsisMenuBalloon={style:"main",width:300,position:"bottom-left",title:_.a.t("admin_webpages","Edit Row"),text:_.a.t("admin_webpages","By clicking the ellipsis you can change the row settings and layout."),showOnClick:!0,balloonGroup:"page-main-settings-desktop"},this.rowEllipsisMenuActions=[{title:_.a.t("admin_webpages","Change Row Layout"),action:t=>{this.openRightPanelForRowSettings(t,!0)}},{title:_.a.t("standard","Duplicate row layout"),action:t=>{this.duplicateRowAndItsSettings(t)}},{title:_.a.t("standard","Delete row"),action:t=>{this.deleteSpecificRow(t)},type:Oe.a.DELETE}]}returnTranslationsForRightPanel(t){return t?{rightPanelTitle:_.a.t("admin_webpages","Change Row Layout"),rightPanelButton:_.a.t("admin_webpages","Change Layout")}:{rightPanelTitle:_.a.t("admin_webpages","Change Row Settings"),rightPanelButton:_.a.t("app7020","Save changes")}}returnFormGroupForRightPanel(t,e){if(e)return this.fb.group({layout:[G.a.keyExistInObject(t,"layout")?t.layout:""]});const n=G.a.keyExistInObject(t,"background"),i=n&&G.a.keyExistInObject(t.background,"type"),s=n&&G.a.keyExistInObject(t.background,"color"),a=n&&G.a.keyExistInObject(t.background,"image_url"),o=n&&G.a.keyExistInObject(t.background,"video_url"),r=n&&G.a.keyExistInObject(t.background,"video_fallback_image");return this.fb.group({background:this.fb.group({type:[i?t.background.type:"no-color"],color:[s?t.background.color:"var(--ui-color-typography-accent)"],image_url:[a?t.background.image_url:""],video_url:[o?t.background.video_url:""],video_fallback_image:[r?t.background.video_fallback_image:""]})})}openRightPanelForRowSettings(t,e=!1){const n=G.a.keyExistInObject(t,"sequence")?Number(t.sequence):0,i=this.returnFormGroupForRightPanel(t,e),{rightPanelTitle:s,rightPanelButton:a}=this.returnTranslationsForRightPanel(e),o=e?"layout":"background",r={component:e?te:ge,params:{settings:t,rowFormControl:i,page_id:this.page_id}},c={type:"submit",properties:{text:a},handler:t=>{const i=t.getComponentInstance();t.close(),i.saveRow(),this.mockUpLayoutRows[n][o]=i.rowFormControl.controls[o].value,e&&(Kt.distributeWidgetsForTypeOfLayout(n,this.mockUpLayoutRows),Kt.changeRowAndWidgetsSequences(this.mockUpLayoutRows)),this.mainSettingsForm.markAsDirty(),this.mainSettingsForm.controls.rows.setValue(this.mockUpLayoutRows),this.updatedragulaModel.emit("row-layout-changed"),this.pageServices.floatingSaveButtonMarkAsDirty(!0),this.pageServices.preventNavigation()}},l={type:"cancel",properties:{text:_.a.t("app7020","Cancel")},handler:t=>{t.close()}},d={title:s,description:_.a.t("admin_webpages","Define settings for this row"),inputFormControl:i.controls[o],content:r,actions:[c,l]};this._store.dispatch(this.uiActions.showRightPanel(d)),this._store.dispatch(this.uiActions.openRightpanel())}duplicateRowAndItsSettings(t){let e=Object.assign({},t);e=Object(Ce.e)(e,["id"]),e.columns=Kt.createEmptyColumnsBasedOnRowTemplate(e.layout),this.mockUpLayoutRows.splice(+e.sequence+1,0,e),this.changeRowSequence()}changeRowSequence(){Kt.changeRowAndWidgetsSequences(this.mockUpLayoutRows),this.mainSettingsForm.markAsDirty(),this.mainSettingsForm.controls.rows.setValue(this.mockUpLayoutRows),this.pageServices.floatingSaveButtonMarkAsDirty(!0),this.pageServices.preventNavigation()}deleteSpecificRow(t){if(1===this.mockUpLayoutRows.length)return void this.docLayoutService.toast.showToast({message:_.a.t("admin_webpages","This row can't be deleted because it's the only one in the Composer. There must always be at least one row in a widget page."),type:"error"});const e={id:"new-preset-name-dialog",width:540,height:240,title:_.a.t("standard","Delete"),content:_.a.t("admin_webpages","Are you sure you want to delete this row? Any widget contained in the row will be lost."),actions:[{type:"submit",properties:{text:_.a.t("standard","Confirm & Delete")},handler:e=>{this.mockUpLayoutRows.splice(Number(t.sequence),1),this.changeRowSequence(),this.updatedragulaModel.emit("row-deleted"),e.close()}},{type:"cancel",properties:{text:_.a.t("app7020","Cancel")},handler:t=>{t.close(),this._store.dispatch(this.uiActions.hideRightpanel())}}]};this.pageServices.dialog.open(e)}ngOnDestroy(){this._store.dispatch(this.uiActions.hideRightpanel())}}return t.\u0275fac=function(e){return new(e||t)(M.dc(r.d),M.dc(at.e),M.dc(st.a),M.dc(g.d),M.dc(ht.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["app-row-manager"]],inputs:{mockUpLayoutRows:"mockUpLayoutRows",mainSettingsForm:"mainSettingsForm",rowIndex:"rowIndex",page_id:"page_id"},outputs:{updatedragulaModel:"updatedragulaModel"},decls:15,vars:12,consts:[[1,"widgets-row","mdl-wrapper","bg-grey-superlight","border-grey-light",3,"id"],[1,"mdl-grid"],[1,"handle","mdl-cell--12-col","bg-grey","text-white","title-rows-bold"],["balloon","","class","row-ellipsis__container",3,"style","width","position","title","text","showOnClick","balloonGroup",4,"ngIf"],["class","row-ellipsis__container",4,"ngIf"],[1,"mdl-grid","mdl-cell","mdl-cell--12-col"],["class","widgets-column mdl-grid mdl-cell",3,"ngClass",4,"ngFor","ngForOf"],[1,"widgets-row-placeholder","border-positive-green"],[1,"hint"],[1,"text-positive-green"],[1,"widgets-row-bg","bg-positive-green"],["balloon","",1,"row-ellipsis__container",3,"width","position","title","text","showOnClick","balloonGroup"],[3,"id","orientation","params","actions"],[1,"row-ellipsis__container"],[1,"widgets-column","mdl-grid","mdl-cell",3,"ngClass"],[3,"mockUpLayoutRows","mainSettingsForm","widgets","rowIndex","columnIndex"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.jc(1,"div",1),M.jc(2,"div",2),M.fd(3),M.wc(4,"t"),M.dd(5,Qe,2,12,"div",3),M.dd(6,Je,2,4,"div",4),M.ic(),M.jc(7,"div",5),M.dd(8,Ke,3,11,"div",6),M.ic(),M.ic(),M.jc(9,"div",7),M.jc(10,"div",8),M.jc(11,"em",9),M.fd(12),M.wc(13,"t"),M.ic(),M.ic(),M.ec(14,"span",10),M.ic(),M.ic()),2&t&&(M.Dc("id",null==e.mockUpLayoutRows[e.rowIndex]?null:e.mockUpLayoutRows[e.rowIndex].sequence),M.Mb(3),M.hd(" ",M.yc(4,6,"_ROW",M.Hc(11,Xe))," "),M.Mb(2),M.Dc("ngIf",0===e.rowIndex),M.Mb(1),M.Dc("ngIf",0!==e.rowIndex),M.Mb(2),M.Dc("ngForOf",null==e.mockUpLayoutRows[e.rowIndex]?null:e.mockUpLayoutRows[e.rowIndex].columns),M.Mb(4),M.gd(M.xc(13,9,"Drop here to move the row")))},directives:[F.p,F.o,ue.a,ve.a,F.n,He],pipes:[_.b,$e],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.gu-mirror[_nghost-%COMP%]    {box-shadow:0 0 0 transparent}.gu-mirror[_nghost-%COMP%]     .row-ellipsis__container{display:none!important}.gu-mirror[_nghost-%COMP%]     .widgets-row{min-height:120px;box-shadow:0 2px 10px 0 rgba(0,0,0,.15)}.gu-mirror[_nghost-%COMP%]     .widgets-row-placeholder{display:none}.gu-transit[_nghost-%COMP%]{opacity:1}.gu-transit[_nghost-%COMP%]   .mdl-grid[_ngcontent-%COMP%]{opacity:0;visibility:hidden}.gu-transit[_nghost-%COMP%]   .widgets-row[_ngcontent-%COMP%]   .widgets-row-placeholder[_ngcontent-%COMP%]{opacity:1;visibility:visible}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .row-ellipsis__container[_ngcontent-%COMP%]{float:right}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .row-ellipsis__container[_ngcontent-%COMP%]{float:left}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .row-ellipsis__container[_ngcontent-%COMP%]{padding-right:20px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .row-ellipsis__container[_ngcontent-%COMP%]{padding-left:20px}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]   .row-ellipsis__container[_ngcontent-%COMP%]{margin-left:-50px}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]   .row-ellipsis__container[_ngcontent-%COMP%]{margin-right:-50px}.widgets-row[_ngcontent-%COMP%]{border-style:solid;border-width:1px;margin:20px auto;position:relative;display:block;transition:box-shadow .2s}.widgets-row[_ngcontent-%COMP%]:hover{box-shadow:0 2px 2px 0 rgba(0,0,0,.1)}.widgets-row[_ngcontent-%COMP%]   .add-new-widget-button[_ngcontent-%COMP%]{height:auto}.widgets-row[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{width:calc(100% + 20px);text-align:center;height:40px;line-height:40px;margin:0 -10px;cursor:all-scroll}.widgets-row[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]   .row-ellipsis__container[_ngcontent-%COMP%]{display:inline;padding-top:5px}.widgets-row[_ngcontent-%COMP%]   .widgets-column[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;align-content:flex-start;position:relative}.widgets-row[_ngcontent-%COMP%]   .widgets-row-placeholder[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:0;border-width:1px;border-style:solid;opacity:0;visibility:hidden;pointer-events:none}.widgets-row[_ngcontent-%COMP%]   .widgets-row-placeholder[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;text-align:center;letter-spacing:.2px;transform:translateY(-50%)}.widgets-row[_ngcontent-%COMP%]   .widgets-row-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:.08}"]}),t})();function tn(t,e){if(1&t&&M.ec(0,"manage-pages-info-bar",8),2&t){const t=M.vc();M.Dc("infoBarLabel",t.infoBarLabel)("localStorageKey","manage-pages-info-bar")}}function en(t,e){if(1&t){const t=M.kc();M.jc(0,"app-row-manager",11),M.rc("updatedragulaModel",function(){return M.Uc(t),M.vc(2).updatedragulaModel()}),M.ic()}if(2&t){const t=e.index,n=M.vc(2);M.Dc("page_id",n.page_id)("mainSettingsForm",n.mainSettingsForm)("mockUpLayoutRows",n.mainSettingsForm.controls.rows.value)("rowIndex",t)}}function nn(t,e){if(1&t){const t=M.kc();M.jc(0,"div",9),M.rc("dragulaModelChange",function(e){return M.Uc(t),M.vc().mockUpLayoutRows=e})("dragulaModelChange",function(){return M.Uc(t),M.vc().onRowArrangementChange()}),M.dd(1,en,1,4,"app-row-manager",10),M.ic()}if(2&t){const t=M.vc();M.Dc("dragula","wrapper-bag")("dragulaModel",t.mockUpLayoutRows),M.Mb(1),M.Dc("ngForOf",t.mockUpLayoutRows)}}let sn=(()=>{class t{constructor(t,e,n,i,s,a,o,c){this._store=t,this.uiActions=e,this.pageServices=n,this.docLayoutService=i,this.dragulaService=s,this.cdr=a,this.lmsPageService=o,this.toggleService=c,this.dragulaCheaterFlag=!0,this.isInfoBarVisible=!1,this.infoBarLabel=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("standard","All the changes, additions and removals made on widgets also available for mobile will be reflected in the Mobile Layout too."):_.a.t("standard","All the changes, additions and removals which are also available in the mobile app widgets will be performed in the Mobile App Composer too."),this.subscribers=[],this.creatingNewWidget={rows:0,cols:0,new_box:!1},this.pagesSliceSelector=Object(r.m)(T,t=>t.lms_pages),this.dragulaMovesLock=!1,this.dragulaService&&this.dragulaService.find("wrapper-bag")&&this.dragulaService.destroy("wrapper-bag"),s.createGroup("wrapper-bag",{revertOnSpill:!0,moves:(t,e,n)=>!(!n||!n.classList.contains("handle")||this.dragulaMovesLock)})}setMockupLayoutRows(t){this.mockUpLayoutRows=t,Kt.changeRowAndWidgetsSequences(this.mockUpLayoutRows),this.prepareTheMockUpLayoutForDragulaModel(),this.sortWidgetSequence(),this.sortColumnSequence(),this.sortRowSequence()}ngOnInit(){this.settings&&(Object.prototype.hasOwnProperty.call(this.mainSettingsForm.controls,"rows")||this.mainSettingsForm.addControl("rows",new g.e(this.settings.rows)),this.setMockupLayoutRows(this.mainSettingsForm.controls.rows.value),this.subscribers.push(this._store.select(this.pagesSliceSelector).pipe(Object(Yt.a)(t=>!(!t||!t.single_page_information)),Object(k.a)(t=>t.single_page_information)).subscribe(t=>{this.dragulaMovesLock=t.status===v.a.REQUEST_UPDATE,t.status===v.a.UPDATED&&(this.setMockupLayoutRows(t.rows),this.updatedragulaModel())})),this.buttonForAddingNewRow={state:"normal",properties:{textClass:"text-white",BgClass:"bg-positive-green",icons:["plus"],diameter:40,shadow:!1,typeStyle:"filled",tooltipText:_.a.t("dashboard","Create new row"),tooltipPosition:"top",fontSize:22},balloon:{width:300,position:"right",style:"main",title:_.a.t("dashboard","New Row"),text:_.a.t("pages","Press the plus button to add a new row and follow the guided steps to start building your page."),showOnClick:!0,balloonGroup:"page-main-settings-desktop"}},this.isInfoBarVisible=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS))}sortRowSequence(){this.mockUpLayoutRows.sort(function(t,e){return t.sequence-e.sequence})}prepareTheMockUpLayoutForDragulaModel(){for(let t=0;t<this.mockUpLayoutRows.length;t++)G.a.keyExistInObject(this.mockUpLayoutRows[t],"columns")&&0!==this.mockUpLayoutRows[t].columns.length?Kt.distributeWidgetsForTypeOfLayout(t,this.mockUpLayoutRows):this.mockUpLayoutRows[t].columns=Kt.createEmptyColumnsBasedOnRowTemplate(this.mockUpLayoutRows[t].layout)}onRowArrangementChange(){Kt.changeRowAndWidgetsSequences(this.mockUpLayoutRows),this.mainSettingsForm.markAsDirty(),this.mainSettingsForm.controls.rows.setValue(this.mockUpLayoutRows),this.pageServices.floatingSaveButtonMarkAsDirty(!0),this.pageServices.preventNavigation()}sortWidgetSequence(){for(let t=0;t<this.mockUpLayoutRows.length;t++)if(Object.prototype.hasOwnProperty.call(this.mockUpLayoutRows[t],"columns"))for(let e=0;e<this.mockUpLayoutRows[t].columns.length;e++)Object.prototype.hasOwnProperty.call(this.mockUpLayoutRows[t].columns[e],"widgets")&&this.mockUpLayoutRows[t].columns[e].widgets.sort(function(t,e){return t.position.sequence-e.position.sequence})}sortColumnSequence(){for(let t=0;t<this.mockUpLayoutRows.length;t++)Object.prototype.hasOwnProperty.call(this.mockUpLayoutRows[t],"columns")&&this.mockUpLayoutRows[t].columns.sort(function(t,e){return t.sequence-e.sequence})}createNewRowWizard(t){this.initializeWizardParamsForRows(t),this._store.dispatch(this.uiActions.showRightPanel(this.rowWizardPanelConfig)),this.initializeWizardActionsForNewRow(),this._store.dispatch(this.uiActions.openRightpanel()),Kt.watchOutForExternalCloseOfRightPanel(this._store,this.uiActions)}initializeWizardParamsForRows(t){const e={id:"add-new-row-step1",content:te,params:{mockUpLayoutRows:this.mockUpLayoutRows,action:t}};this.rowWizardPanelConfig={title:_.a.t("admin_webpages","Add New Row"),description:_.a.t("admin_webpages","Follow the wizard to create a new row in the page"),inputFormControl:this.mainSettingsForm.controls.rows,content:{component:C.a,params:{steps:[e],navigationMode:"",navigationItems:[{title:_.a.t("admin_webpages","Choose row layout")},{title:_.a.t("admin_webpages","Configure rows setting")}]}},actions:[]}}updatedragulaModel(){this.dragulaCheaterFlag=!1,this.cdr.detectChanges(),this.dragulaCheaterFlag=!0,this.cdr.detectChanges()}initializeWizardActionsForNewRow(){const t=this.pageServices.changes.rightPanel.subscribe(e=>{const n=e.innerCmp;this.onChangeStepSubscriber=n.onChangeStep.subscribe(t=>{const e=[];let i;Object.keys(n.wizardForm.controls).length>0&&(i=n.getWizardForm()),t.rowFormControl=i,n.hasPrev()&&e.push({type:"normal",properties:{text:_.a.t("app7020","Previous"),className:"previous-button-for-widget-wizard"},customClasses:"previous-button-for-widget-wizard",handler:()=>{n.prevStep(),t.prev&&t.prev()}}),n.hasNext()&&e.push({type:"normal",properties:{text:_.a.t("app7020","Next")},handler:()=>{n.nextStep(),t.goToRowSettings&&(n.wizardForm=t.goToRowSettings())}}),n.isLastStep()&&e.push({type:"submit",properties:{text:_.a.t("standard","Create")},handler:e=>{let n;if(t.saveRow){n=t.saveRow();const e=n.getRawValue();e.columns=Kt.createEmptyColumnsBasedOnRowTemplate(e.layout),this.mockUpLayoutRows.push(e)}if(n){this.mainSettingsForm.markAsDirty(),this.mainSettingsForm.controls.rows.setValue(this.mockUpLayoutRows);for(let t=0;t<this.mockUpLayoutRows.length;t++)Object.prototype.hasOwnProperty.call(this.mockUpLayoutRows[t],"sequence")&&(this.mockUpLayoutRows[t].sequence=t);this.pageServices.floatingSaveButtonMarkAsDirty(!0),this.pageServices.preventNavigation(),e.close()}else this.docLayoutService.toast.showToast({message:_.a.t("error","Invalid input data"),type:"error"})}}),e.push({type:"cancel",properties:{text:_.a.t("app7020","Cancel")},handler:e=>{t.cancel&&t.cancel(),this.creatingNewWidget.new_box=!1,e.close(),this._store.dispatch(this.uiActions.hideRightpanel())}}),this.rowWizardPanelConfig.actions=e,this._store.dispatch(this.uiActions.setRightpanelDynamicData(this.rowWizardPanelConfig))}),t.unsubscribe()})}ngOnDestroy(){this._store.dispatch(this.uiActions.hideRightpanel()),this.dragulaService&&this.dragulaService.destroy("wrapper-bag");for(const t of this.subscribers)t.unsubscribe();this.lmsPageService.dispatchPreviewLoading({rows:this.mockUpLayoutRows})}}return t.\u0275fac=function(e){return new(e||t)(M.dc(r.d),M.dc(at.e),M.dc(st.a),M.dc(ht.a),M.dc(c.c),M.dc(M.i),M.dc(dt),M.dc(R.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],inputs:{mainSettingsForm:"mainSettingsForm",settings:"settings",page_id:"page_id"},decls:8,vars:12,consts:[[1,"lms-pages-desktop-composer__wrapper"],[3,"infoBarLabel","localStorageKey",4,"ngIf"],["class","wrapper-bag-container lms-pages-custom-desktop--widget-composer__wrapper",3,"dragula","dragulaModel","dragulaModelChange",4,"ngIf"],[1,"mdl-wrapper","lms-pages-custom-desktop--widget-composer-add-new-row"],[1,"mdl-grid"],[1,"mdl-cell","mdl-cell--12-col","add-new-row-button__container","bg-before-grey-light","bg-after-grey-light"],["balloon","",1,"button-balloon-wrapper",3,"width","position","title","text","showOnClick","balloonGroup"],[1,"button-add-new-row",3,"properties","state","click"],[3,"infoBarLabel","localStorageKey"],[1,"wrapper-bag-container","lms-pages-custom-desktop--widget-composer__wrapper",3,"dragula","dragulaModel","dragulaModelChange"],[3,"page_id","mainSettingsForm","mockUpLayoutRows","rowIndex","updatedragulaModel",4,"ngFor","ngForOf"],[3,"page_id","mainSettingsForm","mockUpLayoutRows","rowIndex","updatedragulaModel"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.dd(1,tn,1,2,"manage-pages-info-bar",1),M.dd(2,nn,2,3,"div",2),M.jc(3,"div",3),M.jc(4,"div",4),M.jc(5,"div",5),M.jc(6,"div",6),M.jc(7,"circle-button",7),M.rc("click",function(){return e.createNewRowWizard("push")}),M.ic(),M.ic(),M.ic(),M.ic(),M.ic(),M.ic()),2&t&&(M.Mb(1),M.Dc("ngIf",e.isInfoBarVisible),M.Mb(1),M.Dc("ngIf",e.dragulaCheaterFlag),M.Mb(4),M.ad(e.buttonForAddingNewRow.balloon.style),M.Dc("width",e.buttonForAddingNewRow.balloon.width)("position",e.buttonForAddingNewRow.balloon.position)("title",e.buttonForAddingNewRow.balloon.title)("text",e.buttonForAddingNewRow.balloon.text)("showOnClick",e.buttonForAddingNewRow.balloon.showOnClick)("balloonGroup",e.buttonForAddingNewRow.balloon.balloonGroup),M.Mb(1),M.Dc("properties",e.buttonForAddingNewRow.properties)("state",e.buttonForAddingNewRow.state))},directives:[F.p,ue.a,he.a,we,c.a,F.o,Ze],styles:['.color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.lms-pages-desktop-composer__wrapper[_ngcontent-%COMP%]{margin-bottom:80px}.lms-pages-desktop-composer__wrapper[_ngcontent-%COMP%]   .button-wrap[_ngcontent-%COMP%]{z-index:3}.button-balloon-wrapper[_ngcontent-%COMP%]{width:60px;margin:auto}.lms-pages-custom-desktop--widget-composer-add-new-row[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:0}.lms-pages-custom-desktop--widget-composer-add-new-row[_ngcontent-%COMP%]   .button-add-new-row[_ngcontent-%COMP%]{position:relative}.lms-pages-custom-desktop--widget-composer-add-new-row[_ngcontent-%COMP%]   .add-new-row-button__container[_ngcontent-%COMP%]:before{right:0}.lms-pages-custom-desktop--widget-composer-add-new-row[_ngcontent-%COMP%]   .add-new-row-button__container[_ngcontent-%COMP%]:after{left:0}.lms-pages-custom-desktop--widget-composer-add-new-row[_ngcontent-%COMP%]   .add-new-row-button__container[_ngcontent-%COMP%]:after, .lms-pages-custom-desktop--widget-composer-add-new-row[_ngcontent-%COMP%]   .add-new-row-button__container[_ngcontent-%COMP%]:before{content:"";position:absolute;height:1px;top:0;bottom:0;margin:auto;width:calc(50% - 40px)}.lms-pages-custom-desktop--widget-composer__wrapper[_ngcontent-%COMP%]   .widget-bag[_ngcontent-%COMP%]{min-height:1px}.lms-pages-custom-desktop--widget-composer__wrapper[_ngcontent-%COMP%]   .widget-bg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.lms-pages-custom-desktop--widget-composer__wrapper[_ngcontent-%COMP%]   .widget-bg[_ngcontent-%COMP%]   span.bg-positive-green[_ngcontent-%COMP%]{opacity:0}.widget-cell.gu-mirror[_ngcontent-%COMP%], app-row-manager.gu-mirror[_ngcontent-%COMP%]{zoom:1.05}app-row-manager.gu-transit[_ngcontent-%COMP%]   .widgets-row[_ngcontent-%COMP%]{opacity:.5}']}),t})();var an=n("BVXN"),on=n("sTJ6");let rn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=M.Xb({type:t,selectors:[["widget-preview-page"]],decls:3,vars:0,consts:[[1,"widget-preview-page"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.ec(1,"fake-data-warning-message"),M.ec(2,"widget-render-old"),M.ic())},directives:[an.a,on.a],encapsulation:2}),t})();var cn=n("Wsbo"),ln=n("Vqln");const dn=function(t){return{"widget-hidden":t}};function gn(t,e){if(1&t&&(M.jc(0,"div",15),M.fd(1),M.wc(2,"localizable"),M.ic()),2&t){const t=M.vc().$implicit,e=M.vc(2);M.Dc("ngClass",M.Ic(4,dn,!e.isWidgetVisible(t))),M.Mb(1),M.hd(" ",M.xc(2,2,t.name)," ")}}function un(t,e){if(1&t&&(M.jc(0,"div",15),M.fd(1),M.wc(2,"t"),M.ic()),2&t){const t=M.vc().$implicit,e=M.vc(2);M.Dc("ngClass",M.Ic(4,dn,!e.isWidgetVisible(t))),M.Mb(1),M.hd(" ",M.xc(2,2,null==e.widgetDefaultLabels[null==t?null:t.type]?null:e.widgetDefaultLabels[null==t?null:t.type].name)," ")}}const hn=function(t,e){return{"zmdi-eye":t,"zmdi-eye-off":e}};function pn(t,e){if(1&t){const t=M.kc();M.jc(0,"li",9),M.jc(1,"div",10),M.wc(2,"t"),M.jc(3,"div",11),M.jc(4,"i",12),M.rc("click",function(){M.Uc(t);const n=e.$implicit;return M.vc(2).toggleWidgetVisibility(n)}),M.wc(5,"t"),M.ic(),M.ic(),M.dd(6,gn,3,6,"div",13),M.wc(7,"localizable"),M.dd(8,un,3,6,"div",13),M.wc(9,"localizable"),M.jc(10,"div",14),M.fd(11),M.wc(12,"t"),M.ic(),M.ic(),M.ic()}if(2&t){const t=e.$implicit,n=e.index,i=M.vc(2);M.ad(i.balloonHideUnhide.style),M.Dc("width",i.balloonHideUnhide.width)("position",i.balloonHideUnhide.position)("title",i.balloonHideUnhide.title)("text",i.balloonHideUnhide.text)("enabled",0===n)("showOnClick",i.balloonHideUnhide.showOnClick)("balloonGroup",i.balloonHideUnhide.balloonGroup),M.Mb(1),M.Dc("tooltip",M.xc(2,18,i.isWidgetVisible(t)?"":i.disabledWidgetTooltip))("position","top"),M.Mb(3),M.Dc("ngClass",M.Jc(28,hn,i.isWidgetVisible(t),!i.isWidgetVisible(t)))("tooltip",M.xc(5,20,i.isWidgetVisible(t)?i.hideWidgetTooltipText:i.showWidgetTooltipText))("position","top"),M.Mb(2),M.Dc("ngIf",M.xc(7,22,t.name)),M.Mb(2),M.Dc("ngIf",!M.xc(9,24,null==t?null:t.name)),M.Mb(2),M.Dc("ngClass",M.Ic(31,dn,!i.isWidgetVisible(t))),M.Mb(1),M.hd(" ",M.xc(12,26,null==i.widgetDefaultLabels[null==t?null:t.type]?null:i.widgetDefaultLabels[null==t?null:t.type].description)," ")}}function mn(t,e){if(1&t&&(M.jc(0,"ul",7),M.dd(1,pn,13,33,"li",8),M.ic()),2&t){const t=M.vc();M.Mb(1),M.Dc("ngForOf",t.mobileStaticWidgets)}}const _n=function(){return{category:"admin_webpages"}};let bn=(()=>{class t{constructor(t,e,n,i,s){this.widgetSettingsDependencies=t,this.widgetRenderService=e,this.pageService=n,this.docLayoutService=i,this.toggleService=s,this.mobileStaticWidgets=[],this.notMobileStaticWidgets=[],this.managePagesInfoLabel=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("admin_webpages","Here you'll find all the widgets used in the composer that are also available for the Mobile App. Click on the Eye icon to hide the widgets from the mobile page."):_.a.t("admin_webpages","Here you'll find all the widgets that are used in the desktop page and are available for the Mobile App."),this.knowledgeBase=this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?"https://www.docebo.com/knowledge-base/widgetpages/":"",this.widgetMobileComposerBS={type:"empty002",title:_.a.t("standard","The Composer is empty.<br>Add mobile compatible widgets in the<br>Composer tab to see them here."),subtitle:[_.a.t("standard","Mobile compatible widgets are marked with the"),"zmdi-devices",_.a.t("standard","icon.")]},this.noMobileCompatible={type:"empty002",title:_.a.t("standard","No widget compatible for mobile.<br>Add mobile compatible widgets in the<br>Composer tab to see them here."),subtitle:[_.a.t("standard","Mobile compatible widgets are marked with the"),"zmdi-devices",_.a.t("standard","icon."),_.a.t("standard","Empty pages are not available for selection in mobile menus.")]},this.balloonMessages={content:{title:_.a.t("standard","Widgets"),text:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("admin_webpages","Widgets settings and position will be automatically transposed from the Composer."):_.a.t("admin_webpages","Widgets settings and position will be automatically transposed from the Desktop Composer."),position:"left",style:cn.a.MAIN,width:296,showOnClick:!0,balloonGroup:"mobile-app-composer-tab"}},this.balloonHideUnhide={width:296,position:"right",style:"main",title:_.a.t("admin_webpages","Hide / Unhide Option"),text:_.a.t("admin_webpages","Choose which widgets you want to see and which ones you want to hide from your Mobile App Page."),showOnClick:!0,balloonGroup:"mobile-app-composer-tab"},this.hideWidgetTooltipText=_.a.t("admin_webpages","Hide Widget"),this.showWidgetTooltipText=_.a.t("admin_webpages","Unhide Widget"),this.disabledWidgetTooltip=_.a.t("admin_webpages","This widget has been hidden. You can unhide it by clicking the unhide icon."),this.widgetDefaultLabels={},this.getDefaultNameAndDescription()}ngOnInit(){Kt.getMobileWidgets(this.mainSettingsForm.getRawValue(),this.toggleService),this.mobileStaticWidgets=Kt.mobileStaticWidgets,this.notMobileStaticWidgets=Kt.notMobileStaticWidgets}ngOnDestroy(){Kt.getMobileWidgets(null,this.toggleService)}toggleWidgetVisibility(t){if(!t)return;t.visible_on_mobile=!t.visible_on_mobile,this.mainSettingsForm.markAsDirty();const e=_.a.t("admin_webpages",t.visible_on_mobile?"The widget has been unhidden successfully in your Mobile App Page":"The widget has been hidden successfully in your Mobile App Page");this.pageService.floatingSaveButtonMarkAsDirty(!0),this.pageService.preventNavigation(),this.docLayoutService.toast.showToast({message:e,type:"success"});const n=this.mobileStaticWidgets.filter(t=>!t.visible_on_mobile).length===this.mobileStaticWidgets.length;this.mainSettingsForm.controls.allMobileWidgetsDisabled?this.mainSettingsForm.controls.allMobileWidgetsDisabled.setValue(n):this.mainSettingsForm.addControl("allMobileWidgetsDisabled",new g.e(n))}isWidgetVisible(t){return!!t&&(void 0===t.visible_on_mobile&&(t.visible_on_mobile=!0),t.visible_on_mobile)}getDefaultNameAndDescription(){this.widgetRenderService.getWidgetSettingsListForModule("pages").map(t=>{const e=new t(this.widgetSettingsDependencies);this.widgetDefaultLabels[String(e.config.name)]={name:e.config.heading,description:e.config.description}})}}return t.\u0275fac=function(e){return new(e||t)(M.dc(Re.a),M.dc(Fe.a),M.dc(st.a),M.dc(ht.a),M.dc(R.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["mobile-composer"]],inputs:{mainSettingsForm:"mainSettingsForm",settings:"settings",pageId:"pageId"},decls:10,vars:28,consts:[[3,"hidden","infoBarLabel","localStorageKey","knowledgeBase"],[1,"mdl-wrapper"],[1,"mdl-grid","grid-center-aligned"],["balloon","",1,"mobile-app-composer__wrapper","mdl-cell","mdl-cell--6-col","border-grey",3,"text","title","position","width","showOnClick","balloonGroup"],[1,"mobile-app-composer__header","bg-grey","text-white","bolded","text-basic-size"],[3,"isVisible","type","title","subtitle","inlineSubtitle"],["class","mobile-app-composer__container",4,"ngIf"],[1,"mobile-app-composer__container"],["class","mobile-app-composer__widget bg-white","balloon","",3,"style","width","position","title","text","enabled","showOnClick","balloonGroup",4,"ngFor","ngForOf"],["balloon","",1,"mobile-app-composer__widget","bg-white",3,"width","position","title","text","enabled","showOnClick","balloonGroup"],[1,"widget-wrapper",3,"tooltip","position"],[1,"hide-icon","text-grey-mid"],[1,"zmdi",3,"ngClass","tooltip","position","click"],["class","title bolded",3,"ngClass",4,"ngIf"],[1,"description","text-grey-mid","subtitle-normal",3,"ngClass"],[1,"title","bolded",3,"ngClass"]],template:function(t,e){1&t&&(M.ec(0,"manage-pages-info-bar",0),M.jc(1,"div",1),M.jc(2,"div",2),M.jc(3,"div",3),M.jc(4,"header",4),M.fd(5),M.wc(6,"t"),M.ic(),M.ec(7,"blankslate",5),M.ec(8,"blankslate",5),M.dd(9,mn,2,1,"ul",6),M.ic(),M.ic(),M.ic()),2&t&&(M.Dc("hidden",!(e.mobileStaticWidgets.length>0))("infoBarLabel",e.managePagesInfoLabel)("localStorageKey","mobile-app-composer-bar")("knowledgeBase",e.knowledgeBase),M.Mb(3),M.ad(null==e.balloonMessages||null==e.balloonMessages.content?null:e.balloonMessages.content.style),M.Dc("text",null==e.balloonMessages||null==e.balloonMessages.content?null:e.balloonMessages.content.text)("title",null==e.balloonMessages||null==e.balloonMessages.content?null:e.balloonMessages.content.title)("position",null==e.balloonMessages||null==e.balloonMessages.content?null:e.balloonMessages.content.position)("width",null==e.balloonMessages||null==e.balloonMessages.content?null:e.balloonMessages.content.width)("showOnClick",null==e.balloonMessages||null==e.balloonMessages.content?null:e.balloonMessages.content.showOnClick)("balloonGroup",null==e.balloonMessages||null==e.balloonMessages.content?null:e.balloonMessages.content.balloonGroup),M.Mb(2),M.hd(" ",M.yc(6,24,"Page Content",M.Hc(27,_n))," "),M.Mb(2),M.Dc("isVisible",0===(null==e.mobileStaticWidgets?null:e.mobileStaticWidgets.length)&&0===(null==e.notMobileStaticWidgets?null:e.notMobileStaticWidgets.length))("type",e.widgetMobileComposerBS.type)("title",e.widgetMobileComposerBS.title)("subtitle",e.widgetMobileComposerBS.subtitle)("inlineSubtitle",!0),M.Mb(1),M.Dc("isVisible",0===(null==e.mobileStaticWidgets?null:e.mobileStaticWidgets.length)&&0!==(null==e.notMobileStaticWidgets?null:e.notMobileStaticWidgets.length))("type",e.noMobileCompatible.type)("title",e.noMobileCompatible.title)("subtitle",e.noMobileCompatible.subtitle)("inlineSubtitle",!0),M.Mb(1),M.Dc("ngIf",e.mobileStaticWidgets.length>0))},directives:[we,ue.a,ln.a,F.p,F.o,X.a,F.n],pipes:[_.b,m.a],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]{display:block;margin-bottom:67px}[_nghost-%COMP%]   .grid-center-aligned[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .mobile-app-composer__wrapper[_ngcontent-%COMP%]{border-width:1px;border-style:solid;margin-top:20px}[_nghost-%COMP%]   .mobile-app-composer__header[_ngcontent-%COMP%]{min-height:unset;padding:8px;line-height:19px;text-align:center}[_nghost-%COMP%]   .mobile-app-composer__container[_ngcontent-%COMP%]{min-height:100px;padding:24px}[_nghost-%COMP%]   .mobile-app-composer__widget[_ngcontent-%COMP%]{text-align:center;box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}[_nghost-%COMP%]   .mobile-app-composer__widget[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]{position:relative;padding:40px}[_nghost-%COMP%]   .mobile-app-composer__widget[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:8px;font-size:16px;line-height:22px}[_nghost-%COMP%]   .mobile-app-composer__widget[_ngcontent-%COMP%]   .title.widget-hidden[_ngcontent-%COMP%]{opacity:.3}[_nghost-%COMP%]   .mobile-app-composer__widget[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{max-width:300px;margin:auto;line-height:17px}[_nghost-%COMP%]   .mobile-app-composer__widget[_ngcontent-%COMP%]   .description.widget-hidden[_ngcontent-%COMP%]{opacity:.3}[_nghost-%COMP%]   .mobile-app-composer__widget[_ngcontent-%COMP%] ~ .mobile-app-composer__widget[_ngcontent-%COMP%]{margin-top:24px}[_nghost-%COMP%]   .hide-icon[_ngcontent-%COMP%]{font-size:24px;position:absolute;right:20px;top:15px;cursor:pointer}[_nghost-%COMP%]   .hide-icon[_ngcontent-%COMP%]:hover{color:var(--ui-color-typography-primary)}  .blank-slate-subtitle{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}"]}),t})();var fn=n("z52M");function wn(t,e){if(1&t&&M.ec(0,"widget-preview-page",4),2&t){const t=M.vc();M.Dc("mainSettingsForm",t.mainSettingsForm)("settings",t.page_configuration)("page_id",t.page_id)}}function Cn(t,e){if(1&t&&M.ec(0,"tabs",5),2&t){const t=M.vc();M.ad(t.tabsComponentSettings.style),M.Dc("panels",t.tabsComponentSettings.panels)("initialTab",t.tabsComponentSettings.initialTab)("switchButtonParams",t.tabsComponentSettings.switchButtonParams)}}const On=function(t){return{"bg-white":t}};let vn=(()=>{class t{constructor(t,e,n,i,s,a,o,c,l,d,g,u){this._store=t,this._pagesActions=e,this._lmsPageService=n,this.pageService=i,this.route=s,this.fb=a,this._router=o,this._translationService=c,this._ref=l,this._sessionActions=d,this.toggleService=g,this.docLayoutService=u,this.tabsComponentSettings={},this.showTabsComponent=!1,this.floatingSaveButton=null,this.floatingSaveButtonVisible=!1,this.pagesSliceSelector=Object(r.m)(T,t=>t.lms_pages),this.disposableSubscriptions=[],this.destopPrevActionBtnId=1,this.destopPrevActionBtn={properties:{id:this.destopPrevActionBtnId,icons:["laptop"],tooltipPosition:"top",tooltipText:_.a.t("admin_webpages","Desktop Preview")},onClick:()=>{this.showDesktopPreview=!0;const t=this.docLayoutService.getDocLayoutConfig().actionButtons.actionButtons;for(let e=0;e<t.length;e++)t[e].properties.id===this.destopPrevActionBtnId&&t.splice(e,1)}}}setPageHeader(t){const e=(new m.a).transform(t.names),n=(new m.a).transform(t.descriptions);this.docLayoutService.header.showTitleBar({title:e,subtitle:n,fullWidth:!0,mode:"bordered"}),this.docLayoutService.breadcrumbs.setHierarchicalBreadcrumbs([{label:_.a.t("admin_webpages","Manage pages"),href:"/pages/page-management"},{label:e,href:this._router.url}])}chooseDefaultIcon(t){switch(t){case v.b.EXTERNAL:return"zmdi zmdi-link";case v.b.WIDGET:return"zmdi zmdi-view-dashboard"}}createFormGroupForPages(t){return new Promise(e=>{this.mainSettingsForm?e(!1):(this.mainSettingsForm=this.fb.group({icon:[t.hasOwnProperty("icon")&&t.icon?t.icon:this.chooseDefaultIcon(t.type)],code:[t.hasOwnProperty("code")?t.code:"",g.x.maxLength(25)],published:[!!t.hasOwnProperty("published")&&t.published],names:new g.e,descriptions:new g.e,widgets_limit:[t.hasOwnProperty("widgets_limit")&&t.widgets_limit?t.widgets_limit:10],rows:[t.hasOwnProperty("rows")&&t.rows?t.rows:[]]}),e(!0))})}setErrorsOnControls(t,e,n){for(const i in t.controls)t.controls[i].hasOwnProperty("controls")?this.setErrorsOnControls(t.controls[i],e,n):e===i&&t.controls[e]&&(t.controls[e].setErrors(_.a.t("standard",n)),t.controls[e].markAsTouched(),t.updateValueAndValidity())}subscribeforErrors(){const t=this._lmsPageService.throw_errors.subscribe(e=>{if(t.unsubscribe(),e){for(const t in this.mainSettingsForm.controls)this.mainSettingsForm.controls.hasOwnProperty(t)&&this.mainSettingsForm.controls[t].setErrors(null);for(let t=0;t<e.length;t++)e[t].field&&this.setErrorsOnControls(this.mainSettingsForm,e[t].field,e[t].message)}})}savePageActionFormValid(t,e){return new Promise((n,i)=>{const s=this.mainSettingsForm.getRawValue();if(this.mainSettingsForm.controls.hasOwnProperty("assignToAll")){const t=Gt.getLocalizableData(e,["names","descriptions"]),i=B.a.localizableFormDataFormat(this.mainSettingsForm,t);s.hasOwnProperty("names")&&(s.names=i.names),s.hasOwnProperty("descriptions")&&(s.descriptions=i.descriptions),n()}this._store.dispatch(this._pagesActions.pageSettingUpdateRequest(t.id_page,s)),this.subscribeforErrors()})}savePageActionFormInvalid(){if(this.mainSettingsForm.controls.hasOwnProperty("settings")&&this.mainSettingsForm.controls.settings.controls.hasOwnProperty("general")&&this.mainSettingsForm.controls.settings.controls.general.controls.hasOwnProperty("re_salt_secret")&&!this.mainSettingsForm.controls.settings.controls.general.controls.re_salt_secret.valid){const t=_.a.t("pages","'{field1}' and '{field2}' must contain the same value",{field1:new _.b(this._translationService,this._ref).transform(_.a.t("standard","Salt secret")),field2:new _.b(this._translationService,this._ref).transform(_.a.t("standard","Retype salt secret"))});this.docLayoutService.toast.showToast({message:t,type:"error"})}}updatePageInformation(t){if(this.mainSettingsForm.controls.rows.setValue(t.rows,{emitEvent:!1}),!this.mainSettingsForm.controls.hasOwnProperty("assignToAll")||!t.hasOwnProperty("names"))return this.pageService.floatingSaveButtonMarkAsDirty(!1),void this._store.dispatch(this._pagesActions.pageNameSettingUpdate(t.names,t.descriptions));const e=this.mainSettingsForm.getRawValue(),n=Gt.getLocalizableData(t,["names","descriptions"]),i=B.a.localizableFormDataFormat(this.mainSettingsForm,n);e.hasOwnProperty("names")&&(e.names=i.names),e.hasOwnProperty("descriptions")&&(e.descriptions=i.descriptions),this.pageService.floatingSaveButtonMarkAsDirty(!1),this._store.dispatch(this._pagesActions.pageNameSettingUpdate(e.names,e.descriptions))}initializeFloatingSaveButton(t,e){this.floatingSaveButton&&Object.keys(this.floatingSaveButton).length>0||(this.floatingSaveButton={actions:[{properties:{text:_.a.t("app7020","Save Changes"),colorScheme:"positive-green",typeStyle:"filled"},onClick:()=>new Promise((n,i)=>{if(this.mainSettingsForm.valid){const i=this.mainSettingsForm.get("allMobileWidgetsDisabled");i&&i.value?this.showHiddenMobileWidgetsWarning(t,e):(n(),this.savePageActionFormValid(t,e),this.pageService.floatingSaveButtonMarkAsDirty(!1),this.pageService.allowNavigation())}else i(),this.savePageActionFormInvalid()})}]},e.type&&e.type!==v.b.BUILTIN&&(this.floatingSaveButton.status=[{value:1,name:_.a.t("standard","Published"),description:_.a.t("admin_webpages","Element is published, meaning it\u2019s available for you to configure in a way that assigned users can view, search, or interact with it."),active:e.published},{value:0,name:_.a.t("app7020","Unpublished"),description:_.a.t("admin_webpages","Element is unpublished, meaning that even if you configure it in a way for assigned users to search and interact with it, they cannot see it."),active:!e.published}],this.floatingSaveButton.changeStatus=t=>{t&&(this.mainSettingsForm.markAsDirty(),this.mainSettingsForm.controls.published.setValue(t.value),this.mainSettingsForm.controls.published.markAsDirty(),this.mainSettingsForm.controls.published.updateValueAndValidity())}),this.pageService.initFloatingSaveButton(this.floatingSaveButton),this.pageService.showFloatingSaveButton())}detectChangesAndUpdatePublishingBar(){const t=this.mainSettingsForm.valueChanges.subscribe(t=>{const e=this.mainSettingsForm.controls.settings?this.mainSettingsForm.controls.settings.controls.general.controls:{},n=this.mainSettingsForm.controls;["names","descriptions","code","icon","assignToAll","translationsLocalizableFields","url","opens_in","iframe_height","iframe_advanced_setting","salt_secret","re_salt_secret","oauth_client","published"].forEach(t=>{(n[t]&&n[t].dirty||e[t]&&e[t].dirty)&&(this.pageService.floatingSaveButtonMarkAsDirty(!0),this.pageService.preventNavigation())})});this.disposableSubscriptions.push(t)}ngOnInit(){this.routeSubscriber=this.route.params.subscribe(t=>{this._store.dispatch(this._pagesActions.pageSettingInitialize(t.id_page));const e=this._store.select(this.pagesSliceSelector).subscribe(n=>{if(n){const i=n.single_page_information;i.status===v.a.INITIALIZED&&(this.setPageHeader(i),this.createFormGroupForPages(i).then(()=>{this.initializeTabsComponent(i,t.id_page,t.tab),this.initializeFloatingSaveButton(t,i),this.detectChangesAndUpdatePublishingBar()}),e.unsubscribe())}});this.lmsPagesSubscriber=this._store.select(this.pagesSliceSelector).subscribe(t=>{if(t){const e=t.single_page_information;switch(e.status){case v.a.REJECTED:this._lmsPageService.setPageCreationErrors(e.errors);break;case v.a.UPDATED:this.updatePageInformation(e);break;case v.a.RENAMED:this.setPageHeader(e)}this.lmsPagesSubscriber&&e.status===v.a.INITIALIZING&&this.lmsPagesSubscriber.unsubscribe()}}),this.pageSubscriber=this._store.select("page").subscribe(t=>{t&&t.floating_save_button&&(this.floatingSaveButtonVisible=t.floating_save_button.show)})})}initializeTabsComponent(t,e,n){if(t&&!(Object.keys(this.tabsComponentSettings).length>0)){switch(this.tabsComponentSettings={panels:[],style:yt.a.INLINE,initialTab:{},reInitTabsOnChange:!1},t.type){case v.b.EXTERNAL:this.tabsComponentSettings.panels.push({title:_.a.t("admin_webpages","Page Settings"),content:{params:{mainSettingsForm:this.mainSettingsForm,settings:t,page_id:e},component:Jt}});break;case v.b.WIDGET:const i={title:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("admin_webpages","Desktop Preview"):_.a.t("standard","Preview"),content:{params:{mainSettingsForm:this.mainSettingsForm,settings:t,page_id:e},component:rn},properties:{}};this.tabsComponentSettings.panels.push({title:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("standard","Properties"):_.a.t("standard","Settings"),content:{params:{mainSettingsForm:this.mainSettingsForm,settings:t,page_id:e},component:Jt},properties:{balloon:{style:"main",width:296,position:"bottom",title:_.a.t("admin_webpages","Compose Your Pages"),text:_.a.t("admin_webpages","Use these tabs to configure the settings of your pages and to compose their layout."),showOnClick:!0,balloonGroup:"page-main-settings-new"}}},{title:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("admin_webpages","Composer"):_.a.t("admin_webpages","Desktop Composer"),content:{params:{mainSettingsForm:this.mainSettingsForm,settings:t,page_id:e},component:sn}}),this.tabsComponentSettings.panels.push(i),n&&"desktop"===n&&(this.tabsComponentSettings.initialTab=this.tabsComponentSettings.panels[1]),this.addMobileAppComposer(n,{mainSettingsForm:this.mainSettingsForm,settings:t,pageId:e});break;default:case v.b.BUILTIN:this.tabsComponentSettings.panels.push({title:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("standard","Properties"):_.a.t("standard","Settings"),content:{params:{mainSettingsForm:this.mainSettingsForm,settings:t,page_id:e,builtin_page:!1},component:Jt}})}this.showTabsComponent=!0}}addMobileAppComposer(t,e){if(!this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS))return;const n={title:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("admin_webpages","Mobile Layout"):_.a.t("admin_webpages","Mobile App Composer"),content:{params:e,component:bn},properties:{balloon:{style:"main",width:296,position:"top",title:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("admin_webpages","The New Mobile Layout"):_.a.t("admin_webpages","The New Mobile Composer"),text:this.toggleService.isOn(b.a.TOGGLE_MOBILE_COMPATIBLE_WIDGETS)?_.a.t("admin_webpages","Here you'll find all of the available widgets transposed from the Composer to the Mobile Layout"):_.a.t("admin_webpages","Here you'll find all of the available widgets transposed from the Desktop Composer to the Mobile App Composer"),showOnClick:!0,balloonGroup:"mobile-app-composer-tab-title"}}};this.tabsComponentSettings.panels.splice(2,0,n),t&&"mobile"===t&&(this.tabsComponentSettings.initialTab=n)}ngOnDestroy(){this._lmsPageService.disableDemo(),this._store.dispatch(this._pagesActions.pageSettingDestroy()),this.lmsPagesSubscriber&&this.lmsPagesSubscriber.unsubscribe(),this.pageService.hideFloatingSaveButton(),this.pageSubscriber&&this.pageSubscriber.unsubscribe(),this.routeSubscriber&&this.routeSubscriber.unsubscribe(),this.disposableSubscriptions.map(t=>{t.unsubscribe()})}showHiddenMobileWidgetsWarning(t,e){this.pageService.dialog.open({id:"hide-mobile-widgets",width:450,height:200,title:_.a.t("admin_webpages","Unpublish Page from Mobile Menu"),content:_.a.t("admin_webpages","You are about to hide all the widgets in this page. The page will no longer be available for users in the mobile menu. Are you sure you want to proceed?\u2019"),actions:[{type:"cancel",properties:{text:_.a.t("standard","Cancel")}},{type:"normal",properties:{text:_.a.t("app7020","Unpublish")},handler:n=>{n.close(),this.savePageActionFormValid(t,e),this.pageService.floatingSaveButtonMarkAsDirty(!1),this.pageService.allowNavigation(),this.mainSettingsForm.controls.allMobileWidgetsDisabled.setValue(!1)}}]})}}return t.\u0275fac=function(e){return new(e||t)(M.dc(r.d),M.dc(y),M.dc(dt),M.dc(st.a),M.dc(i.a),M.dc(g.d),M.dc(i.h),M.dc(gt.a),M.dc(M.i),M.dc(ut.a),M.dc(R.a),M.dc(ht.a))},t.\u0275cmp=M.Xb({type:t,selectors:[["ng-component"]],decls:4,vars:5,consts:[[1,"custom-page-settings__wrapper"],[1,"custom-page-settings__body",3,"ngClass"],[3,"mainSettingsForm","settings","page_id",4,"ngIf"],[3,"panels","style","initialTab","switchButtonParams",4,"ngIf"],[3,"mainSettingsForm","settings","page_id"],[3,"panels","initialTab","switchButtonParams"]],template:function(t,e){1&t&&(M.jc(0,"div",0),M.jc(1,"div",1),M.dd(2,wn,1,3,"widget-preview-page",2),M.dd(3,Cn,1,5,"tabs",3),M.ic(),M.ic()),2&t&&(M.Mb(1),M.Dc("ngClass",M.Ic(3,On,e.showTabsComponent&&!e.showDesktopPreview)),M.Mb(1),M.Dc("ngIf",e.showDesktopPreview),M.Mb(1),M.Dc("ngIf",e.showTabsComponent&&!e.showDesktopPreview))},directives:[F.n,F.p,rn,fn.a],encapsulation:2}),t})();n("aRdF"),n("VRNE"),n("f2BR");var Mn=n("b74N"),yn=n("TaD2");const Pn=[{path:"",canActivate:[Mn.a],children:[{path:"",component:Mt,pathMatch:"full"},{path:"settings/:id_page",component:vn,canDeactivate:[yn.a]}],data:{showFooter:!1}}];var Sn=n("/76g"),In=n("eIep"),xn=n("JIr8"),En=n("vkgz"),Tn=n("LRne");let Dn=(()=>{class t{constructor(t,e,n,i,s,a,r){this._update$=t,this.pagesActions=e,this.pagesService=n,this.docLayoutService=i,this.router=s,this._store=a,this._sessionActions=r,this.loadMenuPagesInitialize$=this._update$.pipe(Object(o.f)(y.PAGES_LIST_INITIALIZE),Object(In.a)(t=>this.pagesService.callPagesList(t).pipe(Object(k.a)(t=>this.pagesActions.pageListSuccess(t)),Object(xn.a)(t=>Object(Tn.a)(this.pagesActions.pageListRejected()))))),this.saveNewPageInitialize$=this._update$.pipe(Object(o.f)(y.SAVE_NEW_PAGE_INITIALIZE),Object(k.a)(t=>t.payload),Object(In.a)(t=>this.pagesService.saveNewPage(t).pipe(Object(En.a)(t=>{this.docLayoutService.toast.showToast({message:Sn.a.t("admin_webpages","{menu_name} has been created successfully",{menu_name:(new m.a).transform(t.names)}),type:"success"}),this.router.navigate(["/pages/page-management/settings/"+t.id])}),Object(k.a)(t=>this.pagesActions.saveNewPageSuccess(t)),Object(xn.a)(t=>Object(Tn.a)(this.pagesActions.saveNewPageRejected(t.message)))))),this.updatePageInitialize$=this._update$.pipe(Object(o.f)(y.PAGE_SETTINGS_UPDATE_INITIALIZE),Object(k.a)(t=>t.payload),Object(In.a)(t=>this.pagesService.editCertainPage(t.page_id,t.settings).pipe(Object(En.a)(()=>{this.docLayoutService.toast.showToast({message:Sn.a.t("app7020","Your changes has been successfully saved"),type:"success"})}),Object(k.a)(e=>this.pagesActions.pageSettingUpdateSuccess(e,t)),Object(xn.a)(t=>Object(Tn.a)(this.pagesActions.pageSettingUpdateRejected(t.message)))))),this.updatePageSuccess$=this._update$.pipe(Object(o.f)(y.PAGE_SETTINGS_UPDATE_SUCCESS),Object(k.a)(t=>t.page),Object(En.a)(t=>{const e=p.a.getInstance().menu_items.map(e=>{if(e.id===+t.page_id){const n=(new m.a).transform(t.settings.names),i=(new m.a).transform(t.settings.descriptions);return Object.assign(Object.assign({},e),{label:n,description:i,icon:t.settings.icon,code:t.settings.code})}return e});p.a.getInstance().menu_items=e,this._store.dispatch(this._sessionActions.loadSession())}),Object(In.a)(t=>this.pagesService.callPagesList(null,t.page_id).pipe(Object(k.a)(t=>this.pagesActions.pageSettingSuccess(t,!0)),Object(xn.a)(t=>Object(Tn.a)(this.pagesActions.pageSettingRejected()))))),this.getSinglePageSettings$=this._update$.pipe(Object(o.f)(y.PAGE_SETTINGS_INITIALIZE),Object(k.a)(t=>t.payload),Object(In.a)(t=>this.pagesService.callPagesList(null,t).pipe(Object(k.a)(t=>this.pagesActions.pageSettingSuccess(t)),Object(xn.a)(t=>Object(Tn.a)(this.pagesActions.pageSettingRejected()))))),this.deleteSinglePage$=this._update$.pipe(Object(o.f)(y.DELETE_SINGLE_PAGE),Object(In.a)(({payload:t})=>this.pagesService.deleteSinglePage(t).pipe(Object(k.a)(t=>this.pagesActions.deleteSinglePageSuccess(t)),Object(xn.a)(t=>Object(Tn.a)(this.pagesActions.deleteSinglePageReject(t)))))),this.publishPage$=this._update$.pipe(Object(o.f)(y.PUBLISH_PAGE),Object(Yt.a)(t=>t&&t.payload&&t.payload.pageId&&t.payload.pageName),Object(In.a)(t=>this.pagesService.editCertainPage(t.payload.pageId,{published:!0}).pipe(Object(En.a)(()=>{this.docLayoutService.toast.showToast({message:Sn.a.t("standard","{item} has been published successfully",{item:"<b>"+t.payload.pageName+"</b>"}),type:"success"})}),Object(k.a)(t=>this.pagesActions.publishPageSuccess(t)),Object(xn.a)(t=>(this.docLayoutService.toast.showToast({message:Sn.a.t("standard","Operation failed."),type:"error"}),Object(Tn.a)(this.pagesActions.pageSettingUpdateRejected(t.message))))))),this.unpublishPage$=this._update$.pipe(Object(o.f)(y.UNPUBLISH_PAGE),Object(Yt.a)(t=>t&&t.payload&&t.payload.pageId&&t.payload.pageName),Object(In.a)(t=>this.pagesService.editCertainPage(t.payload.pageId,{published:!1}).pipe(Object(En.a)(()=>{this.docLayoutService.toast.showToast({message:Sn.a.t("standard","{item} has been unpublished successfully",{item:"<b>"+t.payload.pageName+"</b>"}),type:"success"})}),Object(k.a)(t=>this.pagesActions.unpublishPageSuccess(t)),Object(xn.a)(t=>(this.docLayoutService.toast.showToast({message:Sn.a.t("standard","Operation failed."),type:"error"}),Object(Tn.a)(this.pagesActions.pageSettingUpdateRejected(t.message)))))))}}return t.\u0275fac=function(e){return new(e||t)(M.nc(o.a),M.nc(y),M.nc(dt),M.nc(ht.a),M.nc(i.h),M.nc(r.d),M.nc(ut.a))},t.\u0275prov=M.Zb({token:t,factory:t.\u0275fac}),Object(Ce.b)([Object(o.b)()],t.prototype,"loadMenuPagesInitialize$",void 0),Object(Ce.b)([Object(o.b)()],t.prototype,"saveNewPageInitialize$",void 0),Object(Ce.b)([Object(o.b)()],t.prototype,"updatePageInitialize$",void 0),Object(Ce.b)([Object(o.b)()],t.prototype,"updatePageSuccess$",void 0),Object(Ce.b)([Object(o.b)()],t.prototype,"getSinglePageSettings$",void 0),Object(Ce.b)([Object(o.b)()],t.prototype,"deleteSinglePage$",void 0),Object(Ce.b)([Object(o.b)()],t.prototype,"publishPage$",void 0),Object(Ce.b)([Object(o.b)()],t.prototype,"unpublishPage$",void 0),t})();const kn=[$e];let An=(()=>{class t{static forChildren(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=M.bc({type:t}),t.\u0275inj=M.ac({providers:[y,dt,Dn],imports:[[s.a,d.a,c.b,l.a,r.f.forFeature("manage-page",E),o.d.forFeature([Dn]),i.l.forChild(Pn),a.uc]]}),t})()},y0sE:function(t,e,n){"use strict";n.d(e,"a",function(){return je});var i=n("mrSG"),s=n("fXoL"),a=n("3Pt+"),o=n("384c"),r=n("lfsz"),c=n("knll"),l=n("8lF4"),d=n("9b3o"),g=n("bUIS"),u=n("yfT8"),h=n("/76g"),p=n("rLbr"),m=n("qqVP"),_=n("vkgz"),b=n("wO+i"),f=n("lJxs"),w=n("pLZG"),C=n("IzEk"),O=n("79na"),v=n("gvJE");const M=Object.assign(Object.assign({},O.a),{replyButton:{[m.b.QUESTION]:v.a.t("app7020","Answer"),[m.b.COMMENT]:v.a.t("standard","Reply")},questionLabel:{[m.b.QUESTION]:v.a.t("standard","asked"),[m.b.COMMENT]:v.a.t("standard","commented")},replyLabel:{[m.b.QUESTION]:v.a.t("standard","answered"),[m.b.COMMENT]:v.a.t("app7020","replied")},showMore:{[m.b.QUESTION]:v.a.t("app7020","Show {count} more answers"),[m.b.COMMENT]:v.a.t("app7020","Show {count} more replies")},confirmReply:v.a.t("standard","Send"),confirmEdit:v.a.t("standard","Save"),cancelEdit:v.a.t("standard","Cancel"),moreActions:{edit:v.a.t("standard","Edit"),delete:v.a.t("standard","Delete"),followMessage:v.a.t("app7020","Follow this Thread"),unfollowMessage:v.a.t("standard","Unfollow this Thread")},deleteDialog:{[m.b.QUESTION]:{title:v.a.t("test","Delete question"),content:v.a.t("standard","If you delete this question, all answers to it will also disappear. Do you want to proceed?")},[m.b.COMMENT]:{title:v.a.t("standard","Delete Comment"),content:v.a.t("standard","If you delete this comment, all replies to it will also disappear. Do you want to proceed?")},answer:{title:v.a.t("test","Delete Answer"),content:v.a.t("standard","If you delete this answer, no one will be able to read it. Do you want to proceed?")},reply:{title:v.a.t("test","Delete Reply"),content:v.a.t("standard","If you delete this reply, no one will be able to read it. Do you want to proceed?")},cancel:v.a.t("standard","Cancel"),confirm:v.a.t("standard","Delete")},snackbars:{answer:{[m.b.COMMENT]:v.a.t("standard","Your reply has been added successfully"),[m.b.QUESTION]:v.a.t("standard","Your answer has been added successfully")},edit:{reply:v.a.t("standard","Your answer has been edited successfully"),[m.b.COMMENT]:v.a.t("standard","Your comment has been edited successfully"),[m.b.QUESTION]:v.a.t("standard","Your question has been edited successfully")},delete:{reply:v.a.t("standard","This answer has been deleted successfully"),[m.b.COMMENT]:v.a.t("standard","This comment has been deleted successfully"),[m.b.QUESTION]:v.a.t("standard","This question has been deleted successfully")},followNotification:v.a.t("standard","Notifications for this thread have been activated successfully"),unfollowNotification:v.a.t("standard","Notifications for this thread have been deactivated successfully")},sortBy:v.a.t("standard","SORT BY"),totalElements:{singular:v.a.t("standard","{itemsCount} item"),plural:v.a.t("standard","{itemsCount} items")},uiDataBrowser:Object.assign(Object.assign({},O.a.uiDataBrowser),{clearSearchFiltersLabel:v.a.t("standard","Clear search"),showMoreLabel:v.a.t("widgets","See other options"),searchPlaceholder:v.a.t("standard","Search..."),searchLabel:v.a.t("standard","Search"),backLabel:v.a.t("standard","_BACK")}),viewQALabel:v.a.t("app7020","View all Q&A"),loadMore:v.a.t("standard","Load More"),askTheExpert:v.a.t("standard","Ask the Expert"),relatedTo:v.a.t("standard","Related to")});var y=n("Y9qQ"),P=n("tyNb"),S=n("+sIT"),I=n("l7P3");let x=(()=>{class t{get ACTIONS_TYPE(){return`coreWidgets/questionAndAnswers-${this.widgetId}`}initializeActions(){this.search=Object(I.j)(`[${this.ACTIONS_TYPE}] search`),this.searchSuccess=Object(I.j)(`[${this.ACTIONS_TYPE}] search success`,Object(I.o)()),this.searchFailed=Object(I.j)(`[${this.ACTIONS_TYPE}] search failed`),this.updateFilters=Object(I.j)(`[${this.ACTIONS_TYPE}] update filters`,Object(I.o)()),this.resetFilters=Object(I.j)(`[${this.ACTIONS_TYPE}] reset filters`),this.updatePagination=Object(I.j)(`[${this.ACTIONS_TYPE}] update pagination`,Object(I.o)()),this.resetPagination=Object(I.j)(`[${this.ACTIONS_TYPE}] reset pagination`),this.updateSorting=Object(I.j)(`[${this.ACTIONS_TYPE}] update sorting`,Object(I.o)()),this.loadChannels=Object(I.j)(`[${this.ACTIONS_TYPE}] load channel filter options`),this.loadCohorts=Object(I.j)(`[${this.ACTIONS_TYPE}] load cohort filter options`,(t=[])=>({channels:t})),this.loadChannelsSuccess=Object(I.j)(`[${this.ACTIONS_TYPE}] load channel filter options success`,Object(I.o)()),this.loadCohortsSuccess=Object(I.j)(`[${this.ACTIONS_TYPE}] load cohort filter options success`,Object(I.o)()),this.loadReplies=Object(I.j)(`[${this.ACTIONS_TYPE}] load replies of answer`,Object(I.o)()),this.loadRepliesSuccess=Object(I.j)(`[${this.ACTIONS_TYPE}] load replies of answer success`,Object(I.o)()),this.loadAnswers=Object(I.j)(`[${this.ACTIONS_TYPE}] load answers of answer`,Object(I.o)()),this.loadAnswersSuccess=Object(I.j)(`[${this.ACTIONS_TYPE}] load answers of answer success`,Object(I.o)()),this.deleteQuestionSuccess=Object(I.j)(`[${this.ACTIONS_TYPE}] delete question success`,Object(I.o)()),this.afterDeleteQuestion=Object(I.j)(`[${this.ACTIONS_TYPE}] after delete initiate search of the same page`),this.afterDeleteQuestionSuccess=Object(I.j)(`[${this.ACTIONS_TYPE}] after delete initiate search of the same page success`,Object(I.o)()),this.afterDeleteAnswer=Object(I.j)(`[${this.ACTIONS_TYPE}] after answer delete initiate search of the same answer page`,Object(I.o)()),this.afterDeleteAnswerSuccess=Object(I.j)(`[${this.ACTIONS_TYPE}] after answer delete initiate search of the same answer page success`,Object(I.o)())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Zb({token:t,factory:t.\u0275fac}),t})();var E=n("lWmL");let T=(()=>{class t{constructor(t,e,n,i,s,a){this._backendService=t,this._router=e,this._docLayoutService=n,this._store=i,this._qnaActions=s,this._qnaService=a,this.DELETE_QUESTION_REMINDER_KEY="app7020_questions_deletion_warning_dismissed",this.DELETE_ANSWER_REMINDER_KEY="app7020_questions_answer_deletion_warning_dismissed",this.DELETE_COMMENT_REMINDER_KEY="app7020_comment_deletion_warning_dismissed",this.DELETE_REPLY_REMINDER_KEY="app7020_comment_reply_deletion_warning_dismissed",this.dictionary=M,this.deleteReminderOff={[this.DELETE_QUESTION_REMINDER_KEY]:!1,[this.DELETE_ANSWER_REMINDER_KEY]:!1,[this.DELETE_COMMENT_REMINDER_KEY]:!1,[this.DELETE_REPLY_REMINDER_KEY]:!1}}showAllQuestions(){this._router.navigate(["/share/list/coach"]).then()}rate(t,e){return this._qnaService[e](t)}follow(t){return this._qnaService.questionFollow(t).pipe(Object(_.a)(()=>{this._docLayoutService.toast.showToast({type:"success",message:this.dictionary.snackbars.followNotification})}))}unFollow(t){return this._qnaService.questionUnfollow(t).pipe(Object(_.a)(()=>{this._docLayoutService.toast.showToast({type:"success",message:this.dictionary.snackbars.unfollowNotification})}))}edit(t,e){return this._qnaService[t.isReply?"editAnswer":t.type===m.b.QUESTION?"editQuestion":"editComment"](t.id,e).pipe(Object(_.a)(()=>{this._docLayoutService.toast.showToast({type:"success",message:this.dictionary.snackbars.edit[t.isReply?"reply":t.type]})}))}reply(t,e){var n;const i=t.type===m.b.COMMENT?"commentReply":"questionAnswer",s=null!==(n=t.isReply?t.parentID:t.id)&&void 0!==n?n:0;return this._qnaService[i](s,e,t.isReply?t.id:void 0).pipe(Object(_.a)(()=>{this._docLayoutService.toast.showToast({type:"success",message:this.dictionary.snackbars.answer["questionAnswer"===i?m.b.QUESTION:m.b.COMMENT]})}))}delete(t){return new Promise(e=>{this._reminderDeleteQuestion(t.type,t.isReply).then(n=>{if(n&&"confirm"!==n.actionID)return void n.actionSuccess.next(!0);const i=t.isReply?"deleteAnswer":t.type===m.b.QUESTION?"deleteQuestion":"deleteComment",s=!n||!n.hasOwnProperty("confirmationCheckValue")||n.confirmationCheckValue;this._updatePreferences(t.type,t.isReply,s);const a=()=>{n&&n.actionSuccess.next(!0)};e(this._qnaService[i](t.id).pipe(Object(_.a)({next:()=>{var e;if(a(),this._docLayoutService.toast.showToast({type:"success",message:this.dictionary.snackbars.delete[t.isReply?"reply":t.type]}),this._store.dispatch(this._qnaActions.deleteQuestionSuccess({id:t.id,isAnswer:i.toLowerCase().indexOf("answer")>-1})),t.isReply||this._store.dispatch(this._qnaActions.afterDeleteQuestion()),t.isReply){const n=null!==(e=t.directParentId)&&void 0!==e?e:t.parentID;this._store.dispatch(this._qnaActions.afterDeleteAnswer({id:n,page:1}))}},error:t=>{a();const e=t&&t.message&&t.message[0]?t.message[0]:h.a.t("standard","Internal Server Error");this._docLayoutService.toast.showToast({message:e,type:"error"})}})))})})}loadMoreAnswers({id:t,page:e}){this._store.dispatch(this._qnaActions.loadAnswers({id:t,page:e}))}checkDeleteConfirmationModalSetting(){const t=new u.a("/manage/v1/user/:user_id/settings",p.a.GET);this._backendService.request(t.setPlaceholdersValue({user_id:r.c.getInstance().id}),t.verb,{page_size:!1}).pipe(Object(b.a)("data","items"),Object(f.a)(t=>t.filter(t=>[this.DELETE_ANSWER_REMINDER_KEY,this.DELETE_QUESTION_REMINDER_KEY,this.DELETE_COMMENT_REMINDER_KEY,this.DELETE_REPLY_REMINDER_KEY].indexOf(t.name)>-1)),Object(w.a)(t=>t.length>0)).subscribe(t=>{t.forEach(t=>{this.deleteReminderOff[t.name]=Boolean(Number(t.value))})})}_reminderDeleteQuestion(t,e=!1){return new Promise(n=>{let i=t;switch(t){case m.b.QUESTION:i=e?"answer":t;break;case m.b.COMMENT:i=e?"reply":t}t===m.b.QUESTION&&e&&this.deleteReminderOff[this.DELETE_ANSWER_REMINDER_KEY]||t===m.b.QUESTION&&!e&&this.deleteReminderOff[this.DELETE_QUESTION_REMINDER_KEY]||t===m.b.COMMENT&&e&&this.deleteReminderOff[this.DELETE_REPLY_REMINDER_KEY]||t===m.b.COMMENT&&!e&&this.deleteReminderOff[this.DELETE_COMMENT_REMINDER_KEY]?n(null):this._docLayoutService.dialog.showCommonDialog({title:this.dictionary.deleteDialog[i].title,content:this.dictionary.deleteDialog[i].content,showConfirmationCheck:!0,confirmationLabel:h.a.t("app7020","Don't show me again"),actions:[{id:"cancel",type:"neutral",label:this.dictionary.deleteDialog.cancel,slot:"end"},{id:"confirm",type:"negative",label:this.dictionary.deleteDialog.confirm,slot:"end"}]}).pipe(Object(C.a)(1)).subscribe(t=>n(t))})}_updatePreferenceForDeleteModalReminder(t){this.deleteReminderOff[t]=!0,this._backendService.updateMyPreferences({settings:[{name:t,value:"1"}]},r.c.getInstance().id).subscribe()}_updatePreferences(t,e,n){if(n)switch(!0){case t===m.b.QUESTION&&e&&!this.deleteReminderOff[this.DELETE_ANSWER_REMINDER_KEY]:this._updatePreferenceForDeleteModalReminder(this.DELETE_ANSWER_REMINDER_KEY);break;case t===m.b.QUESTION&&!e&&!this.deleteReminderOff[this.DELETE_QUESTION_REMINDER_KEY]:this._updatePreferenceForDeleteModalReminder(this.DELETE_QUESTION_REMINDER_KEY);break;case t===m.b.COMMENT&&e&&!this.deleteReminderOff[this.DELETE_REPLY_REMINDER_KEY]:this._updatePreferenceForDeleteModalReminder(this.DELETE_REPLY_REMINDER_KEY);break;case t===m.b.COMMENT&&!e&&!this.deleteReminderOff[this.DELETE_COMMENT_REMINDER_KEY]:this._updatePreferenceForDeleteModalReminder(this.DELETE_COMMENT_REMINDER_KEY)}}}return t.\u0275fac=function(e){return new(e||t)(s.nc(y.a),s.nc(P.h),s.nc(S.a),s.nc(I.d),s.nc(x),s.nc(E.a))},t.\u0275prov=s.Zb({token:t,factory:t.\u0275fac}),t})();var D=n("d+dA"),k=n("S2Qf"),A=n("nsn+"),L=n("r0xE"),j=n("YpZb");class N extends L.a{constructor(){super();const t=D.b.getInstance().isPluginActive("Share7020App");this.config=this.initConfig({name:"questionsandanswers-new",preview:"/public/images/core/questions-and-answers-widget-preview.jpg",heading:v.a.t("standard","Questions & Answers"),description:v.a.t("app7020","Shows sorted questions and answers"),conditions:{exists:t},params:[{title:"",type:"group",name:"titleGroup",subFields:[{name:"title",type:"textMultilang",label:v.a.t("standard","Title"),legend:v.a.t("dashboard","Leave blank to hide the title"),defaultValue:""}]},{title:v.a.t("admin","Options"),type:"group",name:"optionGroup",subFields:[{name:"showFiltersSelector",type:"checkbox",label:v.a.t("admin_webpages","Show filters selector"),description:v.a.t("admin_webpages","Allow users to filter Questions & Answers by type or status"),defaultValue:!0,conditions:{isEnabled:[{name:"showLoadMoreLink",value:!0}]}},{name:"showSearchBar",type:"checkbox",label:v.a.t("admin_webpages","Show search bar"),description:v.a.t("app7020","Allow users to search among Questions and Answers"),defaultValue:!0,conditions:{isEnabled:[{name:"showLoadMoreLink",value:!0}]}},{name:"showSortBy",type:"checkbox",label:v.a.t("admin_webpages","Show sort by"),description:v.a.t("admin_webpages","Allow users to sort by Questions & Answers"),defaultValue:!0,conditions:{isEnabled:[{name:"showLoadMoreLink",value:!0}]}},{name:"defaultSortBy",type:"dropdown",label:v.a.t("admin_webpages","Default sort by"),defaultValue:"desc",options:[{value:"desc",label:v.a.t("standard","Newest To Oldest")},{value:"asc",label:v.a.t("standard","Oldest To Newest")}]},{name:"maxDisplayable",type:"number",label:v.a.t("admin_webpages","Max displayable Q&A per page"),description:v.a.t("admin_webpages","Display up 10 items per page"),defaultValue:"5",validation:[a.x.required,A.a.min(1),A.a.max(10)]},{name:"showViewAllLink",type:"checkbox",label:v.a.t("dashboard",'Show "view all" link'),description:v.a.t("app7020","This link will bring the user to Q&A's page"),defaultValue:!0},{name:"showLoadMoreLink",type:"checkbox",label:v.a.t("standard",'Show "Load more" button'),description:v.a.t("app7020","This link will open more results in the same page"),defaultValue:!0}]},{title:v.a.t("standard","Filter by Channel"),type:"filteredAsyncLists",name:"selectedChannels",defaultValue:null,settings:{defaultOptionLabel:v.a.t("standard","All channels"),apiConfig:{endpoint:new u.a("/share/v1/admin/channels",p.a.GET),payload:{enabled:1,type:["custom"]}},mapFnc:t=>({label:t.name,value:t.id})}}]})}}class R{constructor(t){this.translateService=t.get(k.h)}get initQASortOptions(){return[{label:this.translateService.instant("Newest To Oldest",{category:"standard"}),value:"desc"},{label:this.translateService.instant("Oldest To Newest",{category:"standard"}),value:"asc"}]}get initQAShowFilter(){return{label:this.translateService.instant("Show",{category:"standard"}),key:"show",options:[{label:this.translateService.instant("New questions",{category:"app7020"}),value:"new"},{label:this.translateService.instant("New best answers",{category:"standard"}),value:"best"},{label:this.translateService.instant("Open questions",{category:"standard"}),value:"open"},{label:this.translateService.instant("My questions",{category:"app7020"}),value:"my_questions"},{label:this.translateService.instant("My answers",{category:"app7020"}),value:"my_answers"},{label:this.translateService.instant("Following",{category:"standard"}),value:"follow"}]}}get initQATypeFilter(){return{label:this.translateService.instant("Question type",{category:"standard"}),key:"type",options:[{label:this.translateService.instant("Direct questions",{category:"standard"}),value:"0"},{label:this.translateService.instant("Linked to an asset/course",{category:"standard"}),value:"1"}]}}get initQAQuestionTypeFilter(){return{label:this.translateService.instant("Type",{category:"standard"}),key:"type_question",defaultValue:"3",value:"3",options:[{label:this.translateService.instant("Question & Answers and Comments",{category:"mobile"}),value:"3"},{label:this.translateService.instant("Question & Answers Only",{category:"mobile"}),value:"1"},{label:this.translateService.instant("Comments Only",{category:"mobile"}),value:"2"}]}}get asyncChannelFilters(){return{label:this.translateService.instant("Channels",{category:"standard"}),endpoint:new j.a("/manage/v1/channels",p.a.GET,"name","id","search"),key:"channel_id",control:new a.e("")}}asyncCohortGroupsFilter(t={}){return{label:this.translateService.instant("Cohorts",{category:"app7020"}),endpoint:new j.a("/share/v1/cohort/groups",p.a.GET,"name","id","search_text",t),key:"cohort_groups",control:new a.e("")}}}var F=n("Ed9i"),U=n("7vd5"),z=n("aWaq"),q=n("3RMk");class B{constructor(t){this.SHOW_MORE_STEP=10,this.createdAt="",this.id=0,this.type=m.b.COMMENT,this.content="",this.upVotes=0,this.downVotes=0,this.alreadyVoted=!1,this.isMine=!1,this.isBestAnswer=!1,this.isFollowing=!1,this.owner={id:0,uuid:"",fullName:"",isExpert:!1,shortName:""},this.actions=[],this.replies=[],this.showReplyOption=!1,this.hasReplies=!1,this.showReplyBox=!1,this.showEditBox=!1,this.isReply=!1,this.hidden=!1,this.visibleReplies=3,this.hasMoreData=!1,this.totalCountReplies=0,this.repliesPage=1,this._createdAt=new z.a,this._setRequiredFields(t),t.hasOwnProperty("isReply")&&(this.isReply=t.isReply),t.hasOwnProperty("parentId")&&(this.parentID=t.parentId),t.hasOwnProperty("directParentId")&&(this.directParentId=t.directParentId),t.hasOwnProperty("mentions")&&(this.mentions=t.mentions),t.hasOwnProperty("sub_items")&&t.sub_items&&this.setReplies(t.sub_items),t.hasOwnProperty("subanswers")&&t.subanswers&&this.setReplies(t.subanswers),this.isReply||this._setRelatedItems(t),this.setActions()}get showMoreCount(){const t=this.totalCountReplies-this.replies.filter(t=>t.hidden).length-this.visibleReplies;return this.SHOW_MORE_STEP<t?this.SHOW_MORE_STEP:t}setActions(){this.actions=[];const t=M.moreActions,e={[m.b.COMMENT]:{value:"edit_comment",label:t.edit,color:"primary"},[m.b.QUESTION]:{value:"edit_question",label:t.edit,color:"primary"},answer:{value:"edit_answer",label:t.edit,color:"primary"}},n={[m.b.COMMENT]:{value:"delete_comment",label:t.delete,color:"error"},[m.b.QUESTION]:{value:"delete_question",label:t.delete,color:"error"},answer:{value:"delete_answer",label:t.delete,color:"error"}},i=this.isReply?"answer":this.type;this.type!==m.b.QUESTION||this.isMine||this.isReply||this.actions.push(this.isFollowing?{value:"unfollow_question",label:t.unfollowMessage,color:"primary"}:{value:"follow_question",label:t.followMessage,color:"primary"}),!this.isMine&&r.c.getInstance().isCurrentUserA(r.c.LEVEL_SUPERADMIN)&&this.actions.push(n[i]),this.isMine&&(this.actions.push(e[i]),this.actions.push(n[i]))}setReplies(t,{page:e,has_more_data:n,total_count:i}={}){var s,a,o;for(const r of t)this.replies.push(new B(Object.assign(Object.assign({},r),{isReply:!0,showReplyOption:this.showReplyOption&&!this.isReply&&this.type===m.b.QUESTION,parentId:this.id,directParentId:this.parentID})));this.replies=this.replies.filter((t,e,n)=>n.findIndex(e=>e.id===t.id)===e),this.hasMoreData=null!==(s=n)&&void 0!==s?s:this.hasMoreData,this.totalCountReplies=null!==(a=i)&&void 0!==a?a:this.replies.length,this.repliesPage=null!==(o=e)&&void 0!==o?o:this.repliesPage}setNewReply(t){this.replies.unshift(new B(Object.assign(Object.assign({},t),{isReply:!0,showReplyOption:this.showReplyOption&&!this.isReply&&this.type===m.b.QUESTION,parentId:this.id,directParentId:this.parentID}))),this.totalCountReplies++,this.hasMoreData&&this.replies.pop()}_setRequiredFields(t){var e,n,i,s;(null==t?void 0:t.id)&&(this.id=t.id),(null==t?void 0:t.type)&&(this.type=t.type),(null==t?void 0:t.title)&&(this.content=t.title),(null==t?void 0:t.owner)&&this._setOwnerAndOwnership(t.owner),(null==t?void 0:t.created_at)&&this._setCreatedAt(t.created_at),(null==t?void 0:t.showReplyOption)&&(this.showReplyOption=!0),this._setVotes(t),(null==t?void 0:t.metadata)&&t.metadata&&((null===(e=t.metadata)||void 0===e?void 0:e.total_items)&&(this.hasReplies=!0),(null===(n=t.metadata)||void 0===n?void 0:n.can_reply)&&(this.showReplyOption=t.metadata.can_reply),(null===(i=t.metadata)||void 0===i?void 0:i.created_at)&&this._setCreatedAt(t.metadata.created_at),(null===(s=t.metadata)||void 0===s?void 0:s.is_follow)&&(this.isFollowing=t.metadata.is_follow))}_setOwnerAndOwnership(t){if((null==t?void 0:t.uuid)&&(this.owner.uuid=t.uuid),(null==t?void 0:t.short_name)&&(this.owner.shortName=t.short_name),null==t?void 0:t.full_name){const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.full_name);this.owner.fullName=e?t.full_name.split("@").shift():t.full_name,this.owner.shortName=e?"":this.owner.shortName}(null==t?void 0:t.is_expert)&&(this.owner.isExpert=t.is_expert),(null==t?void 0:t.avatar)&&(this.owner.avatar=t.avatar),(null==t?void 0:t.id)&&(this.isMine=t.id===r.c.getInstance().id)}_setCreatedAt(t){this._createdAt=new z.a(t);const e=r.c.getInstance().timezone,n=Object(U.l)(r.c.getInstance().datetime_format,"short","short");this.createdAt=(new q.a).transform(this._createdAt,e,n)}_setVotes(t){const e=t.rating;e&&e.hasOwnProperty("likes")&&e.likes&&(this.upVotes=e.likes),e&&e.hasOwnProperty("dislikes")&&e.dislikes&&(this.downVotes=e.dislikes),t.hasOwnProperty("voted")&&"object"==typeof t.voted&&(this.votedModel={created:t.voted.created,type:t.voted.type}),t.hasOwnProperty("voted")&&"object"!=typeof t.voted&&(this.alreadyVoted=t.voted),this.isBestAnswer=Boolean(null==t?void 0:t.is_best)}_setRelatedItems(t){var e;const n=Number((null==t?void 0:t.related.channel_id)?null==t?void 0:t.related.channel_id:null==t?void 0:t.related.id);let i;switch(t.metadata.related_kind){case m.a.CHANNEL:i=`/learn/dashboard/channel/${n}`;break;case m.a.ASSET:i=`/share/asset/view/${n}`;break;default:i=t.related.url}this.relatedItem={id:n,title:null!==(e=t.related.name)&&void 0!==e?e:t.related.title,path:i}}}class V extends F.a{mapItemFromDto(t){return new B(t)}mapItemFromArrayDto(t){var e;return null!==(e=null==t?void 0:t.map(t=>this.mapItemFromDto(t)))&&void 0!==e?e:[]}mapItemToDto(t){return{}}mapSearchRequestToDto(t){var e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({page:(null!==(e=null==t?void 0:t.page)&&void 0!==e?e:0)+1,page_size:t.pageSize,sort_dir:t.sortDir,sort_attr:t.sortAttr},!r.c.getInstance().dcsMention&&{ignore_mentions:!0}),!!(null==t?void 0:t.type_question)&&{type_question:t.type_question}),!!(null==t?void 0:t.with_voted)&&{with_voted:t.with_voted}),!!(null==t?void 0:t.asset_id)&&{asset_id:t.asset_id}),!!(null==t?void 0:t.search)&&{search_text:t.search}),!!(null==t?void 0:t.channel_id)&&{channel_id:t.channel_id}),!!(null==t?void 0:t.cohort_groups)&&Array.isArray(null==t?void 0:t.cohort_groups)&&{cohort_groups:t.cohort_groups.map(t=>Number(t))}),!!(null==t?void 0:t.cohort_groups)&&!Array.isArray(null==t?void 0:t.cohort_groups)&&{cohort_groups:t.cohort_groups.split(",").map(t=>Number(t))}),!!(null==t?void 0:t.show)&&{show:t.show}),!!(null==t?void 0:t.type)&&{type:t.type})}}var G=n("9jGm"),W=n("EY2u"),H=n("LRne"),$=n("Kj3r"),Q=n("zp1y"),J=n("eIep"),Y=n("JIr8"),K=n("5+tZ"),X=n("bOdf");let Z=(()=>{class t{FEATURE_SELECTOR(){return Object(I.m)(this.featureSelector,t=>t[this.sliceName])}items(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>t.items)}pagination(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>t.pagination)}sorting(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>t.sorting)}loading(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>t.loading)}filters(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>t.filters)}noContent(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>{var e,n;return!(null===(e=Object.keys(t.filters))||void 0===e?void 0:e.length)&&!(null===(n=t.items)||void 0===n?void 0:n.length)&&!t.loading})}noResults(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>{var e,n;return!!(null===(e=Object.keys(t.filters))||void 0===e?void 0:e.length)&&!(null===(n=t.items)||void 0===n?void 0:n.length)&&!t.loading})}hasMoreData(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>t.hasMoreData)}channelFilters(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>t.filterOptions.channels)}cohortFilters(){return Object(I.m)(this.FEATURE_SELECTOR(),t=>t.filterOptions.cohorts)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Zb({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t{constructor(t,e,n,i,s,a,r){this._actions$=t,this._store=e,this._backendService=n,this._docLayoutService=i,this._qnaService=s,this._qnaActions=a,this._qnaSelectors=r,this._randomID=Object(o.m)(12),this._qnaMapper=new V,this._returnErrorHandler=()=>(this._docLayoutService.toast.showToast({type:"error",message:h.a.t("standard","Internal Server Error")}),W.a),console.log("QuestionAndAnswersEffects",this._randomID)}ngrxOnIdentifyEffects(){return this._randomID}initializeEffects(){this.search=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.search),Object($.a)(500),Object(Q.a)(...this._getSelectorsObservable()),Object(J.a)(([t,...e])=>{const n=this._getSelectorValues(e),i=this.searchBuildRequest(n),s=this._qnaMapper.mapSearchRequestToDto(i);return this._qnaService.questionsList(s).pipe(Object(J.a)(t=>{var e,i;return!(null===(i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.items)||void 0===i?void 0:i.length)&&n.pagination.pageIndex>0?Object(H.a)(this._qnaActions.updatePagination({pagination:Object.assign(Object.assign({},n.pagination),{pageIndex:n.pagination.pageIndex-1})})):Object(H.a)(this._qnaActions.searchSuccess({response:t}))}),Object(Y.a)(()=>Object(H.a)(this._qnaActions.searchFailed())))}))),this.afterDeleteSuccess=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.afterDeleteQuestion),Object($.a)(500),Object(Q.a)(...this._getSelectorsObservable()),Object(J.a)(([t,...e])=>{const n=this._getSelectorValues(e),i=this.searchBuildRequest(n),s=this._qnaMapper.mapSearchRequestToDto(i);return this._qnaService.questionsList(s).pipe(Object(J.a)(t=>{var e,i;return!(null===(i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.items)||void 0===i?void 0:i.length)&&n.pagination.pageIndex>0?Object(H.a)(this._qnaActions.updatePagination({pagination:Object.assign(Object.assign({},n.pagination),{pageIndex:n.pagination.pageIndex-1})})):Object(H.a)(this._qnaActions.afterDeleteQuestionSuccess({response:t}))}),Object(Y.a)(()=>Object(H.a)(this._qnaActions.searchFailed())))}))),this.updateFilters=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.updateFilters),Object(J.a)(()=>Object(H.a)(this._qnaActions.search())))),this.updatePagination=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.updatePagination),Object(J.a)(()=>Object(H.a)(this._qnaActions.search())))),this.updateSorting=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.updateSorting),Object(J.a)(()=>Object(H.a)(this._qnaActions.search())))),this.loadChannels=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.loadChannels),Object(J.a)(()=>this._qnaService.getChannelsList({page_size:1}).pipe(Object(J.a)(t=>Object(H.a)(this._qnaActions.loadChannelsSuccess({response:t}))),Object(Y.a)(()=>Object(H.a)(this._qnaActions.loadChannelsSuccess({response:[]}))))))),this.loadCohorts=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.loadCohorts),Object(J.a)(({channels:t})=>this._qnaService.getCohortList(Object.assign(Object.assign({},!!t&&{channels:t}),{page_size:1})).pipe(Object(J.a)(t=>Object(H.a)(this._qnaActions.loadCohortsSuccess({response:t}))),Object(Y.a)(()=>Object(H.a)(this._qnaActions.loadCohortsSuccess({response:[]}))))))),this.getCommentReplyIds=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.searchSuccess,this._qnaActions.afterDeleteQuestionSuccess),Object(Q.a)(this._store.pipe(Object(I.p)(this._qnaSelectors.items()))),Object(K.b)(([,t])=>{const e=[];return t.filter(t=>t.hasReplies&&t.type===m.b.COMMENT&&0===t.replies.length).forEach(t=>{e.push(this._qnaActions.loadReplies({id:t.id}))}),e}))),this.requestReplies=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.loadReplies),Object(K.b)(({id:t})=>this._qnaService.getReplies(t).pipe(Object(X.a)(e=>Object(H.a)(this._qnaActions.loadRepliesSuccess({[t]:e}))),Object(Y.a)(this._returnErrorHandler))))),this.getQuestionAnswersIds=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.searchSuccess,this._qnaActions.afterDeleteQuestionSuccess),Object(Q.a)(this._store.pipe(Object(I.p)(this._qnaSelectors.items()))),Object(K.b)(([,t])=>{const e=[];return t.filter(t=>t.hasReplies&&t.type===m.b.QUESTION&&0===t.replies.length).forEach(t=>{e.push(this._qnaActions.loadAnswers({id:t.id,page:1}))}),e}))),this.requestAnswers=Object(G.e)(()=>this._actions$.pipe(Object(G.f)(this._qnaActions.loadAnswers,this._qnaActions.afterDeleteAnswer),Object(Q.a)(this._store.pipe(Object(I.p)(this._qnaSelectors.items()))),Object(w.a)(([{id:t},e])=>{const n=e.find(e=>e.id===t);return!!n&&(!(!n.hasReplies||0!==n.replies.length)||n.hasMoreData)}),Object(K.b)(([{id:t,page:e},n])=>this._qnaService.getAnswers(t,e).pipe(Object(X.a)(e=>Object(H.a)(this._qnaActions.loadAnswersSuccess({[t]:e}))),Object(Y.a)(this._returnErrorHandler)))))}searchSelectors(){return[this._qnaSelectors.pagination,this._qnaSelectors.filters,this._qnaSelectors.sorting]}_getSelectorValues(t){const e={};return t.forEach((t,n)=>{const i=this.searchSelectors()[n].name;e[i]=t}),e}searchBuildRequest(t){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({page:t.pagination.pageIndex,pageSize:t.pagination.pageSize,sortAttr:t.sorting.columnName,sortDir:t.sorting.dir},!!t.filters.asset_id&&{asset_id:t.filters.asset_id}),!!t.filters.with_voted&&{with_voted:t.filters.with_voted}),!!t.filters.type_question&&{type_question:t.filters.type_question}),!!t.filters.search&&{search:t.filters.search}),!!t.filters.channel_id&&{channel_id:t.filters.channel_id}),!!t.filters.cohort_groups&&{cohort_groups:t.filters.cohort_groups}),!!t.filters.show&&{show:t.filters.show}),!!t.filters.type&&{type:t.filters.type}),!!t.filters.channel_id&&{channel_id:t.filters.channel_id})}_getSelectorsObservable(){return this.searchSelectors().map(t=>this._store.pipe(Object(I.p)(t.call(this._qnaSelectors))))}}return t.\u0275fac=function(e){return new(e||t)(s.nc(G.a),s.nc(I.d),s.nc(y.a),s.nc(S.a),s.nc(E.a),s.nc(x),s.nc(Z))},t.\u0275prov=s.Zb({token:t,factory:t.\u0275fac}),t})();var et=n("BPI6");let nt=(()=>{class t{constructor(t){this._actions=t,this.INITIAL_STATE={items:[],loading:!1,filters:{},pagination:{pageSize:20,length:0,pageIndex:0},sorting:{columnName:"id",dir:et.a.DESC},filterOptions:{cohorts:[],channels:[]},totalCount:0,hasMoreData:!1,selection:new Map,globalSelection:!1},this._qnaMapper=new V}actionStateChangers(){return[Object(I.n)(this._actions.search,this._actions.afterDeleteQuestion,t=>Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{loading:!0})})),Object(I.n)(this._actions.searchFailed,t=>Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{loading:!1})})),Object(I.n)(this._actions.updateFilters,(t,e)=>Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{filters:Object.assign({},e.filters),pagination:Object.assign(Object.assign({},t[this._sliceName].pagination),{pageIndex:0})})})),Object(I.n)(this._actions.resetFilters,t=>Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{filters:this.INITIAL_STATE.filters})})),Object(I.n)(this._actions.resetPagination,t=>Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{pagination:this.INITIAL_STATE.pagination})})),Object(I.n)(this._actions.updateSorting,(t,e)=>Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{sorting:e.sorting})})),Object(I.n)(this._actions.loadChannelsSuccess,(t,e)=>Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{filterOptions:Object.assign(Object.assign({},t[this._sliceName].filterOptions),{channels:e.response})})})),Object(I.n)(this._actions.loadCohortsSuccess,(t,e)=>Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{filterOptions:Object.assign(Object.assign({},t[this._sliceName].filterOptions),{cohorts:e.response})})})),Object(I.n)(this._actions.updatePagination,(t,e)=>{const n=e.pagination;return t[this._sliceName].pagination.pageSize!==n.pageSize&&(n.pageIndex=0),Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{pagination:Object.assign({},e.pagination)})})}),Object(I.n)(this._actions.searchSuccess,(t,e)=>{const n=0!==t[this._sliceName].pagination.pageIndex?t[this._sliceName].items.concat(this._qnaMapper.mapItemFromArrayDto(e.response.data.items)):this._qnaMapper.mapItemFromArrayDto(e.response.data.items),i={pageIndex:e.response.data.current_page-1,length:e.response.data.total_count,pageSize:e.response.data.current_page_size};return Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),{items:n,loading:!1,pagination:i,totalCount:e.response.data.total_count,hasMoreData:e.response.data.has_more_data})})}),Object(I.n)(this._actions.loadRepliesSuccess,this._actions.loadAnswersSuccess,this._actions.afterDeleteAnswerSuccess,(t,e)=>{const n=this._setEntityReplies(Object.assign({},t[this._sliceName]),e);return Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),n)})}),Object(I.n)(this._actions.deleteQuestionSuccess,(t,e)=>{const n=this._filterOutDeletedEntities(Object.assign({},t[this._sliceName]),e);return Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign({},t[this._sliceName]),n)})}),Object(I.n)(this._actions.afterDeleteQuestionSuccess,(t,e)=>{const n=Object.assign({},t[this._sliceName]),i=n.items.concat(this._qnaMapper.mapItemFromArrayDto(e.response.data.items));return n.items=i.filter((t,e,n)=>n.findIndex(e=>e.id===t.id)===e),Object.assign(Object.assign({},t),{[this._sliceName]:Object.assign(Object.assign(Object.assign({},t[this._sliceName]),n),{loading:!1})})})]}reducerFactory(t){return this._sliceName=t,Object(I.l)({[t]:this.INITIAL_STATE},...this.actionStateChangers())}_setEntityReplies(t,e){for(const n of Object.keys(e)){if(isNaN(Number(n)))continue;const i=t.items.findIndex(t=>t.id===Number(n));-1!==i&&t.items[i].setReplies(e[n].data.items,{page:e[n].data.current_page,has_more_data:e[n].data.has_more_data,total_count:e[n].data.total_count})}return t}_filterOutDeletedEntities(t,{isAnswer:e,id:n}){let i=[...t.items];if(!e){const e=i.length;return i=i.filter(t=>t.id!==n),e!==i.length&&t.pagination.length--,Object.assign(Object.assign({},t),{items:i})}const s=t=>{var e,i;if(!t.hasOwnProperty("replies"))return t;const a=t.replies.length;return t.replies=null===(e=null==t?void 0:t.replies)||void 0===e?void 0:e.filter(t=>t.id!==n),a!==t.replies.length&&(t.totalCountReplies--,t.hasReplies=0!==t.totalCountReplies),null===(i=t.replies)||void 0===i||i.map(s),t};return i=i.map(s),Object.assign(Object.assign({},t),{items:i})}}return t.\u0275fac=function(e){return new(e||t)(s.nc(x))},t.\u0275prov=s.Zb({token:t,factory:t.\u0275fac}),t})();var it=n("XNiG"),st=n("1G5W"),at=n("Xt1e"),ot=n("itXk"),rt=n("SxV6");let ct=(()=>{class t{constructor(t,e,n,i,s,a){this._injector=t,this._docLayoutService=e,this._store=n,this._qnaActions=i,this._qnaSelectors=s,this._actions=a,this.dictionary=M,this.refreshView$=new it.a,this.sortingOptions=[],this.blankSlates={noContent:{illustrationName:"take-a-break",title:this.dictionary.blankSlates.noContent.title,description:this.dictionary.blankSlates.noContent.description},noResults:{illustrationName:"no-result-found",title:this.dictionary.blankSlates.noResults.title,description:this.dictionary.blankSlates.noResults.description}}}init(t,e){this._ngUnsubscribe=new it.a,this.widgetSettings=e,this._subscribeToViewChanges(),this._initData()}destroy(){this._ngUnsubscribe.next(),this._ngUnsubscribe.complete(),this.refreshView$.complete(),this._resetFiltersDefaults(),this._resetPagination()}onSearch(t){const e=Object.assign(Object.assign({},this._filters),{search:t});this._manageFilters(e)}onSortingChangedDataBrowser(t){this._resetPagination(),this.onSortingChanged({columnName:"id",dir:t})}onPageChanged(t){this._managePagination(t)}onFiltersChanged(t){var e,n;0===Object.keys(t).length&&(null===(e=this.channelListFilter)||void 0===e||e.control.reset(""),null===(n=this.cohortListFilter)||void 0===n||n.control.reset("")),this._manageFilters(t)}onFiltersChangeCustom(t,e,n){this._manageFilters(Object.assign(Object.assign({},this._filters),t));const i=()=>{var t,n;return null!==(n=null===(t=this._filters[e])||void 0===t?void 0:t.length)&&void 0!==n?n:0};n&&n.getActiveOptionsCount.toString()!==i.toString()&&(n.getActiveOptionsCount=i.bind(this))}onSortingChanged(t){this._manageSorting(t)}_subscribeToViewChanges(){this.refreshView$=new it.a,this._injector.get(G.a).pipe(Object(G.f)(this._qnaActions.loadRepliesSuccess,this._qnaActions.loadAnswersSuccess)).subscribe(()=>{this.refreshView$.next()}),this._actions.pipe(Object(G.f)(at.b)).subscribe(()=>{this.onPageChanged({length:0,pageIndex:0,pageSize:Number(this.widgetSettings.maxDisplayable)})})}_initData(){this._beforeInitData(),Object(ot.a)([this.pagination$]).pipe(Object(rt.a)(),Object(st.a)(this._ngUnsubscribe)).subscribe(([])=>{this._store.dispatch(this._qnaActions.search())})}_beforeInitData(){this._initSliceObservables(),this._initializeAdditionalDispatchers(),this._initializeWidgetFilters()}_initSliceObservables(){this.loading$=this._store.pipe(Object(I.p)(this._qnaSelectors.loading())),this.content$=this._store.pipe(Object(I.p)(this._qnaSelectors.items())),this.pagination$=this._store.pipe(Object(I.p)(this._qnaSelectors.pagination()),Object(_.a)(t=>this._pagination=t)),this.filters$=this._store.pipe(Object(I.p)(this._qnaSelectors.filters()),Object(_.a)(t=>this._filters=t)),this.filters$.pipe(Object(st.a)(this._ngUnsubscribe)).subscribe(),this.sorting$=this._store.pipe(Object(I.p)(this._qnaSelectors.sorting())),this.noContent$=this._store.pipe(Object(I.p)(this._qnaSelectors.noContent())),this.noResults$=this._store.pipe(Object(I.p)(this._qnaSelectors.noResults())),this.sortingValue$=this.sorting$.pipe(Object(f.a)(t=>t.dir)),this.sortingLabel$=this.sorting$.pipe(Object(f.a)(t=>{var e,n;return null!==(n=null===(e=this.sortingOptions.find(e=>e.value===t.dir))||void 0===e?void 0:e.label)&&void 0!==n?n:""})),this.hasMoreData$=this._store.pipe(Object(I.p)(this._qnaSelectors.hasMoreData())),this.channelFilters$=this._store.pipe(Object(I.p)(this._qnaSelectors.channelFilters())),this.cohortFilters$=this._store.pipe(Object(I.p)(this._qnaSelectors.cohortFilters()))}_initializeAdditionalDispatchers(){this._store.dispatch(this._qnaActions.updatePagination({pagination:{pageIndex:0,length:0,pageSize:Number(this.widgetSettings.maxDisplayable)}})),this.onSortingChanged({columnName:"id",dir:this.widgetSettings.defaultSortBy}),!this.widgetSettings.showFiltersSelector||this.widgetSettings.selectedChannels||this.widgetSettings.assetId||this._store.dispatch(this._qnaActions.loadChannels()),this.widgetSettings.selectedChannels&&!this.widgetSettings.assetId&&(this._defaultFilters={channel_id:Number(this.widgetSettings.selectedChannels)},this._store.dispatch(this._qnaActions.updateFilters({filters:this._defaultFilters}))),this.widgetSettings.assetId&&(this._defaultFilters={asset_id:Number(this.widgetSettings.assetId),type_question:3,with_voted:!0},this._store.dispatch(this._qnaActions.updateFilters({filters:this._defaultFilters})));const t=this._injector.get(k.g);this.widgetSettings.showFiltersSelector&&t.isOn(k.f.TOGGLE_COHORT)&&(r.c.getInstance().isCurrentUserA(r.c.LEVEL_SUPERADMIN)||r.c.getInstance().isExpert())&&this._store.dispatch(this._qnaActions.loadCohorts(this.widgetSettings.cohortChannelsVisibility))}_initializeWidgetFilters(){this._injector.get(k.h).whenReady().pipe(Object(rt.a)(t=>t)).subscribe(()=>{const t=new R(this._injector);this.widgetSettings.showSortBy&&(this.sortingOptions=t.initQASortOptions),this.widgetSettings.showFiltersSelector&&!this.widgetSettings.showQuestionTypeFilter&&(this.showFilter=t.initQAShowFilter,this.typeFilter=t.initQATypeFilter),this.widgetSettings.showQuestionTypeFilter&&(this.questionTypeFilter=t.initQAQuestionTypeFilter),this.channelFilters$.pipe(Object(w.a)(t=>t.length>0),Object(st.a)(this._ngUnsubscribe)).subscribe(t=>this._addChannelsFilters(t)),this.cohortFilters$.pipe(Object(w.a)(t=>t.length>0),Object(st.a)(this._ngUnsubscribe)).subscribe(t=>this._addCohortFilters(t))})}_manageFilters(t){this._store.dispatch(this._qnaActions.updateFilters({filters:Object.assign(Object.assign({},this._defaultFilters),t)}))}_addChannelsFilters(t){const e=new R(this._injector);this.channelListFilter=e.asyncChannelFilters}_addCohortFilters(t){var e;const n=new R(this._injector);this.cohortListFilter=n.asyncCohortGroupsFilter({channels:null!==(e=this.widgetSettings.cohortChannelsVisibility)&&void 0!==e?e:[]})}_managePagination(t){this._store.dispatch(this._qnaActions.updatePagination({pagination:t}))}_manageSorting(t){this._store.dispatch(this._qnaActions.updateSorting({sorting:t}))}_resetFiltersDefaults(){this._store.dispatch(this._qnaActions.resetFilters())}_resetPagination(){this._store.dispatch(this._qnaActions.resetPagination())}dispatchDeleteItem(t){this._store.dispatch(Object(at.a)(t))}}return t.\u0275fac=function(e){return new(e||t)(s.nc(s.v),s.nc(S.a),s.nc(I.d),s.nc(x),s.nc(Z),s.nc(G.a))},t.\u0275prov=s.Zb({token:t,factory:t.\u0275fac}),t})();var lt=n("k+4P"),dt=n("ofXK"),gt=n("u9ID"),ut=n("nUpK"),ht=n("Y/hz"),pt=n("rnoZ"),mt=n("LHv7");function _t(t,e){if(1&t&&s.ec(0,"widget-title",7),2&t){const t=s.vc();s.Dc("widgetTitle",t.widgetTitle)}}const bt=function(){return[]};function ft(t,e){if(1&t&&(s.ec(0,"ui-data-browser-filter-single-selection",24),s.wc(1,"async")),2&t){const t=s.vc(3);let e=null;s.Dc("label",t.datasource.showFilter.label)("options",t.datasource.showFilter.options||s.Hc(6,bt))("key",t.datasource.showFilter.key)("value",(null==(e=s.xc(1,4,t.datasource.filters$))?null:e.show)||"")}}function wt(t,e){if(1&t&&s.ec(0,"ui-data-browser-filter-multiple-selection",25),2&t){const t=s.vc(3);s.Dc("label",t.datasource.typeFilter.label)("options",t.datasource.typeFilter.options||s.Hc(3,bt))("key",null==t.datasource.typeFilter?null:t.datasource.typeFilter.key)}}function Ct(t,e){if(1&t&&s.ec(0,"ui-data-browser-filter-single-selection",26),2&t){const t=s.vc(3);s.Dc("label",t.datasource.questionTypeFilter.label)("options",t.datasource.questionTypeFilter.options)("value",t.datasource.questionTypeFilter.value)("defaultValue",t.datasource.questionTypeFilter.defaultValue)("key",t.datasource.questionTypeFilter.key)}}function Ot(t,e){if(1&t){const t=s.kc();s.jc(0,"ui-data-browser-filter",27),s.wc(1,"async"),s.jc(2,"doc-db-custom-filter",28),s.rc("filterChange",function(e){s.Uc(t);const n=s.vc(3);return n.datasource.onFiltersChangeCustom(e,n.datasource.channelListFilter.key)}),s.ic(),s.ic()}if(2&t){const t=s.vc(3);let e=null;s.Dc("value",(null==(e=s.xc(1,8,t.datasource.filters$))?null:e.channel_id)||"")("defaultValue","")("key",t.datasource.channelListFilter.key)("label",t.datasource.channelListFilter.label),s.Mb(2),s.Dc("endpoint",t.datasource.channelListFilter.endpoint)("type","single")("key",t.datasource.channelListFilter.key)("inputFormControl",t.datasource.channelListFilter.control)}}function vt(t,e){if(1&t){const t=s.kc();s.jc(0,"ui-data-browser-filter",27,29),s.wc(2,"async"),s.jc(3,"doc-db-custom-filter",28),s.rc("filterChange",function(e){s.Uc(t);const n=s.Rc(1),i=s.vc(3);return i.datasource.onFiltersChangeCustom(e,i.datasource.cohortListFilter.key,n)}),s.ic(),s.ic()}if(2&t){const t=s.vc(3);let e=null;s.Dc("value",(null==(e=s.xc(2,8,t.datasource.filters$))?null:e.cohort_groups)||"")("defaultValue","")("key",t.datasource.cohortListFilter.key)("label",t.datasource.cohortListFilter.label),s.Mb(3),s.Dc("endpoint",t.datasource.cohortListFilter.endpoint)("type","multiple")("key",t.datasource.cohortListFilter.key)("inputFormControl",t.datasource.cohortListFilter.control)}}function Mt(t,e){if(1&t){const t=s.kc();s.jc(0,"dcb-ui-data-browser-panel-filters",19),s.rc("filtersChange",function(e){return s.Uc(t),s.vc(2).datasource.onFiltersChanged(e)}),s.wc(1,"t"),s.wc(2,"t"),s.wc(3,"t"),s.wc(4,"t"),s.wc(5,"t"),s.dd(6,ft,2,7,"ui-data-browser-filter-single-selection",20),s.dd(7,wt,1,4,"ui-data-browser-filter-multiple-selection",21),s.dd(8,Ct,1,5,"ui-data-browser-filter-single-selection",22),s.dd(9,Ot,3,10,"ui-data-browser-filter",23),s.dd(10,vt,4,10,"ui-data-browser-filter",23),s.ic()}if(2&t){const t=s.vc(2);s.Dc("fullHeight",t.size>8)("clearFiltersLabel",s.xc(1,11,t.datasource.dictionary.uiDataBrowser.clearFiltersLabel))("closeFiltersLabel",s.xc(2,13,t.datasource.dictionary.uiDataBrowser.closeFiltersLabel))("activeFiltersCountLabelSingular",s.xc(3,15,t.datasource.dictionary.uiDataBrowser.activeFiltersCountLabelSingular))("activeFiltersCountLabelPlural",s.xc(4,17,t.datasource.dictionary.uiDataBrowser.activeFiltersCountLabelPlural))("filtersLabel",s.xc(5,19,t.datasource.dictionary.uiDataBrowser.filtersLabel)),s.Mb(6),s.Dc("ngIf",t.datasource.showFilter),s.Mb(1),s.Dc("ngIf",t.datasource.typeFilter),s.Mb(1),s.Dc("ngIf",t.datasource.questionTypeFilter),s.Mb(1),s.Dc("ngIf",t.datasource.channelListFilter),s.Mb(1),s.Dc("ngIf",t.datasource.cohortListFilter)}}function yt(t,e){if(1&t){const t=s.kc();s.jc(0,"ui-data-browser-control-search",30),s.rc("changeSearchText",function(e){return s.Uc(t),s.vc(2).datasource.onSearch(e)})("triggerSearch",function(e){return s.Uc(t),s.vc(2).datasource.onSearch(e)}),s.wc(1,"t"),s.wc(2,"t"),s.wc(3,"t"),s.wc(4,"t"),s.ic()}if(2&t){const t=s.vc(2);s.Dc("clearInputLabel",s.xc(1,4,t.datasource.dictionary.uiDataBrowser.clearSearchFiltersLabel))("searchLabel",s.xc(2,6,t.datasource.dictionary.uiDataBrowser.search))("searchPlaceholder",s.xc(3,8,t.datasource.dictionary.uiDataBrowser.searchPlaceholder))("backLabel",s.xc(4,10,t.datasource.dictionary.uiDataBrowser.backLabel))}}function Pt(t,e){1&t&&s.fc(0)}const St=function(t){return{totalCount:t}};function It(t,e){if(1&t&&(s.jc(0,"ui-data-browser-control"),s.jc(1,"div",31),s.dd(2,Pt,1,0,"ng-container",32),s.ic(),s.ic()),2&t){const t=e.ngIf;s.vc(2);const n=s.Rc(6);s.Mb(2),s.Dc("ngTemplateOutlet",n)("ngTemplateOutletContext",s.Ic(2,St,t))}}const xt=function(t){return{activeSortingOption:t}};function Et(t,e){if(1&t){const t=s.kc();s.jc(0,"ui-data-browser-control-dropdown",33),s.rc("selectOption",function(e){return s.Uc(t),s.vc(2).datasource.onSortingChangedDataBrowser(e)}),s.wc(1,"async"),s.wc(2,"t"),s.wc(3,"t"),s.wc(4,"async"),s.ic()}if(2&t){const t=s.vc(2);s.Dc("defaultValue",s.xc(1,4,t.datasource.sortingValue$))("options",t.datasource.sortingOptions)("triggerText",s.xc(2,6,t.datasource.dictionary.sortBy))("ariaLabel",s.yc(3,8,"Sort by: {activeSortingOption}",s.Ic(13,xt,s.xc(4,11,t.datasource.sortingLabel$))))}}function Tt(t,e){1&t&&s.fc(0)}function Dt(t,e){if(1&t&&(s.jc(0,"div",34),s.dd(1,Tt,1,0,"ng-container",32),s.ic()),2&t){const t=e.ngIf;s.vc(2);const n=s.Rc(6);s.Mb(1),s.Dc("ngTemplateOutlet",n)("ngTemplateOutletContext",s.Ic(2,St,t))}}const kt=function(t){return[t]};function At(t,e){if(1&t&&(s.jc(0,"div",39),s.jc(1,"span",40),s.fd(2),s.wc(3,"t"),s.ic(),s.jc(4,"a",41),s.fd(5),s.ic(),s.ic()),2&t){const t=s.vc(2).$implicit,e=s.vc(3);s.Mb(2),s.hd("",s.xc(3,3,e.datasource.dictionary.relatedTo)," :"),s.Mb(2),s.Dc("routerLink",s.Ic(5,kt,t.relatedItem.path)),s.Mb(1),s.gd(null==t||null==t.relatedItem?null:t.relatedItem.title)}}function Lt(t,e){1&t&&s.fc(0)}const jt=function(t){return{question:t}};function Nt(t,e){if(1&t&&(s.hc(0),s.dd(1,Lt,1,0,"ng-container",32),s.gc()),2&t){const t=s.vc(2).$implicit;s.vc(3);const e=s.Rc(8);s.Mb(1),s.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.Ic(2,jt,t))}}function Rt(t,e){1&t&&s.fc(0)}const Ft=function(t,e){return{question:t,isEdit:e}};function Ut(t,e){if(1&t&&(s.hc(0),s.dd(1,Rt,1,0,"ng-container",32),s.gc()),2&t){const t=s.vc(2).$implicit;s.vc(3);const e=s.Rc(10);s.Mb(1),s.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.Jc(2,Ft,t,t.showEditBox))}}function zt(t,e){1&t&&(s.jc(0,"dcb-ui-thread-leaf"),s.jc(1,"div",42),s.ec(2,"ui-spinner",43),s.ic(),s.ic())}function qt(t,e){1&t&&s.fc(0)}function Bt(t,e){if(1&t&&(s.hc(0),s.dd(1,qt,1,0,"ng-container",32),s.gc()),2&t){const t=s.vc(3).$implicit;s.vc(6);const e=s.Rc(8);s.Mb(1),s.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.Ic(2,jt,t))}}function Vt(t,e){1&t&&s.fc(0)}function Gt(t,e){if(1&t&&(s.hc(0),s.dd(1,Vt,1,0,"ng-container",32),s.gc()),2&t){const t=s.vc(3).$implicit;s.vc(6);const e=s.Rc(10);s.Mb(1),s.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.Jc(2,Ft,t,t.showEditBox))}}function Wt(t,e){1&t&&s.fc(0)}function Ht(t,e){if(1&t&&(s.hc(0),s.dd(1,Wt,1,0,"ng-container",32),s.gc()),2&t){const t=s.vc(2).$implicit;s.vc(9);const e=s.Rc(8);s.Mb(1),s.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.Ic(2,jt,t))}}function $t(t,e){1&t&&s.fc(0)}function Qt(t,e){if(1&t&&(s.hc(0),s.dd(1,$t,1,0,"ng-container",32),s.gc()),2&t){const t=s.vc(2).$implicit;s.vc(9);const e=s.Rc(10);s.Mb(1),s.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.Jc(2,Ft,t,t.showEditBox))}}function Jt(t,e){if(1&t&&(s.hc(0),s.jc(1,"dcb-ui-thread-leaf"),s.dd(2,Ht,2,4,"ng-container",12),s.dd(3,Qt,2,5,"ng-container",12),s.ic(),s.gc()),2&t){const t=s.vc().$implicit;s.Mb(2),s.Dc("ngIf",!t.showEditBox),s.Mb(1),s.Dc("ngIf",t.showReplyBox||t.showEditBox)}}function Yt(t,e){if(1&t&&(s.hc(0),s.dd(1,Jt,4,2,"ng-container",12),s.gc()),2&t){const t=e.$implicit,n=e.index,i=s.vc(3).$implicit;s.Mb(1),s.Dc("ngIf",!t.hidden&&i.visibleReplies>=n+1)}}const Kt=function(t){return{count:t}};function Xt(t,e){if(1&t){const t=s.kc();s.jc(0,"dcb-ui-thread-leaf"),s.jc(1,"ui-button-link",45),s.rc("trigger",function(){s.Uc(t);const e=s.vc(3).$implicit;return s.vc(6).showMoreReplies(e)}),s.fd(2),s.wc(3,"t"),s.ic(),s.ic()}if(2&t){const t=s.vc(3).$implicit,e=s.vc(3).$implicit,n=s.vc(3);s.Mb(2),s.hd(" ",s.yc(3,1,n.datasource.dictionary.showMore[e.type],s.Ic(4,Kt,t.showMoreCount))," ")}}function Zt(t,e){if(1&t&&(s.jc(0,"dcb-ui-thread-leaf"),s.jc(1,"dcb-ui-thread"),s.jc(2,"dcb-ui-thread-root"),s.dd(3,Bt,2,4,"ng-container",12),s.dd(4,Gt,2,5,"ng-container",12),s.ic(),s.dd(5,Yt,2,1,"ng-container",44),s.dd(6,Xt,4,6,"dcb-ui-thread-leaf",12),s.ic(),s.ic()),2&t){const t=s.vc(2).$implicit,e=s.vc(6);s.Mb(3),s.Dc("ngIf",!t.showEditBox),s.Mb(1),s.Dc("ngIf",t.showReplyBox||t.showEditBox),s.Mb(1),s.Dc("ngForOf",t.replies)("ngForTrackBy",e.trackByFn),s.Mb(1),s.Dc("ngIf",t.showMoreCount>0)}}function te(t,e){1&t&&s.fc(0)}function ee(t,e){if(1&t&&(s.hc(0),s.dd(1,te,1,0,"ng-container",32),s.gc()),2&t){const t=s.vc(3).$implicit;s.vc(6);const e=s.Rc(8);s.Mb(1),s.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.Ic(2,jt,t))}}function ne(t,e){1&t&&s.fc(0)}function ie(t,e){if(1&t&&(s.hc(0),s.dd(1,ne,1,0,"ng-container",32),s.gc()),2&t){const t=s.vc(3).$implicit;s.vc(6);const e=s.Rc(10);s.Mb(1),s.Dc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.Jc(2,Ft,t,t.showEditBox))}}function se(t,e){if(1&t&&(s.jc(0,"dcb-ui-thread-leaf"),s.dd(1,ee,2,4,"ng-container",12),s.dd(2,ie,2,5,"ng-container",12),s.ic()),2&t){const t=s.vc(2).$implicit;s.Mb(1),s.Dc("ngIf",!t.showEditBox),s.Mb(1),s.Dc("ngIf",t.showReplyBox||t.showEditBox)}}function ae(t,e){if(1&t&&(s.hc(0),s.dd(1,Zt,7,5,"dcb-ui-thread-leaf",12),s.dd(2,se,3,2,"dcb-ui-thread-leaf",12),s.gc()),2&t){const t=s.vc().$implicit;s.Mb(1),s.Dc("ngIf",t.replies.length>0),s.Mb(1),s.Dc("ngIf",0===t.replies.length)}}function oe(t,e){if(1&t&&(s.hc(0),s.dd(1,ae,3,2,"ng-container",12),s.gc()),2&t){const t=e.$implicit,n=e.index,i=s.vc(3).$implicit;s.Mb(1),s.Dc("ngIf",!t.hidden&&i.visibleReplies>=n+1)}}function re(t,e){if(1&t){const t=s.kc();s.jc(0,"dcb-ui-thread-leaf"),s.jc(1,"ui-button-link",45),s.rc("trigger",function(){s.Uc(t);const e=s.vc(3).$implicit;return s.vc(3).showMoreReplies(e)}),s.fd(2),s.wc(3,"t"),s.ic(),s.ic()}if(2&t){const t=s.vc(3).$implicit,e=s.vc(3);s.Mb(2),s.hd(" ",s.yc(3,1,e.datasource.dictionary.showMore[t.type],s.Ic(4,Kt,t.showMoreCount))," ")}}function ce(t,e){if(1&t&&(s.hc(0),s.dd(1,oe,2,1,"ng-container",44),s.dd(2,re,4,6,"dcb-ui-thread-leaf",12),s.gc()),2&t){const t=s.vc(2).$implicit,e=s.vc(3);s.Mb(1),s.Dc("ngForOf",t.replies)("ngForTrackBy",e.trackByFn),s.Mb(1),s.Dc("ngIf",t.visibleReplies<t.totalCountReplies)}}function le(t,e){if(1&t&&(s.jc(0,"dcb-ui-thread"),s.jc(1,"dcb-ui-thread-root"),s.dd(2,At,6,7,"div",38),s.dd(3,Nt,2,4,"ng-container",12),s.dd(4,Ut,2,5,"ng-container",12),s.ic(),s.dd(5,zt,3,0,"dcb-ui-thread-leaf",12),s.dd(6,ce,3,3,"ng-container",12),s.ic()),2&t){const t=s.vc().$implicit,e=s.vc(3);s.Mb(2),s.Dc("ngIf",!e.data.settings.isInlineView&&(null==t||null==t.relatedItem?null:t.relatedItem.title)),s.Mb(1),s.Dc("ngIf",!t.showEditBox),s.Mb(1),s.Dc("ngIf",t.showReplyBox||t.showEditBox),s.Mb(1),s.Dc("ngIf",(null==t?null:t.hasReplies)&&0===(null==t||null==t.replies?null:t.replies.length)),s.Mb(1),s.Dc("ngIf",(null==t||null==t.replies?null:t.replies.length)>0)}}function de(t,e){if(1&t&&(s.jc(0,"div",37),s.dd(1,le,7,5,"dcb-ui-thread",12),s.ic()),2&t){const t=e.$implicit;s.Mb(1),s.Dc("ngIf",!t.hidden)}}const ge=function(t,e,n){return{"has-header":t,"has-content":e,"inline-view":n}};function ue(t,e){if(1&t&&(s.jc(0,"div",35),s.wc(1,"async"),s.dd(2,de,2,1,"div",36),s.wc(3,"async"),s.ic()),2&t){const t=s.vc(2);let e=null;s.Dc("ngClass",s.Kc(7,ge,t.isHeaderVisible,null==(e=s.xc(1,3,t.datasource.content$))?null:e.length,t.data.settings.isInlineView)),s.Mb(2),s.Dc("ngForOf",s.xc(3,5,t.datasource.content$))("ngForTrackBy",t.trackByFn)}}function he(t,e){if(1&t&&(s.ec(0,"ui-blank-slate",46),s.wc(1,"t"),s.wc(2,"t")),2&t){const t=s.vc(2);s.Dc("title",s.xc(1,3,t.datasource.blankSlates.noResults.title))("description",s.xc(2,5,t.datasource.blankSlates.noResults.description))("illustrationName",t.datasource.blankSlates.noResults.illustrationName)}}function pe(t,e){1&t&&(s.jc(0,"div",47),s.ec(1,"ui-spinner",48),s.ic()),2&t&&(s.Mb(1),s.Dc("size","md"))}function me(t,e){if(1&t){const t=s.kc();s.jc(0,"ui-button-text",53),s.rc("trigger",function(){return s.Uc(t),s.vc(3).askTheExpert("open")}),s.wc(1,"t"),s.wc(2,"t"),s.ic()}if(2&t){const t=s.vc(3);s.Dc("label",s.xc(1,5,t.datasource.dictionary.askTheExpert))("ariaLabel",s.xc(2,7,t.datasource.dictionary.askTheExpert))("iconName","asktheexpert")("color","neutral")("iconColor","neutral")}}function _e(t,e){if(1&t){const t=s.kc();s.jc(0,"ui-button-text",54),s.rc("trigger",function(){return s.Uc(t),s.vc(3).onLoadMore()}),s.wc(1,"t"),s.wc(2,"t"),s.ic()}if(2&t){const t=s.vc(3);s.Dc("color","neutral")("iconColor","neutral")("label",s.xc(1,4,t.datasource.dictionary.loadMore))("ariaLabel",s.xc(2,6,t.datasource.dictionary.loadMore))}}function be(t,e){if(1&t){const t=s.kc();s.jc(0,"ui-button-text",54),s.rc("trigger",function(){return s.Uc(t),s.vc(3).widgetService.showAllQuestions()}),s.wc(1,"t"),s.wc(2,"t"),s.ic()}if(2&t){const t=s.vc(3);s.Dc("color","neutral")("iconColor","neutral")("label",s.xc(1,4,t.datasource.dictionary.viewQALabel))("ariaLabel",s.xc(2,6,t.datasource.dictionary.viewQALabel))}}function fe(t,e){if(1&t&&(s.jc(0,"div",49),s.jc(1,"span",50),s.dd(2,me,3,9,"ui-button-text",51),s.ic(),s.dd(3,_e,3,8,"ui-button-text",52),s.wc(4,"async"),s.wc(5,"async"),s.dd(6,be,3,8,"ui-button-text",52),s.ic()),2&t){const t=s.vc(2);s.Mb(2),s.Dc("ngIf",!!t.data.settings.selectedChannels),s.Mb(1),s.Dc("ngIf",t.data.settings.showLoadMoreLink&&!1===s.xc(4,3,t.datasource.noResults$)&&s.xc(5,5,t.datasource.hasMoreData$)),s.Mb(3),s.Dc("ngIf",t.data.settings.showViewAllLink)}}const we=function(t){return{"panel-opened":t}};function Ce(t,e){if(1&t&&(s.jc(0,"dcb-ui-data-browser",8,9),s.dd(2,Mt,11,21,"dcb-ui-data-browser-panel-filters",10),s.dd(3,yt,5,12,"ui-data-browser-control-search",11),s.dd(4,It,3,4,"ui-data-browser-control",12),s.wc(5,"async"),s.dd(6,Et,5,15,"ui-data-browser-control-dropdown",13),s.jc(7,"dcb-ui-data-browser-content",14),s.dd(8,Dt,2,4,"div",15),s.wc(9,"async"),s.dd(10,ue,4,11,"div",16),s.wc(11,"async"),s.dd(12,he,3,7,"ui-blank-slate",2),s.wc(13,"async"),s.dd(14,pe,2,1,"div",17),s.wc(15,"async"),s.dd(16,fe,7,7,"div",18),s.wc(17,"async"),s.ic(),s.ic()),2&t){const t=s.Rc(1),e=s.vc();let n=null,i=null;s.Dc("sticky",!1)("controlsShrinkBreakpoint",e.size>=8?"sm":"md"),s.Mb(2),s.Dc("ngIf",e.data.settings.showFiltersSelector),s.Mb(1),s.Dc("ngIf",e.data.settings.showSearchBar),s.Mb(1),s.Dc("ngIf",e.isHeaderVisible&&e.size<8&&(null==(n=s.xc(5,12,e.datasource.pagination$))?null:n.length)),s.Mb(2),s.Dc("ngIf",e.data.settings.showSortBy),s.Mb(1),s.Dc("ngClass",s.Ic(24,we,(null==t?null:t.panelsOpen)&&e.size>8)),s.Mb(1),s.Dc("ngIf",e.isHeaderVisible&&e.size>=8&&(null==(i=s.xc(9,14,e.datasource.pagination$))?null:i.length)),s.Mb(2),s.Dc("ngIf",!1===s.xc(11,16,e.datasource.noResults$)),s.Mb(2),s.Dc("ngIf",s.xc(13,18,e.datasource.noResults$)),s.Mb(2),s.Dc("ngIf",s.xc(15,20,e.datasource.loading$)),s.Mb(2),s.Dc("ngIf",e.isFooterVisible&&!1===s.xc(17,22,e.datasource.noContent$))}}function Oe(t,e){if(1&t&&(s.ec(0,"ui-blank-slate",46),s.wc(1,"t"),s.wc(2,"t")),2&t){const t=s.vc();s.Dc("title",s.xc(1,3,t.datasource.blankSlates.noContent.title))("description",s.xc(2,5,t.datasource.blankSlates.noContent.description))("illustrationName",t.datasource.blankSlates.noContent.illustrationName)}}const ve=function(t){return{itemsCount:t}};function Me(t,e){if(1&t&&(s.hc(0),s.fd(1),s.wc(2,"t"),s.gc()),2&t){const t=s.vc().totalCount,e=s.vc();s.Mb(1),s.hd(" ",s.yc(2,1,e.datasource.dictionary.totalElements.singular,s.Ic(4,ve,t))," ")}}function ye(t,e){if(1&t&&(s.fd(0),s.wc(1,"t")),2&t){const t=s.vc().totalCount,e=s.vc();s.hd(" ",s.yc(1,1,e.datasource.dictionary.totalElements.plural,s.Ic(4,ve,t))," ")}}function Pe(t,e){if(1&t&&(s.jc(0,"div",55),s.dd(1,Me,3,6,"ng-container",56),s.dd(2,ye,2,6,"ng-template",null,57,s.ed),s.ic()),2&t){const t=e.totalCount,n=s.Rc(3);s.Mb(1),s.Dc("ngIf",1===t)("ngIfElse",n)}}function Se(t,e){if(1&t&&(s.jc(0,"ui-button-dropdown-option",61),s.fd(1),s.wc(2,"t"),s.ic()),2&t){const t=e.$implicit;s.Dc("value",t.value)("color",t.color),s.Mb(1),s.hd(" ",s.xc(2,3,t.label)," ")}}function Ie(t,e){if(1&t){const t=s.kc();s.jc(0,"ui-message",58),s.rc("like",function(){s.Uc(t);const n=e.question;return s.vc().rateEntity(n,"like")})("dislike",function(){s.Uc(t);const n=e.question;return s.vc().rateEntity(n,"dislike")})("reply",function(){s.Uc(t);const n=e.question;return s.vc().replyAction(n)}),s.wc(1,"discoverMention"),s.wc(2,"t"),s.wc(3,"t"),s.wc(4,"t"),s.jc(5,"dcb-ui-message-aside"),s.jc(6,"ui-button-dropdown",59),s.rc("selectOption",function(n){s.Uc(t);const i=e.question;return s.vc().questionActionHandler(n,i)}),s.dd(7,Se,3,5,"ui-button-dropdown-option",60),s.ic(),s.ic(),s.ic()}if(2&t){const t=e.question,n=s.vc();s.Dc("message",s.yc(1,17,t.content,t.mentions))("title",t.owner.fullName)("titleActionText",t.isReply?s.xc(2,20,n.datasource.dictionary.replyLabel[t.type]):s.xc(3,22,n.datasource.dictionary.questionLabel[t.type]))("avatarIcon",t.owner.shortName.length?"":"user")("avatarImageUrl",t.owner.avatar)("avatarText",t.owner.shortName)("dislikeActive",2===(null==t||null==t.votedModel?null:t.votedModel.type))("likeActive",1===(null==t||null==t.votedModel?null:t.votedModel.type))("likes",t.upVotes)("dislikes",t.downVotes)("time",t.createdAt)("showReplyButton",t.showReplyOption)("replyButtonLabel",s.xc(4,24,n.datasource.dictionary.replyButton[t.type]))("showDislikeButton",t.isReply||2===t.type)("showLikeButton",t.isReply||2===t.type),s.Mb(6),s.Dc("selectable",!1),s.Mb(1),s.Dc("ngForOf",t.actions)}}function xe(t,e){if(1&t&&s.ec(0,"rich-textarea",70),2&t){const t=s.vc(2);s.Dc("inputFormControl",t.contentFormControl)("tributeCollection",null==t.discoverMention.config?null:t.discoverMention.config.options)}}function Ee(t,e){if(1&t&&(s.jc(0,"div",71),s.fd(1),s.wc(2,"t"),s.ic()),2&t){const t=s.vc(2);s.Mb(1),s.hd(" ",s.xc(2,1,null==t.discoverMention.config?null:t.discoverMention.config.label)," ")}}function Te(t,e){if(1&t){const t=s.kc();s.jc(0,"ui-button-text",72,73),s.rc("click",function(){s.Uc(t);const e=s.Rc(1),n=s.vc().question;return s.vc().postNewEntityReply(n,e)}),s.wc(2,"t"),s.ic()}if(2&t){const t=s.vc(2);s.Dc("label",s.xc(2,2,t.datasource.dictionary.confirmReply))("color","accent")}}function De(t,e){if(1&t){const t=s.kc();s.hc(0),s.jc(1,"ui-button-text",72),s.rc("click",function(){s.Uc(t);const e=s.vc().question;return s.vc().cancelEdit(e)}),s.wc(2,"t"),s.ic(),s.jc(3,"ui-button-text",72,74),s.rc("click",function(){s.Uc(t);const e=s.Rc(4),n=s.vc().question;return s.vc().editEntity(n,e)}),s.wc(5,"t"),s.ic(),s.gc()}if(2&t){const t=s.vc(2);s.Mb(1),s.Dc("label",s.xc(2,4,t.datasource.dictionary.cancelEdit))("color","neutral"),s.Mb(2),s.Dc("label",s.xc(5,6,t.datasource.dictionary.confirmEdit))("color","accent")}}const ke=function(t,e,n,i){return{"reply-textarea-container":t,"edit-textarea-container":e,"has-replies":n,"is-root":i}};function Ae(t,e){if(1&t&&(s.jc(0,"div",62),s.jc(1,"div",63),s.ec(2,"ui-avatar",64),s.jc(3,"span",65),s.fd(4),s.ic(),s.ic(),s.dd(5,xe,1,2,"rich-textarea",66),s.jc(6,"div",67),s.dd(7,Ee,3,3,"div",68),s.dd(8,Te,3,4,"ui-button-text",69),s.dd(9,De,6,8,"ng-container",12),s.ic(),s.ic()),2&t){const t=e.question,n=e.isEdit,i=s.vc();s.Dc("ngClass",s.Lc(10,ke,!n,n,t.totalCountReplies>0,!t.parentID&&!t.directParentId)),s.Mb(2),s.Dc("size","sm")("imageUrl",i.loggedUserInformation.avatarUrl)("text",i.loggedUserInformation.initials)("iconName",null!=i.loggedUserInformation&&i.loggedUserInformation.initials.length?"":"user"),s.Mb(2),s.gd(i.loggedUserInformation.userName),s.Mb(1),s.Dc("ngIf",i.discoverMention.isConfigured),s.Mb(2),s.Dc("ngIf",!(null==i.discoverMention.config||!i.discoverMention.config.options)),s.Mb(1),s.Dc("ngIf",t.showReplyBox),s.Mb(1),s.Dc("ngIf",t.showEditBox)}}function Le(t,e){if(1&t){const t=s.kc();s.jc(0,"doc-ask-expert-panel",75),s.rc("closed$",function(e){return s.Uc(t),s.vc().askTheExpert("close",e)}),s.ic()}if(2&t){const t=s.vc();s.Dc("channelId",t.data.settings.selectedChannels)("isPageComponent",!1)}}let je=(()=>{let t=class extends g.a{constructor(t,e,n,i,o,r,c,l,d,g,u,h,p){super(),this.discoverMention=t,this.datasource=e,this.widgetService=n,this._scrollMonitor=i,this._element=o,this._ref=r,this._docLayoutService=c,this._reducerManager=l,this._effectsSources=d,this._qnaReducer=g,this._qnaSelectors=u,this._qnaEffects=h,this._qnaActions=p,this.size=12,this.itemChanges=new s.q,this.noResults=!1,this.contentFormControl=new a.e,this.showAskTheExpertPanel=!1,this.ngUnsubscribe=new it.a}ngOnInit(){this._setWidgetTitle(),this._initializeSettings(),this._initializeInfiniteScroll(),this.datasource.refreshView$.subscribe(()=>{this._ref.markForCheck()}),this.datasource.noResults$.pipe(Object(st.a)(this.ngUnsubscribe)).subscribe(t=>this.noResults=t);const t=this.data.settings.selectedChannels;this.discoverMention.setConfig(Object.assign({},!!t&&{channel_id:t}))}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.data.settings.isLazyLoading&&this._scrollMonitor.unregisterWidget(this._element),this.datasource.destroy()}trackByFn(t,e){return e.id}get loggedUserInformation(){return{userName:r.c.getInstance().getFullName(!0),userEmail:r.c.getInstance().email,avatarUrl:r.c.getInstance().avatar_url,initials:r.c.getInstance().user_initials}}get isFooterVisible(){return this.data.settings.showViewAllLink||!this.noResults&&this.data.settings.showLoadMoreLink||!!this.data.settings.selectedChannels}get isHeaderVisible(){const{settings:t}=this.data;return t.showFiltersSelector||t.showSearchBar||t.showSortBy}questionActionHandler(t,e){switch(t){case"follow_question":case"unfollow_question":e.isFollowing="follow_question"===t;const n=e.isFollowing?"follow":"unFollow";e.setActions(),this.widgetService[n](e.id).subscribe();break;case"edit_comment":case"edit_answer":case"edit_question":this._hideOpenedTextAreas();let i=(new c.a).transform(e.content,e.mentions||[]);i=i.replace(new RegExp(/\\"/,"gm"),'"').replace(new RegExp(/&quot;/,"gm"),"'"),this.contentFormControl.setValue(i),e.showEditBox=!0;break;case"delete_comment":case"delete_question":case"delete_answer":this.widgetService.delete(e).then(t=>{t.subscribe(t=>{!e.isBestAnswer&&e.isReply||(this.itemChanges.emit(),this.datasource.dispatchDeleteItem(t.id))})})}}rateEntity(t,e){var n;const i="like"===e?m.c.LIKE:m.c.DISLIKE;t.isMine||(null===(n=t.votedModel)||void 0===n?void 0:n.type)===i&&t.votedModel.created||this.widgetService.rate(t.id,`${t.type===m.b.QUESTION||t.isReply?"answer":"comment"}${i===m.c.LIKE?"Like":"Dislike"}`).subscribe(e=>{t.downVotes=e.dislikes,t.upVotes=e.likes,t.votedModel={type:i,created:(new Date).toISOString()},this.datasource.refreshView$.next()})}showMoreReplies(t){const e=t.replies.filter(t=>!t.hidden).length;t.visibleReplies>e?t.visibleReplies=e:(t.visibleReplies+=t.SHOW_MORE_STEP,t.visibleReplies>t.totalCountReplies&&(t.visibleReplies=t.totalCountReplies),this.datasource.refreshView$.next(),t.type===m.b.QUESTION&&t.hasMoreData&&this.widgetService.loadMoreAnswers({id:t.id,page:t.repliesPage+1}))}replyAction(t){const e=t.showReplyBox;this.contentFormControl.setValue(""),this._hideOpenedTextAreas(),t.showReplyBox=!e}postNewEntityReply(t,e){const n=this._getFormControlContentMessage();!n||n.length<=3||e.loading||(e.loading=!0,this.widgetService.reply(t,this.discoverMention.convertMessageForSaving(n)).subscribe(n=>{this.contentFormControl.setValue(""),e.loading=!1,t.showReplyBox=!1,t.setNewReply(n),this.datasource.refreshView$.next()},t=>e.loading=!1))}cancelEdit(t){this.contentFormControl.setValue(""),t.showEditBox=!1}editEntity(t,e){const n=this._getFormControlContentMessage();!n||n.length<=3||e.loading||(e.loading=!0,this.widgetService.edit(t,this.discoverMention.convertMessageForSaving(n)).subscribe(()=>{this.contentFormControl.setValue(""),e.loading=!1,t.content=n,t.showEditBox=!1,this.datasource.refreshView$.next()},t=>e.loading=!1))}onLoadMore(){this.datasource.loading$.pipe(Object(C.a)(1),Object(w.a)(t=>!t),Object(J.a)(()=>this.datasource.hasMoreData$.pipe(Object(C.a)(1),Object(w.a)(t=>!!t))),Object(J.a)(()=>this.datasource.pagination$.pipe(Object(C.a)(1)))).subscribe(t=>{this.datasource.onPageChanged({length:t.length,pageSize:t.pageSize,pageIndex:t.pageIndex+1})})}askTheExpert(t,e){"open"!==t?(this.showAskTheExpertPanel=!1,this.datasource.onPageChanged({length:0,pageIndex:0,pageSize:Number(this.data.settings.maxDisplayable)}),void 0!==e&&e()):this.showAskTheExpertPanel=!0}_setWidgetTitle(){const t=r.c.getInstance().language,e=r.b.getInstance().default_language;this.setWidgetTitle(t,e)}_initializeSettings(){this.data.id&&""!==this.data.id||(this.data.id=Object(o.m)()),this._initializeWidgetStore(),this.data.settings.showLoadMoreLink||this.data.settings.isLazyLoading||(this.data.settings.showSortBy=!1,this.data.settings.showFiltersSelector=!1,this.data.settings.showSearchBar=!1),this.datasource.init(this.data.id,this.data.settings),this.widgetService.checkDeleteConfirmationModalSetting()}_initializeWidgetStore(){this._qnaSelectors.sliceName=`qna_widget__${this.data.id}`,this._qnaSelectors.featureSelector=Object(I.k)(this._qnaSelectors.sliceName),this._qnaActions.widgetId=this.data.id,this._qnaActions.initializeActions(),this._qnaEffects.initializeEffects(),this._reducerManager.addReducer(this._qnaSelectors.sliceName,this._qnaReducer.reducerFactory(this._qnaSelectors.sliceName)),this._effectsSources.addEffects(this._qnaEffects)}_hideOpenedTextAreas(t){const e=t=>{for(const e of t)e.showEditBox&&(e.showEditBox=!1),e.showReplyBox&&(e.showReplyBox=!1),e.replies.length&&this._hideOpenedTextAreas(e.replies)};t?e(t):this.datasource.content$.subscribe(t=>{e(t)})}_getFormControlContentMessage(){const t=this.contentFormControl.value||"",e=document.createElement("textarea");return e.innerHTML=t,e.value}_initializeInfiniteScroll(){this.data.settings.isLazyLoading&&this._scrollMonitor.registerWidget(this._element).pipe(Object(w.a)(t=>!t.isPageScrollable||t.isInViewport&&t.isBottomCloseEnoughToTheViewport),Object(st.a)(this.ngUnsubscribe)).subscribe(t=>Object(i.a)(this,void 0,void 0,function*(){this.onLoadMore(),this.datasource.refreshView$.next()}))}};return t.\u0275fac=function(e){return new(e||t)(s.dc(lt.a),s.dc(ct),s.dc(T),s.dc(d.a),s.dc(s.o),s.dc(s.i),s.dc(S.a),s.dc(I.b),s.dc(G.c),s.dc(nt),s.dc(Z),s.dc(tt),s.dc(x))},t.\u0275cmp=s.Xb({type:t,selectors:[["doc-questions-and-answers-widget"]],inputs:{data:"data",size:"size"},outputs:{itemChanges:"itemChanges"},features:[s.Lb([d.a,ct,T,Z,nt,x,tt]),s.Jb],decls:12,vars:8,consts:[[3,"widgetTitle",4,"ngIf"],["class","question-and-answers-list__data-browser page-list__dcb-ui-data-browser",3,"sticky","controlsShrinkBreakpoint",4,"ngIf"],["class","page-list__blank-slate question-and-answers-list__blank-slate",3,"title","description","illustrationName",4,"ngIf"],["itemsCountTemplate",""],["messageTemplate",""],["textarea",""],[3,"channelId","isPageComponent","closed$",4,"ngIf"],[3,"widgetTitle"],[1,"question-and-answers-list__data-browser","page-list__dcb-ui-data-browser",3,"sticky","controlsShrinkBreakpoint"],["uiDataBrowserComponent",""],[3,"fullHeight","clearFiltersLabel","closeFiltersLabel","activeFiltersCountLabelSingular","activeFiltersCountLabelPlural","filtersLabel","filtersChange",4,"ngIf"],[3,"clearInputLabel","searchLabel","searchPlaceholder","backLabel","changeSearchText","triggerSearch",4,"ngIf"],[4,"ngIf"],["triggerIcon","sort-top","position","end",3,"defaultValue","options","triggerText","ariaLabel","selectOption",4,"ngIf"],[1,"page-list__dcb-ui-data-browser-content--widget",3,"ngClass"],["class","discussion-thread__thread-items-content",4,"ngIf"],["class","discussion-thread__thread-content",3,"ngClass",4,"ngIf"],["class","loading-container-flex",4,"ngIf"],["class","questions-and-answers-footer wrapper-shadow ui-background-surface",4,"ngIf"],[3,"fullHeight","clearFiltersLabel","closeFiltersLabel","activeFiltersCountLabelSingular","activeFiltersCountLabelPlural","filtersLabel","filtersChange"],[3,"label","options","key","value",4,"ngIf"],[3,"label","options","key",4,"ngIf"],[3,"label","options","value","defaultValue","key",4,"ngIf"],[3,"value","defaultValue","key","label",4,"ngIf"],[3,"label","options","key","value"],[3,"label","options","key"],[3,"label","options","value","defaultValue","key"],[3,"value","defaultValue","key","label"],[3,"endpoint","type","key","inputFormControl","filterChange"],["filterCohort",""],[3,"clearInputLabel","searchLabel","searchPlaceholder","backLabel","changeSearchText","triggerSearch"],[1,"count-all-items"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["triggerIcon","sort-top","position","end",3,"defaultValue","options","triggerText","ariaLabel","selectOption"],[1,"discussion-thread__thread-items-content"],[1,"discussion-thread__thread-content",3,"ngClass"],["class","discussion-thread__item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"discussion-thread__item"],["class","relation-info ui-typography-subtitle ui-color-typography-secondary",4,"ngIf"],[1,"relation-info","ui-typography-subtitle","ui-color-typography-secondary"],[1,"label"],[3,"routerLink"],[1,"discussion-thread__thread-loading"],["size","sm"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"trigger"],[1,"page-list__blank-slate","question-and-answers-list__blank-slate",3,"title","description","illustrationName"],[1,"loading-container-flex"],[3,"size"],[1,"questions-and-answers-footer","wrapper-shadow","ui-background-surface"],[1,"btn-align-beginning"],[3,"label","ariaLabel","iconName","color","iconColor","trigger",4,"ngIf"],[3,"color","iconColor","label","ariaLabel","trigger",4,"ngIf"],[3,"label","ariaLabel","iconName","color","iconColor","trigger"],[3,"color","iconColor","label","ariaLabel","trigger"],[1,"ui-typography-subtitle"],[4,"ngIf","ngIfElse"],["pluralLabel",""],[3,"message","title","titleActionText","avatarIcon","avatarImageUrl","avatarText","dislikeActive","likeActive","likes","dislikes","time","showReplyButton","replyButtonLabel","showDislikeButton","showLikeButton","like","dislike","reply"],["uiSize","sm","triggerType","icon","iconName","more-horizontal","tooltipPosition","above","menuHorizontalAlignment","before",1,"ui-menu-action",3,"selectable","selectOption"],["id","ui-button-menu-aria-label",3,"value","color",4,"ngFor","ngForOf"],["id","ui-button-menu-aria-label",3,"value","color"],[3,"ngClass"],[1,"logged-user-information-box","ui-display-flex"],[3,"size","imageUrl","text","iconName"],[1,"user-name-label","ui-typography-heading-5"],[3,"inputFormControl","tributeCollection",4,"ngIf"],[1,"text-area-cta-container"],["class","hint-box ui-typography-subtitle ui-color-typography-secondary",4,"ngIf"],[3,"label","color","click",4,"ngIf"],[3,"inputFormControl","tributeCollection"],[1,"hint-box","ui-typography-subtitle","ui-color-typography-secondary"],[3,"label","color","click"],["btnNewRef",""],["btnEditRef",""],[3,"channelId","isPageComponent","closed$"]],template:function(t,e){1&t&&(s.dd(0,_t,1,1,"widget-title",0),s.dd(1,Ce,18,26,"dcb-ui-data-browser",1),s.wc(2,"async"),s.dd(3,Oe,3,7,"ui-blank-slate",2),s.wc(4,"async"),s.dd(5,Pe,4,2,"ng-template",null,3,s.ed),s.dd(7,Ie,8,26,"ng-template",null,4,s.ed),s.dd(9,Ae,10,15,"ng-template",null,5,s.ed),s.dd(11,Le,1,2,"doc-ask-expert-panel",6)),2&t&&(s.Dc("ngIf",e.widgetTitle),s.Mb(1),s.Dc("ngIf",!1===s.xc(2,4,e.datasource.noContent$)),s.Mb(2),s.Dc("ngIf",s.xc(4,6,e.datasource.noContent$)),s.Mb(8),s.Dc("ngIf",e.showAskTheExpertPanel))},directives:[dt.p,gt.a,ut.hb,ut.ib,dt.n,ut.ub,ut.qb,ut.ob,ut.mb,ht.a,ut.lb,ut.jb,dt.u,ut.kb,dt.o,ut.td,ut.wd,P.k,ut.ud,ut.bd,ut.y,ut.o,ut.F,ut.rc,ut.Fd,ut.s,ut.Yc,ut.u,ut.e,pt.a,mt.a],pipes:[dt.b,v.b,c.a],styles:[".page-list-base .paginator{margin-top:auto}.page-list-base .loading-container{position:fixed;top:0;left:0;z-index:10;display:flex;align-items:center;justify-content:center;width:100%;height:100vh;pointer-events:none}.page-list-base .page-list__blank-slate{margin-top:50px}.page-list__table .hyd-table .hyd-table-body{overflow-y:auto}hyd-table.page-list__table,hyd-table.page-list__table div.hyd-table,hyd-table.page-list__table div.hyd-table .hyd-table-body{flex:1 1 auto;display:flex;flex-direction:column;min-height:10px}.page-list__table .hyd-table .hyd-table-head,.page-list__table .hyd-table .hyd-table-row{flex-shrink:0}.page-list__table .skill-group-name{font-weight:600}.page-list__table .table-icon-cell{display:flex;align-items:center;justify-content:center;font-weight:600;text-decoration:none;cursor:pointer}.page-list__table .table-icon-cell.table-icon-cell--no-link{color:var(--hyd-color-typography-primary);cursor:default}.page-list__table .table-icon-cell--with-element{color:var(--ui-color-typography-accent)}.page-list__table .table-icon-cell--without-element{color:var(--ui-color-semantic-alert)}.page-list__table .table-icon-cell--all{color:var(--ui-color-typography-primary);cursor:default}.page-list__table .table-icon-cell .number{text-align:right}.router-outlet:not(.direction-rtl):not(.heracles-root) .page-list__table .table-icon-cell .number{width:50%}.router-outlet.direction-rtl:not(.heracles-root) .page-list__table .table-icon-cell .number{width:auto}.page-list__table .table-icon-cell .table-icon-cell__icon{text-align:left;vertical-align:middle}.router-outlet:not(.direction-rtl):not(.heracles-root) .page-list__table .table-icon-cell .table-icon-cell__icon{width:50%}.router-outlet.direction-rtl:not(.heracles-root) .page-list__table .table-icon-cell .table-icon-cell__icon{width:auto}.router-outlet:not(.direction-rtl):not(.heracles-root) .page-list__table .table-icon-cell .table-icon-cell__icon{padding-left:5px}.router-outlet.direction-rtl:not(.heracles-root) .page-list__table .table-icon-cell .table-icon-cell__icon{padding-right:5px}.page-list__table .table-icon-cell .table-icon-cell__icon.publish-icon:hover{cursor:pointer}.page-list__table .table-icon-cell .zmdi-check-circle,.page-list__table .table-icon-cell .zmdi-circle{line-height:38px}.page-list__table .page-list__name-cell{font-weight:600}.page-list__table .table-thumbnail-cell{display:flex;align-items:center;justify-content:center;height:100%}.page-list__table .table-avatar.table-avatar--default .ui-avatar-wrapper .ui-avatar-body{background-size:125px auto}.page-list__data-browser,.page-list__data-browser .docebo-data-browser,.page-list__data-browser .grid-content-container.mdl-grid .data-browser-content.mdl-cell,.page-list__data-browser .section-wrapper{display:flex;flex:1 1 auto;flex-direction:column;min-height:10px}.page-list__data-browser,.page-list__data-browser .docebo-data-browser,.page-list__data-browser .grid-content-container.mdl-grid,.page-list__data-browser .section-wrapper{height:100%}.page-list__data-browser{border-top:var(--hyd-size-border-xs) solid var(--hyd-color-border-neutral)}.page-list__data-browser .docebo-data-browser #sidebar-filters{width:330px;margin:0;padding:0;background-color:var(--hyd-color-layout-surface)}.page-list__data-browser .docebo-data-browser #sidebar-filters .sidebar-wrapper{border-bottom:none}.page-list__data-browser .docebo-data-browser .full-width-header-container{height:50px}.page-list__data-browser .grid-content-container.mdl-grid .data-browser-content.mdl-cell{height:100%}.page-list__data-browser .mdl-grid{margin:0}.page-list__data-browser .mdl-grid.grid-content-container{flex:1 1 auto;min-height:10px;margin:0}.page-list__data-browser .grid-content-container.mdl-grid>.mdl-cell.mdl-cell--12-col{width:100%;margin:0}.page-list__data-browser .docebo-data-browser .mdl-cell.mdl-cell--9-col{flex-grow:0;width:calc(100% - 330px);margin:0}.page-list__data-browser .docebo-data-browser .mdl-grid .mdl-cell.header-row{margin:0}.page-list__data-browser .docebo-data-browser #sidebar-filters .sidebar-holder .data-tab{display:flex;flex-direction:column;height:100%}.page-list__data-browser .docebo-data-browser #sidebar-filters .sidebar-holder .clear-filters{margin-top:auto;border-top:1px solid var(--ui-color-badge-background-light)}.color-gm__red{color:#de352e}.color-gm__yellow{color:#f5a623}.color-gm__green{color:#64c763}.color-gm__blue{color:#0c509c}.color-gm__light-blue{color:#4861b0}.page-list__dcb-ui-data-browser,.page-list__dcb-ui-data-browser .page-list__dcb-ui-data-browser-content,.page-list__dcb-ui-data-browser .ui-data-browser-content,.page-list__dcb-ui-data-browser .ui-data-browser-wrapper{height:100%;flex:1 1 auto;display:flex;flex-direction:column;min-height:10px}.page-list-base__right-panel-body,.page-list-base__right-panel-body .doc-layout-right-panel-content.scrollable{overflow-y:visible}.question-and-answers-list__blank-slate{display:block}doc-questions-and-answers-widget,ui-message{position:relative;display:flex;flex-direction:column}doc-questions-and-answers-widget a,ui-message a{overflow-wrap:anywhere}doc-questions-and-answers-widget .page-list__dcb-ui-data-browser-content--widget.panel-opened{margin-left:var(--ui-spacing-sm)}:host-context([dir=rtl]) doc-questions-and-answers-widget .page-list__dcb-ui-data-browser-content--widget.panel-opened{margin-right:var(--ui-spacing-sm);margin-left:0}doc-questions-and-answers-widget .discussion-thread__thread-items-content{margin-top:var(--ui-spacing-sm)}doc-questions-and-answers-widget .discussion-thread__thread-content{position:relative;width:100%;box-sizing:border-box}doc-questions-and-answers-widget .discussion-thread__thread-content.has-content{background-color:var(--ui-color-layout-surface);box-shadow:var(--ui-shadow-md) var(--ui-color-layout-shadow)}doc-questions-and-answers-widget .discussion-thread__thread-content.has-header{margin-top:var(--ui-spacing-sm)}doc-questions-and-answers-widget .discussion-thread__thread-content .discussion-thread__item{position:relative;padding:var(--ui-spacing-md) var(--ui-spacing-md) 0}doc-questions-and-answers-widget .discussion-thread__thread-content .discussion-thread__item~.discussion-thread__item{border-top:var(--ui-size-border-xs) solid var(--ui-color-border-neutral)}doc-questions-and-answers-widget .discussion-thread__thread-content .discussion-thread__item~.discussion-thread__item:before{-webkit-clip-path:inset(0 -15px -15px -15px);clip-path:inset(0 -15px -15px -15px)}doc-questions-and-answers-widget .discussion-thread__thread-content .discussion-thread__item .relation-info{margin-bottom:var(--ui-spacing-sm);margin-left:calc(var(--ui-size-avatar-sm) + var(--ui-spacing-xxs));font-weight:var(--ui-typography-weight-semibold)}[dir=rtl] doc-questions-and-answers-widget .discussion-thread__thread-content .discussion-thread__item .relation-info{margin-right:calc(var(--ui-size-avatar-sm) + var(--ui-spacing-xxs));margin-left:unset}doc-questions-and-answers-widget .discussion-thread__thread-content .discussion-thread__item .relation-info a{font-weight:inherit;font-size:inherit}doc-questions-and-answers-widget .discussion-thread__thread-content .discussion-thread__item .relation-info .label{margin-right:var(--ui-spacing-micro)}[dir=rtl] doc-questions-and-answers-widget .discussion-thread__thread-content .discussion-thread__item .relation-info .label{margin-right:unset;margin-left:var(--ui-spacing-micro)}doc-questions-and-answers-widget .discussion-thread__thread-content.inline-view .discussion-thread__item:not(:first-child){padding:0 var(--ui-spacing-md)}doc-questions-and-answers-widget .discussion-thread__thread-content.inline-view .discussion-thread__item~.discussion-thread__item{border-top:unset}doc-questions-and-answers-widget .discussion-thread__thread-content rich-textarea .placehoder-loading{top:0;height:100%}doc-questions-and-answers-widget .discussion-thread__thread-content .fr-emoticon.fr-emoticon-img{font-size:inherit;height:1em;width:1em;min-height:20px;min-width:20px;display:inline-block;margin:0;vertical-align:text-bottom;line-height:1}doc-questions-and-answers-widget .discussion-thread__thread-content .logged-user-information-box{align-items:center;padding-bottom:var(--ui-spacing-xs)}doc-questions-and-answers-widget .discussion-thread__thread-content .logged-user-information-box .user-name-label{padding:0 var(--ui-spacing-xxs)}doc-questions-and-answers-widget .discussion-thread__thread-content .edit-textarea-container{position:relative;padding-bottom:var(--ui-spacing-sm)}doc-questions-and-answers-widget .discussion-thread__thread-content .edit-textarea-container:not(.is-root){margin-right:calc(var(--ui-size-icon-sm) + (var(--ui-spacing-xxs) * 3))}[dir=rtl] doc-questions-and-answers-widget .discussion-thread__thread-content .edit-textarea-container:not(.is-root){margin-right:unset;margin-left:calc(var(--ui-size-icon-sm) + (var(--ui-spacing-xxs) * 3))}doc-questions-and-answers-widget .discussion-thread__thread-content .edit-textarea-container rich-textarea{position:relative;display:block}doc-questions-and-answers-widget .discussion-thread__thread-content .edit-textarea-container.has-replies .text-area-cta-container,doc-questions-and-answers-widget .discussion-thread__thread-content .edit-textarea-container.has-replies rich-textarea{margin-left:calc(var(--ui-size-icon-sm) + (var(--ui-spacing-xxs) * 3))}[dir=rtl] doc-questions-and-answers-widget .discussion-thread__thread-content .edit-textarea-container.has-replies .text-area-cta-container,[dir=rtl] doc-questions-and-answers-widget .discussion-thread__thread-content .edit-textarea-container.has-replies rich-textarea{margin-left:unset;margin-right:calc(var(--ui-size-icon-sm) + (var(--ui-spacing-xxs) * 3))}doc-questions-and-answers-widget .discussion-thread__thread-content .reply-textarea-container{position:relative;margin-left:calc(var(--ui-size-avatar-sm) + var(--ui-spacing-xxs));padding-bottom:var(--ui-spacing-sm);margin-right:calc(var(--ui-size-icon-sm) + (var(--ui-spacing-xxs) * 3))}[dir=rtl] doc-questions-and-answers-widget .discussion-thread__thread-content .reply-textarea-container{margin-right:unset;margin-left:calc(var(--ui-size-icon-sm) + (var(--ui-spacing-xxs) * 3));margin-left:unset;margin-right:calc(var(--ui-size-avatar-sm) + var(--ui-spacing-xxs))}doc-questions-and-answers-widget .discussion-thread__thread-content .text-area-cta-container{display:flex;justify-content:flex-end;margin:var(--ui-spacing-xxs) 0}doc-questions-and-answers-widget .discussion-thread__thread-content .text-area-cta-container .hint-box{flex-grow:1}doc-questions-and-answers-widget .discussion-thread__thread-content .discussion-thread__thread-loading{display:block;padding-top:var(--ui-spacing-xxs);padding-bottom:var(--ui-spacing-md)}doc-questions-and-answers-widget .discussion-thread__thread-content dcb-ui-message-aside{display:flex;flex-direction:column;justify-content:center;padding:0 var(--ui-spacing-xxs)}doc-questions-and-answers-widget .questions-and-answers-footer{display:flex;justify-content:flex-end;margin-top:var(--ui-spacing-sm);padding:var(--ui-spacing-xxs) var(--ui-spacing-sm);box-shadow:var(--ui-shadow-md) var(--ui-color-layout-shadow)}doc-questions-and-answers-widget .questions-and-answers-footer .btn-align-beginning{flex-grow:1}doc-questions-and-answers-widget .count-all-items{margin:auto var(--hyd-spacing-sm)}doc-questions-and-answers-widget .loading-container-flex{display:flex;padding:var(--ui-spacing-md);align-content:center;justify-content:center}"],encapsulation:2,changeDetection:0}),t=Object(i.b)([Object(l.a)({name:"questionsandanswers-new",module:"shared",settings:N})],t),t})()},yT07:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");const s=["graphCanvas"];let a=(()=>{class t{constructor(){this.inProgressCoursesCount=0,this.completedCoursesCount=0,this.notStartedCoursesCount=0}ngOnInit(){this.updateGraph()}ngOnChanges(){this.updateGraph()}updateGraph(){const t=this.getRadiants();t&&this.drawChart(t)}getRadiants(){const t=[],e={notStarted:{start:0,end:0},inProgress:{start:0,end:0},completed:{start:0,end:0}};if(["notStarted","inProgress","completed"].forEach(e=>{this[e+"CoursesCount"]>0&&t.push(e)}),0===t.length)return null;if(1===t.length)return e[t[0]].start=0,e[t[0]].end=2*Math.PI,e;const n=this.inProgressCoursesCount+this.completedCoursesCount+this.notStartedCoursesCount;for(let i=0;i<t.length;i++){const s=0===i?0:e[t[i-1]].end,a=360*this[t[i]+"CoursesCount"]/n;e[t[i]].start=s,e[t[i]].end=s+a}return t.forEach(t=>{e[t].start=(e[t].start+5)/180*Math.PI,e[t].end=(e[t].end-5)/180*Math.PI}),e}drawChart(t){this.graphCanvas2DContext=this.graphCanvas.nativeElement.getContext("2d"),this.graphCanvas2DContext.clearRect(0,0,158,158),this.drawArc(79,79,79,t.notStarted.start,t.notStarted.end,"#EA9091"),this.drawArc(79,79,79,t.inProgress.start,t.inProgress.end,"#EDA972"),this.drawArc(79,79,79,t.completed.start,t.completed.end,"#8AB7EA"),this.drawArc(79,79,65,0,2*Math.PI,"#FFFFFF")}drawArc(t,e,n,i,s,a){this.graphCanvas2DContext.beginPath(),this.graphCanvas2DContext.fillStyle=a,this.graphCanvas2DContext.moveTo(79,79),this.graphCanvas2DContext.arc(t,e,n,i,s),this.graphCanvas2DContext.fill(),this.graphCanvas2DContext.closePath()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xb({type:t,selectors:[["courses-overview-chart"]],viewQuery:function(t,e){if(1&t&&i.md(s,1),2&t){let t;i.Qc(t=i.sc())&&(e.graphCanvas=t.first)}},inputs:{inProgressCoursesCount:"inProgressCoursesCount",completedCoursesCount:"completedCoursesCount",notStartedCoursesCount:"notStartedCoursesCount"},features:[i.Kb],decls:22,vars:4,consts:[[1,"courses-overview-chart","mdl-shadow--2dp","clearfix"],[1,"courses-overview-chart-graph"],["width","158","height","158"],["graphCanvas",""],[1,"courses-overview-chart-total-count"],[1,"total-count-number"],[1,"total-count-description"],[1,"courses-overview-chart-legend"],[1,"chart-legend-item","not-started"],[1,"chart-legend-number"],[1,"chart-legend-item","in-progress"],[1,"chart-legend-item","completed"]],template:function(t,e){1&t&&(i.jc(0,"div",0),i.jc(1,"div",1),i.ec(2,"canvas",2,3),i.jc(4,"div",4),i.jc(5,"div",5),i.fd(6),i.ic(),i.jc(7,"div",6),i.fd(8,"courses"),i.ic(),i.ic(),i.ic(),i.jc(9,"div",7),i.jc(10,"div",8),i.jc(11,"span",9),i.fd(12),i.ic(),i.fd(13," Not started"),i.ic(),i.jc(14,"div",10),i.jc(15,"span",9),i.fd(16),i.ic(),i.fd(17," In progress"),i.ic(),i.jc(18,"div",11),i.jc(19,"span",9),i.fd(20),i.ic(),i.fd(21," Completed"),i.ic(),i.ic(),i.ic()),2&t&&(i.Mb(6),i.gd(e.inProgressCoursesCount+e.completedCoursesCount+e.notStartedCoursesCount),i.Mb(6),i.gd(e.notStartedCoursesCount),i.Mb(4),i.gd(e.inProgressCoursesCount),i.Mb(4),i.gd(e.completedCoursesCount))},encapsulation:2}),t})()},yh7M:function(t){t.exports=JSON.parse('{"badges":{"items":[{"id_badge":24,"id_user":13010,"total_score":1598,"badge_icon":"//d12pk5efbey2ld.cloudfront.net/files/h/y/hydra_tanya_scavaline_com/assets/badges/small/ab77b1d9ad9b6534cbe7cd0c7f74b68479f1e020.jpg","badge_name":"Lily","badge_description":"<p>You earned it because u work on this widgy</p>","total_badges_count":1},{"id_badge":23,"id_user":13010,"total_score":12,"badge_icon":"//d12pk5efbey2ld.cloudfront.net/files/assets/badges/small/b0e2e2f935d9f17f30a257d22ea5b665.png","badge_name":"Invitation to watch an asset - 3 users","badge_description":"<p>Invitation to watch an asset - 3 users</p>","total_badges_count":2},{"id_badge":15,"id_user":13010,"total_score":10,"badge_icon":"//d12pk5efbey2ld.cloudfront.net/files/assets/badges/small/233edce9bb4d62294b5b1471e6fda2e5.png","badge_name":"User\'s asset viewed for longest duration of time  - 1m","badge_description":"<p>User\'s asset viewed for longest duration of time\xa0 - 1m</p>","total_badges_count":1},{"id_badge":12,"id_user":13010,"total_score":42,"badge_icon":"//d12pk5efbey2ld.cloudfront.net/files/assets/badges/small/ed4969e71178e4518c0529d8e6943a7c.png","badge_name":"User met a goal - user uploaded 3 assets","badge_description":"<p>User met a goal - user uploaded 3 assets</p>","total_badges_count":14},{"id_badge":18,"id_user":13010,"total_score":175,"badge_icon":"//d12pk5efbey2ld.cloudfront.net/files/assets/badges/small/983a3a6cfb97fb3c56012d5361a2f62e.png","badge_name":"Expert met a goal - expert approves 2 assets","badge_description":"<p>Expert met a goal - expert approves 2 assets</p>","total_badges_count":25},{"id_badge":7,"id_user":13010,"total_score":3,"badge_icon":"//d12pk5efbey2ld.cloudfront.net/files/assets/badges/small/66fe16b0364de2c7c60bec0a80d56614.png","badge_name":"User met a goal - user made a 3 questions (EN)","badge_description":"<p>User met a goal - user made a 3 questions (EN)</p>","total_badges_count":1}],"count":5,"has_more_data":false,"cursor":null,"current_page":1,"current_page_size":10,"total_page_count":1,"total_count":5,"extra_data":{"total_points":242,"not_awarded_count":17},"sort":[{"sort_attr":"issued_on","sort_dir":"desc"}]}}')},"yn+W":function(t,e,n){"use strict";n.d(e,"b",function(){return I}),n.d(e,"a",function(){return x}),n.d(e,"c",function(){return E});var i=n("mrSG"),s=n("bUIS"),a=n("gvJE"),o=n("r0xE"),r=n("9b3o"),c=n("1FF/"),l=n("LC/E"),d=n("8lF4"),g=n("fXoL"),u=n("l7P3"),h=n("eRXO"),p=n("Gql0"),m=n("ofXK"),_=n("3zhW");function b(t,e){if(1&t&&(g.jc(0,"div",16),g.fd(1),g.ic()),2&t){const t=g.vc();g.Mb(1),g.gd(null==t.data.settings?null:t.data.settings.title)}}function f(t,e){1&t&&(g.jc(0,"div",17),g.jc(1,"div",18),g.ec(2,"i",19),g.ic(),g.ic())}function w(t,e){1&t&&(g.jc(0,"div",20),g.ec(1,"avatar",21),g.ic()),2&t&&(g.Mb(1),g.Dc("initials","JD")("image_url",null)("size",55))}function C(t,e){1&t&&(g.jc(0,"div",22),g.ec(1,"div",23),g.ic()),2&t&&(g.Mb(1),g.cd("background-image","url(https://www.amazingdestinations.be/files/cache/square/files/japan-miyajima-hoogtepunt-torii-poort1-59c90102232ae.jpg)"))}function O(t,e){1&t&&(g.jc(0,"div",17),g.jc(1,"div",18),g.ec(2,"i",19),g.ic(),g.ic())}function v(t,e){1&t&&(g.jc(0,"div",20),g.ec(1,"avatar",21),g.ic()),2&t&&(g.Mb(1),g.Dc("initials","JD")("image_url",null)("size",55))}function M(t,e){1&t&&(g.jc(0,"div",22),g.ec(1,"div",23),g.ic()),2&t&&(g.Mb(1),g.cd("background-image","url(https://www.amazingdestinations.be/files/cache/square/files/japan-miyajima-hoogtepunt-torii-poort1-59c90102232ae.jpg)"))}function y(t,e){1&t&&(g.jc(0,"div",17),g.jc(1,"div",18),g.ec(2,"i",19),g.ic(),g.ic())}function P(t,e){1&t&&(g.jc(0,"div",20),g.ec(1,"avatar",21),g.ic()),2&t&&(g.Mb(1),g.Dc("initials","JD")("image_url",null)("size",55))}function S(t,e){1&t&&(g.jc(0,"div",22),g.ec(1,"div",23),g.ic()),2&t&&(g.Mb(1),g.cd("background-image","url(https://www.amazingdestinations.be/files/cache/square/files/japan-miyajima-hoogtepunt-torii-poort1-59c90102232ae.jpg)"))}class I extends o.a{constructor(t){super(),this.widgetSettingsDependenciesService=t,this.serviceProvider=t.backendService,this.config=this.initConfig({name:"trending",preview:"/public/images/pages/trending-widget-preview.jpg",heading:a.a.t("admin_webpages","Trending"),description:a.a.t("admin_webpages","Shows trending content or users"),conditions:{exists:!1},params:[{name:"title",type:"textMultilang",label:a.a.t("standard","Title"),legend:a.a.t("dashboard","Leave blank to hide the title")},{name:"displayModeGroup",type:"group",subFields:[{name:"show",type:"radio",label:a.a.t("app7020","Show"),defaultValue:"topChannels",options:[{value:"topChannels",label:a.a.t("admin_webpages","Top Channels")},{value:"topExperts",label:a.a.t("admin_webpages","Top Experts")},{value:"topUsers",label:a.a.t("admin_webpages","Top Users")},{value:"bestsellerCourses",label:a.a.t("admin_webpages","Bestseller Courses")}],settings:{inline:!0}},{name:"groupBy",type:"radio",label:a.a.t("admin_webpages","Group by"),defaultValue:"sharedContents",options:[{value:"sharedContents",label:a.a.t("admin_webpages","Shared Contents")},{value:"qa",label:a.a.t("app7020","Q & A")},{value:"bestAnswer",label:a.a.t("app7020","Best Answer")}],settings:{inline:!0},conditions:{isVisible:[t=>"bestsellerCourses"!==t.controls.show.value]}}]},{name:"optionsGroup",type:"group",title:a.a.t("admin","Options"),subFields:[{name:"showTimeTrend",type:"switch",label:a.a.t("admin_webpages",'Show "Time Trend"'),defaultValue:!0},{name:"defaultTimeTrend",type:"dropdown",label:a.a.t("admin_webpages","Default time trend"),defaultValue:"weekly",options:[{value:"weekly",label:a.a.t("standard","Weekly")},{value:"monthly",label:a.a.t("standard","Monthly")},{value:"yearly",label:a.a.t("app7020","Yearly")}]},{name:"showLoadMore",type:"switch",label:a.a.t("standard",'Show "Load more" button'),defaultValue:!0}]}]})}}let x=(()=>{let t=class extends s.a{constructor(t,e,n,i,s,a){super(),this.store=t,this.actions=e,this.cdr=n,this.formatter=i,this.elRef=s,this.scrollMonitor=a,void 0!==this.store&&this.store.dispatch(this.actions.init({}))}reduxListener(){void 0!==this.store&&(this.reduxSubscriber=this.store.select(l.l).subscribe(t=>{switch(this.currentState=t,this.currentState.status){case"DATA_LOADED":case"DEMO_DATA_LOADED":break;default:return}}))}ngOnInit(){this.scrollMonitor.registerWidget(this.elRef).subscribe(t=>{})}ngOnDestroy(){this.reduxSubscriber.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(g.dc(u.d),g.dc(h.a),g.dc(g.i),g.dc(p.b),g.dc(g.o),g.dc(r.a))},t.\u0275cmp=g.Xb({type:t,selectors:[["trending-widget"]],features:[g.Lb([r.a]),g.Jb],decls:47,vars:28,consts:[["class","trending-title",4,"ngIf"],[1,"trending-widget-root","widget-shadow"],[1,"trending-item"],[1,"trending-item-position","text-grey-mid"],["class","trending-item-icon",4,"ngIf"],["class","trending-item-avatar",4,"ngIf"],["class","trending-item-course-image",4,"ngIf"],[1,"trending-item-info"],[1,"trending-item-title","text-main"],[1,"trending-item-result","text-grey-mid"],[1,"trending-item-trend","text-grey-mid"],[1,"zmdi","zmdi-trending-flat"],[1,"zmdi","zmdi-trending-up"],[1,"zmdi","zmdi-trending-down"],[1,"trending-load-more"],["title","Load more",1,"mdl-button","mdl-js-button","text-main"],[1,"trending-title"],[1,"trending-item-icon"],[1,"icon-wrapper"],[1,"fa","fa-history",2,"color","rgb(255, 255, 255)","background-color","rgb(4, 101, 172)"],[1,"trending-item-avatar"],[3,"initials","image_url","size"],[1,"trending-item-course-image"],[1,"trending-item-course-image-inner"]],template:function(t,e){1&t&&(g.dd(0,b,2,1,"div",0),g.jc(1,"div",1),g.jc(2,"div",2),g.jc(3,"div",3),g.fd(4,"1"),g.ic(),g.dd(5,f,3,0,"div",4),g.dd(6,w,2,3,"div",5),g.dd(7,C,2,2,"div",6),g.jc(8,"div",7),g.jc(9,"div",8),g.fd(10,"Sales and Post Sales"),g.ic(),g.jc(11,"div",9),g.fd(12,"12345 shared contents"),g.ic(),g.jc(13,"div",10),g.fd(14," Weekly trend: "),g.ec(15,"i",11),g.ic(),g.ic(),g.ic(),g.jc(16,"div",2),g.jc(17,"div",3),g.fd(18,"1"),g.ic(),g.dd(19,O,3,0,"div",4),g.dd(20,v,2,3,"div",5),g.dd(21,M,2,2,"div",6),g.jc(22,"div",7),g.jc(23,"div",8),g.fd(24,"Sales and Post Sales"),g.ic(),g.jc(25,"div",9),g.fd(26,"12345 shared contents"),g.ic(),g.jc(27,"div",10),g.fd(28," Weekly trend: "),g.ec(29,"i",12),g.ic(),g.ic(),g.ic(),g.jc(30,"div",2),g.jc(31,"div",3),g.fd(32,"1"),g.ic(),g.dd(33,y,3,0,"div",4),g.dd(34,P,2,3,"div",5),g.dd(35,S,2,2,"div",6),g.jc(36,"div",7),g.jc(37,"div",8),g.fd(38,"Sales and Post Sales"),g.ic(),g.jc(39,"div",9),g.fd(40,"12345 shared contents"),g.ic(),g.jc(41,"div",10),g.fd(42," Weekly trend: "),g.ec(43,"i",13),g.ic(),g.ic(),g.ic(),g.jc(44,"div",14),g.jc(45,"a",15),g.fd(46," Load more "),g.ic(),g.ic(),g.ic()),2&t&&(g.Dc("ngIf",null==e.data.settings?null:e.data.settings.title),g.Mb(5),g.Dc("ngIf","topChannels"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(1),g.Dc("ngIf","topExperts"===(null==e.data.settings?null:e.data.settings.show)||"topUsers"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(1),g.Dc("ngIf","bestsellerCourses"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(1),g.Vb("channels","topChannels"===(null==e.data.settings?null:e.data.settings.show))("users","topExperts"===(null==e.data.settings?null:e.data.settings.show)||"topUsers"===(null==e.data.settings?null:e.data.settings.show))("courses","bestsellerCourses"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(11),g.Dc("ngIf","topChannels"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(1),g.Dc("ngIf","topExperts"===(null==e.data.settings?null:e.data.settings.show)||"topUsers"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(1),g.Dc("ngIf","bestsellerCourses"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(1),g.Vb("channels","topChannels"===(null==e.data.settings?null:e.data.settings.show))("users","topExperts"===(null==e.data.settings?null:e.data.settings.show)||"topUsers"===(null==e.data.settings?null:e.data.settings.show))("courses","bestsellerCourses"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(11),g.Dc("ngIf","topChannels"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(1),g.Dc("ngIf","topExperts"===(null==e.data.settings?null:e.data.settings.show)||"topUsers"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(1),g.Dc("ngIf","bestsellerCourses"===(null==e.data.settings?null:e.data.settings.show)),g.Mb(1),g.Vb("channels","topChannels"===(null==e.data.settings?null:e.data.settings.show))("users","topExperts"===(null==e.data.settings?null:e.data.settings.show)||"topUsers"===(null==e.data.settings?null:e.data.settings.show))("courses","bestsellerCourses"===(null==e.data.settings?null:e.data.settings.show)))},directives:[m.p,_.a],styles:[".color-gm__red{color:#de352e}.color-gm__yellow{color:#f5a623}.color-gm__green{color:#64c763}.color-gm__blue{color:#0c509c}.color-gm__light-blue{color:#4861b0}.trending-title{font-size:18px;line-height:24px;padding-bottom:17px}.trending-widget-root{background-color:#fff}.trending-widget-root .trending-item{height:85px;border-bottom:1px solid var(--ui-color-border-neutral)}.trending-widget-root .trending-item .trending-item-position{height:85px;width:60px;font-size:18px;font-weight:600;float:left;line-height:85px;text-align:center}.trending-widget-root .trending-item .trending-item-icon{width:45px;float:left;height:85px;padding:25px 0;box-sizing:border-box}.trending-widget-root .trending-item .trending-item-icon .icon-wrapper i{width:45px;height:36px;text-align:center;line-height:36px;font-size:15px;border-radius:5px}.trending-widget-root .trending-item .trending-item-avatar{float:left;width:55px;height:85px;padding:15px 0;box-sizing:border-box}.trending-widget-root .trending-item .trending-item-course-image{width:90px;height:85px;float:left;padding:17.5px 0;box-sizing:border-box}.trending-widget-root .trending-item .trending-item-course-image .trending-item-course-image-inner{width:90px;height:50px;background-size:cover;background-position:50%}.trending-widget-root .trending-item .trending-item-info{float:left;padding:14px 25px;box-sizing:border-box}.trending-widget-root .trending-item .trending-item-info.channels{width:calc(100% - 105px)}.trending-widget-root .trending-item .trending-item-info.users{width:calc(100% - 115px)}.trending-widget-root .trending-item .trending-item-info.courses{width:calc(100% - 150px)}.trending-widget-root .trending-item .trending-item-info .trending-item-title{font-size:15px;font-weight:600;line-height:20px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.trending-widget-root .trending-item .trending-item-info .trending-item-result{font-size:12px;font-weight:600;line-height:17px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.trending-widget-root .trending-item .trending-item-info .trending-item-trend{font-size:12px;font-weight:600;line-height:17px}.trending-widget-root .trending-item .trending-item-info .trending-item-trend .zmdi{font-size:20px;vertical-align:middle;margin-left:5px}.trending-widget-root .trending-item .trending-item-info .trending-item-trend .zmdi.zmdi-trending-down{color:var(--ui-color-typography-error)}.trending-widget-root .trending-item .trending-item-info .trending-item-trend .zmdi.zmdi-trending-up{color:var(--ui-color-typography-success)}.trending-widget-root .trending-load-more{text-align:center;height:40px;padding:2px 0;box-sizing:border-box}.trending-widget-root .trending-load-more a:hover{text-decoration:none}"],encapsulation:2}),t=Object(i.b)([Object(d.a)({name:"trending",module:"pages",settings:I})],t),t})();const E=c},yoPb:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("ofXK"),s=n("tfGn"),a=n("S2Qf"),o=n("y0sE"),r=n("lWmL"),c=n("nUpK"),l=n("fXoL"),d=n("l7P3"),g=n("AurG");let u=(()=>{class t{constructor(t,e,n){this.store=t,this.widgetRenderActions=e,this.toggle=n,this.toggle.isOn(a.f.TOGGLE_COACH_PHASE_1)&&this.store.dispatch(this.widgetRenderActions.registerSingleWidget(o.a,"shared"))}}return t.\u0275fac=function(e){return new(e||t)(l.nc(d.d),l.nc(g.a),l.nc(a.g))},t.\u0275mod=l.bc({type:t}),t.\u0275inj=l.ac({providers:[r.a],imports:[[i.c,c.sb,c.p,c.cd,s.a,c.sc,c.t,c.f,c.G,c.vd,c.z,c.Zc,c.Yb,c.Jb,c.Lb,c.Kb,c.Vb,c.Wb]]}),t})()},zanj:function(t,e,n){"use strict";n.d(e,"a",function(){return _t});var i=n("ofXK"),s=n("tfGn"),a=n("tk/3"),o=n("fXoL"),r=n("3Pt+"),c=n("wI8q"),l=n("GIHc"),d=n("NJk+"),g=n("PsRC"),u=n("TrxT"),h=n("UxkS"),p=n("8EDT"),m=n("Gnzr"),_=n("lJxs"),b=n("IzEk"),f=n("pLZG"),w=n("/uUt"),C=n("Kj3r"),O=n("1G5W"),v=n("/76g"),M=n("Z0T5"),y=n("D/g0"),P=n("+sIT"),S=n("nUpK"),I=n("gvJE");const x=["fileInput"];function E(t,e){1&t&&(o.ec(0,"ui-notification-inline",8),o.wc(1,"t")),2&t&&o.Dc("title",o.xc(1,1,"A thumbnail is required for this operation. Please correct this issue before continuing"))}function T(t,e){1&t&&(o.jc(0,"ui-carousel-item"),o.jc(1,"div",9),o.jc(2,"div",10),o.ec(3,"ui-spinner",11),o.ic(),o.ic(),o.ic()),2&t&&(o.Mb(3),o.Dc("size","sm")("color","neutral"))}function D(t,e){if(1&t){const t=o.kc();o.jc(0,"ui-carousel-item"),o.jc(1,"ui-image-selector",13),o.rc("selectionChange",function(n){o.Uc(t);const i=e.$implicit;return o.vc(2).selectThumbnail(n,i.url)}),o.ic(),o.ic()}if(2&t){const t=e.$implicit,n=e.index,i=o.vc(2);o.Mb(1),o.Dc("size","sm")("selectable",!(1===i.thumbnailService.suggestedImages.length&&i.getsDefaultPlaceholderOnUpload))("src",t.url)("selected",i.isSelectedImage(n))}}function k(t,e){if(1&t&&(o.hc(0),o.dd(1,D,2,4,"ui-carousel-item",12),o.gc()),2&t){const t=o.vc();o.Mb(1),o.Dc("ngForOf",t.thumbnailService.suggestedImages)("ngForTrackBy",t.trackBy)}}function A(t,e){if(1&t){const t=o.kc();o.jc(0,"ui-carousel-item"),o.jc(1,"ui-image-selector",13),o.rc("selectionChange",function(e){o.Uc(t);const n=o.vc();return n.selectThumbnail(e,n.defaultPlaceholderImage.url)}),o.ic(),o.ic()}if(2&t){const t=o.vc();o.Mb(1),o.Dc("size","sm")("selectable",t.thumbnailService.suggestedImages.length>0)("src",t.defaultPlaceholderImage.url)("selected",t.isSelectedImage(t.thumbnailService.suggestedImages.length+1))}}let L=(()=>{class t extends u.a{constructor(t,e,n,i,s){super(),this.thumbnailService=t,this.changeRef=e,this.imageCropper=n,this.uploadService=i,this.docLayoutService=s,this.thumbnailFormControl=new r.e(""),this.dictionary=new g.a,this.isLoadingImage=!1,this.uploadOptions={collection:"assets",subfolder:"app7020/small",maxFileSize:d.a.THUMBNAIL_DATA.maxSize,allowedExtensions:["gif","ico","jpeg","jpg","png"]},this.buttonUploadParams={label:this.dictionary.uploadImageLabel,style:m.a.BUTTON},this.uploadCroppedThumbnail=(t,e)=>{e.subscribe(e=>{const n=e=>{this.isLoadingImage=!1,this.changeRef.markForCheck();let n=this.uploadService.stripQuerystring(e);n.startsWith("http:")||n.startsWith("https:")||(n=n.indexOf("//")>-1?`${window.location.protocol}${n}`:`${window.location.protocol}//${n}`),this.thumbnailFormControl.setValue(n),this.addImageToSuggested(n),t.closeDialog()},i=t=>{const e={name:t.filename_hashed,type:this.uploadService.getFileExtension(t.filename_hashed)};this.uploadService.getSignedUrl(e,"assets","app7020/original",!0,"read").pipe(Object(_.a)(t=>t.data),Object(b.a)(1)).subscribe(t=>n(t.url))},s=(t,e)=>{this.uploadService.uploadToS3(t,e.url).pipe(Object(f.a)(t=>t.type===a.e.Response),Object(b.a)(1)).subscribe(()=>i(e))};(t=>{this.uploadService.getSignedUrl(t,"assets","app7020/original",!1).pipe(Object(_.a)(t=>t.data),Object(b.a)(1)).subscribe(s.bind(this,t))})(e)}),t.getCroppedThumbnail(h.c.FILE),t.isCropperReady=!1}}get getsDefaultPlaceholderOnUpload(){return[c.b.IMAGE,c.b.VIDEO].indexOf(this.contentType)>-1}get defaultPlaceholderImage(){return{url:c.e.assetDefaultImage(this.contentType),name:" "}}ngOnInit(){this.setDefaultAssetImage(),this.thumbnailFormControl.valueChanges.pipe(Object(w.a)(),Object(C.a)(500),Object(O.a)(this.ngUnsubscribe)).subscribe(()=>{this.setDefaultAssetImage()})}setDefaultAssetImage(){this.thumbnailFormControl.value.length&&this.addImageToSuggested(this.thumbnailFormControl.value)}cropUploadedThumbnail(t){if(!t)return;const e=this.dictionary.cropper;this.imageCropper.configureImageEditor({title:e.title,subtitle:e.subtitle,aspectRatio:p.a.RECTANGULAR,minDimensions:{height:d.a.THUMBNAIL_DATA.height,width:d.a.THUMBNAIL_DATA.width},image:{url:t.public_url,name:t.new_filename},actions:[{label:e.cancel,type:h.a.CANCEL,handler:t=>{this.isLoadingImage=!1,this.changeRef.detectChanges(),t.closeDialog()}},{label:e.confirm,type:h.a.CONFIRM,handler:this.uploadCroppedThumbnail}]}),this.imageCropper.openImageEditor()}thumbnailUploadInitialized(){this.isLoadingImage=!0}selectThumbnail(t,e){t&&this.thumbnailFormControl.setValue(e)}isSelectedImage(t){return this.thumbnailService.suggestedImages[t]?this.thumbnailService.suggestedImages[t].url===this.thumbnailFormControl.value:this.defaultPlaceholderImage.url===this.thumbnailFormControl.value}trackBy(t,e){return e.url}uploadNewThumbnail(t){if(!t.target.files[0])return;if(!this.isFileValid(t.target.files[0]))return void this.docLayoutService.toast.showToast({message:v.a.t("standard","Invalid file extension, allowed: {allow}",{allow:this.uploadOptions.allowedExtensions.join(", ")}),type:"error"});this.thumbnailUploadInitialized();const e=t=>{this.uploadService.getSignedUrl(t,this.uploadOptions.collection,this.uploadOptions.subfolder,!0,"read").pipe(Object(_.a)(t=>t.data),Object(b.a)(1)).subscribe(e=>{const n=this.uploadService.stripQuerystring(e.url);this.fileInput.value="",this.cropUploadedThumbnail({new_filename:t.name,public_url:n})})},n=(t,n)=>{this.uploadService.uploadToS3(t,n.url).pipe(Object(f.a)(t=>t.type===a.e.Response),Object(b.a)(1)).subscribe(i=>e(Object.assign(Object.assign({},t),{name:n.filename_hashed})))};(t=>{this.uploadService.getSignedUrl(t,this.uploadOptions.collection,this.uploadOptions.subfolder,!1).pipe(Object(_.a)(t=>t.data),Object(b.a)(1)).subscribe(n.bind(this,t))})(t.target.files[0])}addImageToSuggested(t){t!==this.defaultPlaceholderImage.url&&(this.thumbnailService.suggestedImages.map(t=>t.url).indexOf(t)>-1||(this.thumbnailService.suggestedImages.unshift({url:t,name:" "}),this.changeRef.detectChanges()))}isFileValid(t){const e=this.uploadService.getFileExtension(t.name);return-1!==this.uploadOptions.allowedExtensions.indexOf(e)}}return t.\u0275fac=function(e){return new(e||t)(o.dc(M.a),o.dc(o.i),o.dc(y.a),o.dc(l.a),o.dc(P.a))},t.\u0275cmp=o.Xb({type:t,selectors:[["her-asset-thumbnail"]],viewQuery:function(t,e){if(1&t&&o.md(x,1,o.o),2&t){let t;o.Qc(t=o.sc())&&(e.fileInput=t.first)}},inputs:{thumbnailFormControl:"thumbnailFormControl",contentType:"contentType"},features:[o.Lb([l.a]),o.Jb],decls:15,vars:17,consts:[[3,"title",4,"ngIf"],[3,"showSeeAllLink","title"],[4,"ngIf"],[1,"thumbnail-selection"],[1,"description","hyd-typography-subtitle","hyd-color-typography-secondary"],[1,"image-upload-btn",3,"ariaLabel","label","trigger"],["aria-hidden","true","type","file","name","profile_pic","accept",".jpg, .jpeg, .png, .ico, .gif",2,"display","none",3,"change"],["fileInput",""],[3,"title"],[1,"image-wrapper","hyd-background-backdrop"],[1,"spinner-wrapper"],[3,"size","color"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"size","selectable","src","selected","selectionChange"]],template:function(t,e){if(1&t){const t=o.kc();o.dd(0,E,2,3,"ui-notification-inline",0),o.jc(1,"ui-carousel",1),o.wc(2,"t"),o.dd(3,T,4,2,"ui-carousel-item",2),o.dd(4,k,2,2,"ng-container",2),o.dd(5,A,2,4,"ui-carousel-item",2),o.ic(),o.jc(6,"div",3),o.jc(7,"div",4),o.fd(8),o.wc(9,"t"),o.ic(),o.jc(10,"ui-button-raised-primary",5),o.rc("trigger",function(){return o.Uc(t),o.Rc(14).click()}),o.wc(11,"t"),o.wc(12,"t"),o.ic(),o.jc(13,"input",6,7),o.rc("change",function(t){return e.uploadNewThumbnail(t)}),o.ic(),o.ic()}2&t&&(o.Dc("ngIf",e.thumbnailFormControl.touched&&!e.thumbnailFormControl.valid),o.Mb(1),o.Dc("showSeeAllLink",!1)("title",o.xc(2,9,e.dictionary.sectionTitle)),o.Mb(2),o.Dc("ngIf",e.isLoadingImage),o.Mb(1),o.Dc("ngIf",e.thumbnailService.suggestedImages.length),o.Mb(1),o.Dc("ngIf",!e.getsDefaultPlaceholderOnUpload||e.getsDefaultPlaceholderOnUpload&&!e.thumbnailService.suggestedImages.length),o.Mb(3),o.hd(" ",o.xc(9,11,e.dictionary.description)," "),o.Mb(2),o.Dc("ariaLabel",o.xc(11,13,e.buttonUploadParams.label))("label",o.xc(12,15,e.buttonUploadParams.label)))},directives:[i.p,S.Z,S.E,S.Bc,S.ab,S.bd,i.o,S.Gb],pipes:[I.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   ui-notification-inline[_ngcontent-%COMP%]{margin-bottom:var(--hyd-spacing-sm)}[_nghost-%COMP%]  .docebo-button.button-rectangular{margin:0}[_nghost-%COMP%]  image-preview .details-bar{padding:0}[_nghost-%COMP%]  image-preview .image-selection{transform:scale(.6)}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:var(--hyd-typography-weight-semibold);margin-bottom:var(--hyd-spacing-md)}[_nghost-%COMP%]   .thumbnail-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .image-upload-btn[_ngcontent-%COMP%]{margin-top:var(--hyd-spacing-xxs)}[_nghost-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:var(--hyd-size-contentimage-sm);padding-bottom:50%;flex-shrink:0}[_nghost-%COMP%]   .spinner-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   ui-carousel-item[_ngcontent-%COMP%]:not(:last-of-type){margin-right:var(--hyd-spacing-sm)}[dir=rtl]   [_nghost-%COMP%]   ui-carousel-item[_ngcontent-%COMP%]:not(:last-of-type){margin-left:var(--hyd-spacing-sm)}"]}),t})();var j=n("Mc4G"),N=n("0m2H"),R=n("rL2y"),F=n("6fYS"),U=n("9jGm"),z=n("lfsz"),q=n("a4yA"),B=n("ScO8"),V=n("Jc1x"),G=n("rnoZ"),W=n("076Y"),H=n("6CNT"),$=n("5EG7");const Q=["assetSkills"];function J(t,e){if(1&t&&(o.hc(0),o.jc(1,"div",0),o.jc(2,"div",1),o.fd(3),o.wc(4,"t"),o.jc(5,"div",5),o.fd(6),o.wc(7,"t"),o.ic(),o.ic(),o.ec(8,"app7020-asset-tags",6),o.ic(),o.gc()),2&t){const t=o.vc();o.Mb(3),o.hd(" ",o.xc(4,4,t.dictionary.tagsTitle)," "),o.Mb(3),o.hd(" ",o.xc(7,6,t.dictionary.tagsSubtitle)," "),o.Mb(2),o.Dc("inputFormControl",t.formControl(t.formKeys.TAGS))("preselected",t.preselectedTags)}}function Y(t,e){1&t&&(o.jc(0,"div",11),o.ec(1,"ui-spinner",12),o.ic()),2&t&&(o.Mb(1),o.Dc("size","lg"))}function K(t,e){if(1&t){const t=o.kc();o.jc(0,"skill-chip",15),o.rc("selected",function(e){return o.Uc(t),o.vc(3).skillsShareService.onSkillChipSelected(e)}),o.ic()}2&t&&o.Dc("skill",e.$implicit)}function X(t,e){if(1&t&&(o.hc(0),o.jc(1,"div",13),o.dd(2,K,1,1,"skill-chip",14),o.wc(3,"async"),o.ic(),o.gc()),2&t){const t=o.vc(2);o.Mb(2),o.Dc("ngForOf",o.xc(3,1,t.skillsShareService.skillsSuggestion$))}}function Z(t,e){if(1&t){const t=o.kc();o.hc(0),o.jc(1,"div",7),o.jc(2,"div",1),o.fd(3),o.wc(4,"t"),o.jc(5,"div",5),o.fd(6),o.wc(7,"t"),o.ic(),o.ic(),o.dd(8,Y,2,1,"div",8),o.wc(9,"async"),o.dd(10,X,4,3,"ng-container",4),o.wc(11,"async"),o.wc(12,"async"),o.jc(13,"app7020-asset-skills",9,10),o.rc("itemSelected",function(e){return o.Uc(t),o.vc().onSkillItemSelected(e)})("itemDeselected",function(e){return o.Uc(t),o.vc().onSkillItemDeselected(e)})("selectedItemsChanged",function(e){return o.Uc(t),o.vc().skillSelectedItemsChanged.emit(e)}),o.ic(),o.ic(),o.gc()}if(2&t){const t=o.vc();o.Mb(3),o.hd(" ",o.xc(4,7,t.dictionary.skillsTitle)," "),o.Mb(3),o.hd(" ",o.xc(7,9,t.dictionary.skillsSubtitle)," "),o.Mb(2),o.Dc("ngIf",o.xc(9,11,t.skillsShareService.skillsSuggestionLoading$)),o.Mb(2),o.Dc("ngIf",o.xc(11,13,t.skillsShareService.skillsSuggestion$)&&!o.xc(12,15,t.skillsShareService.skillsSuggestionLoading$)),o.Mb(3),o.Dc("inputFormControl",t.skillsFormControl)("preselected",t.skillsPreselection)("mappedToId",!0)}}let tt=(()=>{class t extends u.a{constructor(t){super(),this.skillsShareService=t,this.formGroup=new r.h({}),this.skillsPreselection=[],this.skillSelectedItemsChanged=new o.q,this.skillSuggestionsPredictionId=new o.q,this.formKeys=d.b,this.preselectedTags=[],this.dictionary={title:v.a.t("app7020","Title"),description:v.a.t("app7020","Description"),fileDescPlaceholder:v.a.t("standard","Type text here..."),detailsTitle:v.a.t("app7020","Details"),tagsTitle:v.a.t("app7020","Tags"),tagsSubtitle:v.a.t("app7020","Assign different tags to improve content search"),skillsTitle:v.a.t("standard","Skills"),skillsSubtitle:v.a.t("app7020","Assign skills to this asset to improve content search")}}get skillsFormControl(){var t;return null!==(t=this.formGroup.get(d.b.SKILLS))&&void 0!==t?t:new r.e([])}ngOnInit(){const t=this.formGroup.getRawValue();t.hasOwnProperty(d.b.TAGS)&&(this.preselectedTags=t[d.b.TAGS].map(t=>({id:t,name:t}))),this.skillsShareService.skillsShareActive&&(this.addSkillSuggestionSelectedListener(),this.loadSkillsSuggestion()),this.skillsShareService.skillSuggestionsPredictionId$.pipe(Object(f.a)(t=>Boolean(t))).subscribe(t=>this.skillSuggestionsPredictionId.emit(t))}get descriptionPreset(){return q.c.BASE}formControl(t){return this.formGroup.get(t)}get canSeeTags(){const t=z.c.getInstance();return t.isCurrentUserA(z.c.LEVEL_SUPERADMIN)||t.isExpert()}onFocusOut(){this.skillsShareService.skillsShareActive&&this.loadSkillsSuggestion()}addSkillSuggestionSelectedListener(){this.skillsShareService.skillSuggestionSelected$.pipe(Object(O.a)(this.ngUnsubscribe)).subscribe(t=>this.onSkillSuggestionSelected(t))}onSkillItemSelected(t){this.skillsShareService.updateSkillChip(t,!0)}onSkillItemDeselected(t){this.skillsShareService.updateSkillChip(t,!1)}onSkillSuggestionSelected(t){this.assetSkills.toggleElement({id:t.code,name:t.name})}loadSkillsSuggestion(){var t,e;const n=this.formGroup.getRawValue(),i=null==n?void 0:n[d.b.TITLE],s=null!==(e=(new DOMParser).parseFromString(null!==(t=null==n?void 0:n[d.b.DESCRIPTION])&&void 0!==t?t:"","text/html").body.textContent)&&void 0!==e?e:"";(null==i?void 0:i.length)&&(null==s?void 0:s.length)&&this.skillsShareService.loadSuggestions(i,s,this.skillsPreselection.map(t=>t.id))}}return t.\u0275fac=function(e){return new(e||t)(o.dc(B.a))},t.\u0275cmp=o.Xb({type:t,selectors:[["her-asset-details"]],viewQuery:function(t,e){if(1&t&&o.md(Q,1),2&t){let t;o.Qc(t=o.sc())&&(e.assetSkills=t.first)}},inputs:{formGroup:"formGroup",skillsPreselection:"skillsPreselection"},outputs:{skillSelectedItemsChanged:"skillSelectedItemsChanged",skillSuggestionsPredictionId:"skillSuggestionsPredictionId"},features:[o.Jb],decls:9,vars:17,consts:[[1,"section-box"],[1,"section-title"],[3,"floating_label","id","inputFormControl","label","focusout"],[3,"charCounterMax","charCounter","inputFormControl","label","placeholderText","preset","focusout"],[4,"ngIf"],[1,"section-subtitle","hyd-color-typography-secondary","hyd-typography-subtitle"],[3,"inputFormControl","preselected"],["id","newAssetSkills",1,"section-box"],["class","skill-suggestion-spinner",4,"ngIf"],[3,"inputFormControl","preselected","mappedToId","itemSelected","itemDeselected","selectedItemsChanged"],["assetSkills",""],[1,"skill-suggestion-spinner"],[3,"size"],[1,"skill-suggestions"],[3,"skill","selected",4,"ngFor","ngForOf"],[3,"skill","selected"]],template:function(t,e){1&t&&(o.jc(0,"div",0),o.jc(1,"div",1),o.fd(2),o.wc(3,"t"),o.ic(),o.jc(4,"textfield",2),o.rc("focusout",function(){return e.onFocusOut()}),o.ic(),o.jc(5,"rich-textarea",3),o.rc("focusout",function(){return e.onFocusOut()}),o.wc(6,"t"),o.ic(),o.ic(),o.dd(7,J,9,8,"ng-container",4),o.dd(8,Z,15,17,"ng-container",4)),2&t&&(o.Mb(2),o.gd(o.xc(3,13,e.dictionary.detailsTitle)),o.Mb(2),o.Dc("floating_label",!0)("id","informal-file-share-title")("inputFormControl",e.formControl(e.formKeys.TITLE))("label",e.dictionary.title),o.Mb(1),o.Dc("charCounterMax",6e3)("charCounter",!0)("inputFormControl",e.formControl(e.formKeys.DESCRIPTION))("label",e.dictionary.description)("placeholderText",o.xc(6,15,e.dictionary.fileDescPlaceholder))("preset",e.descriptionPreset),o.Mb(2),o.Dc("ngIf",e.canSeeTags),o.Mb(1),o.Dc("ngIf",e.skillsShareService.skillsShareActive))},directives:[V.a,G.a,i.p,W.a,H.a,S.bd,i.o,$.a],pipes:[I.b,i.b],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:var(--hyd-typography-weight-semibold);margin-bottom:12px}[_nghost-%COMP%]   rich-textarea[_ngcontent-%COMP%]:not(:last-child){display:block;margin-bottom:var(--hyd-spacing-lg)}.skill-suggestions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.skill-suggestion-spinner[_ngcontent-%COMP%]{text-align:center;margin:15px auto 30px}"]}),t})();var et=n("wsCI"),nt=n("KBLj"),it=n("/hE/");let st=(()=>{class t{constructor(){this.showNextButton=new o.q,this.optionsLabels=(new nt.a).shareWith,this.shareToPeople=c.e.settings.share_to_people!==c.d.CANT_SHARE}changeRadio(t){this.showNextButton.emit("channel_or_people_share"===t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xb({type:t,selectors:[["her-asset-share-with"]],inputs:{shareFormControl:"shareFormControl"},outputs:{showNextButton:"showNextButton"},decls:8,vars:19,consts:[[1,"section-title"],[3,"boxed","inputFormControl","label","subtitle","value","OnChange"]],template:function(t,e){1&t&&(o.jc(0,"div",0),o.fd(1),o.wc(2,"t"),o.ic(),o.jc(3,"radio",1),o.rc("OnChange",function(t){return e.changeRadio(t)}),o.wc(4,"t"),o.wc(5,"t"),o.ic(),o.jc(6,"radio",1),o.rc("OnChange",function(t){return e.changeRadio(t)}),o.wc(7,"t"),o.ic()),2&t&&(o.Mb(1),o.hd("",o.xc(2,11,e.optionsLabels.sectionTitle),":"),o.Mb(2),o.Dc("boxed",!0)("inputFormControl",e.shareFormControl)("label",o.xc(4,13,e.shareToPeople?e.optionsLabels.channelsAndPeople.label:e.optionsLabels.channelsOnly.label))("subtitle",o.xc(5,15,e.shareToPeople?e.optionsLabels.channelsAndPeople.description:e.optionsLabels.channelsOnly.description))("value","channel_or_people_share"),o.Mb(3),o.Dc("boxed",!0)("inputFormControl",e.shareFormControl)("label",e.optionsLabels.onlyMe.label)("subtitle",o.xc(7,17,e.optionsLabels.onlyMe.description))("value","private"))},directives:[it.a],pipes:[I.b],styles:["her-asset-share-with{display:block}her-asset-share-with radio{display:inline-block}her-asset-share-with radio~radio{margin-top:16px}her-asset-share-with .section-title{font-weight:var(--hyd-typography-weight-semibold);margin-bottom:26px}"],encapsulation:2}),t})();var at=n("irRc"),ot=n("aT17"),rt=n("8lUq"),ct=n("QCRO"),lt=n("Akjt"),dt=n("fN+k"),gt=n("8Ff5"),ut=n("kZHE"),ht=n("wOr6"),pt=n("fnIB");const mt=[N.a];let _t=(()=>{class t{constructor(){}static forChildren(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.bc({type:t}),t.\u0275inj=o.ac({providers:[...mt],imports:[[i.c,s.a,U.d.forFeature([...j.a]),S.uc,F.c,R.a]]}),t})();o.Yc(rt.a,[lt.a,dt.a,gt.a,i.u,ut.a,ht.a,i.p,et.a,V.a,S.bd,S.o,L,tt,r.p,r.i,st],[I.b]),o.Yc(at.a,[lt.a,dt.a,gt.a,i.u,ut.a,ht.a,i.p,et.a,i.n,pt.a,S.Bb,L,tt,r.p,r.i,st],[I.b]),o.Yc(ot.a,[lt.a,dt.a,gt.a,i.u,ut.a,ht.a,i.p,et.a,V.a,L,tt,r.p,r.i,st],[I.b]),o.Yc(ct.a,[lt.a,dt.a,gt.a,i.u,ut.a,ht.a,i.p,et.a,pt.a,L,tt,r.p,r.i,st],[I.b])},zmik:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var i=n("Ms56");const s={widgets:{}},a={status:i.a.NOT_LOADED,data:null,error:{code:null,message:null},checkingSubscriptionCode:!1}},zvKk:function(t,e,n){"use strict";n.d(e,"a",function(){return O});var i=n("gvJE"),s=n("GIHc"),a=n("hAKv"),o=function(t){return t[t.notSelected=0]="notSelected",t[t.yes=1]="yes",t[t.no=2]="no",t}({}),r=n("wZxL"),c=n("fXoL"),l=n("ofXK"),d=n("rwK9");function g(t,e){if(1&t&&(c.jc(0,"span"),c.fd(1),c.ic()),2&t){const t=c.vc(2);c.Mb(1),c.gd(null==t.additionalField?null:t.additionalField.value)}}function u(t,e){if(1&t&&(c.jc(0,"span"),c.fd(1),c.ic()),2&t){const t=c.vc(2);c.Mb(1),c.gd(null==t.additionalField?null:t.additionalField.value)}}function h(t,e){if(1&t&&(c.jc(0,"span"),c.fd(1),c.wc(2,"date"),c.ic()),2&t){const t=c.vc(2);c.Mb(1),c.gd(c.xc(2,1,null==t.additionalField?null:t.additionalField.value))}}function p(t,e){if(1&t&&(c.jc(0,"span"),c.fd(1),c.ic()),2&t){const t=c.vc(2);c.Mb(1),c.gd(null==t.additionalField?null:t.additionalField.value)}}function m(t,e){if(1&t&&(c.jc(0,"span"),c.fd(1),c.ic()),2&t){const t=c.vc(2);c.Mb(1),c.gd(null==t.additionalField?null:t.additionalField.value)}}function _(t,e){if(1&t&&(c.jc(0,"span"),c.fd(1),c.ic()),2&t){const t=c.vc(2);c.Mb(1),c.gd(null==t.additionalField?null:t.additionalField.value)}}function b(t,e){if(1&t&&(c.jc(0,"a",7),c.fd(1),c.wc(2,"t"),c.ic()),2&t){const t=c.vc(2);c.Dc("href",t.uploadedFileUrl(),c.Xc)("title",t.uploadedFileName()),c.Mb(1),c.gd(c.xc(2,3,t.translations.view))}}function f(t,e){if(1&t&&(c.jc(0,"span"),c.fd(1),c.wc(2,"t"),c.ic()),2&t){const t=c.vc(2);c.Mb(1),c.gd(c.xc(2,1,t.yesNoValue()))}}function w(t,e){if(1&t&&(c.jc(0,"div",4),c.dd(1,g,2,1,"span",5),c.dd(2,u,2,1,"span",5),c.dd(3,h,3,3,"span",5),c.dd(4,p,2,1,"span",5),c.dd(5,m,2,1,"span",5),c.dd(6,_,2,1,"span",5),c.dd(7,b,3,5,"a",6),c.dd(8,f,3,3,"span",5),c.ic()),2&t){const t=c.vc();c.Dc("ngSwitch",null==t.additionalField?null:t.additionalField.type),c.Mb(1),c.Dc("ngSwitchCase",t.additionalFieldType.codicefiscale),c.Mb(1),c.Dc("ngSwitchCase",t.additionalFieldType.country),c.Mb(1),c.Dc("ngSwitchCase",t.additionalFieldType.date),c.Mb(1),c.Dc("ngSwitchCase",t.additionalFieldType.dropdown),c.Mb(1),c.Dc("ngSwitchCase",t.additionalFieldType.freetext),c.Mb(1),c.Dc("ngSwitchCase",t.additionalFieldType.textfield),c.Mb(1),c.Dc("ngSwitchCase",t.additionalFieldType.upload),c.Mb(1),c.Dc("ngSwitchCase",t.additionalFieldType.yesno)}}function C(t,e){1&t&&(c.jc(0,"div",8),c.fd(1,"\xa0"),c.ic())}let O=(()=>{class t extends r.a{constructor(t,e){super(),this.uploadService=t,this.changeDetectorRef=e,this.additionalFieldType=a.a,this.state={uploadedFileUrl:"",uploadedFileName:""},this.translations={[o.no]:i.a.t("standard","No"),[o.notSelected]:i.a.t("app7020","Empty"),[o.yes]:i.a.t("standard","Yes"),view:i.a.t("standard","View")}}ngOnInit(){this.additionalField.type===a.a.upload&&this.setUploadedFileUrlValue()}ngOnDestroy(){this.uploadServiceSubscriber&&this.uploadServiceSubscriber.unsubscribe()}yesNoValue(){return this.translations[this.additionalField.value]}uploadedFileName(){return this.state.uploadedFileName}uploadedFileUrl(){return this.state.uploadedFileUrl}valueIsNotEmpty(){return""!==this.additionalField.value&&null!=this.additionalField.value}setUploadedFileUrlValue(){const t=this.additionalField.value;if(!t)return;const e={name:t,type:this.uploadService.getFileMimeType(t)};this.uploadServiceSubscriber=this.uploadService.getSignedUrl(e,"field","",!0,"read").subscribe(t=>{this.setState({uploadedFileUrl:this.uploadService.stripQuerystring(t.data.url),uploadedFileName:t.data.fileName}),this.changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(c.dc(s.a),c.dc(c.i))},t.\u0275cmp=c.Xb({type:t,selectors:[["myprofile-additional-field"]],inputs:{additionalField:"additionalField"},features:[c.Lb([s.a]),c.Jb],decls:5,vars:3,consts:[[1,"root"],[1,"label"],["class","value",3,"ngSwitch",4,"ngIf"],["class","value",4,"ngIf"],[1,"value",3,"ngSwitch"],[4,"ngSwitchCase"],["target","_blank",3,"href","title",4,"ngSwitchCase"],["target","_blank",3,"href","title"],[1,"value"]],template:function(t,e){1&t&&(c.jc(0,"div",0),c.jc(1,"div",1),c.fd(2),c.ic(),c.dd(3,w,9,9,"div",2),c.dd(4,C,2,0,"div",3),c.ic()),2&t&&(c.Mb(2),c.hd("",null==e.additionalField?null:e.additionalField.label,":"),c.Mb(1),c.Dc("ngIf",e.valueIsNotEmpty()),c.Mb(1),c.Dc("ngIf",!e.valueIsNotEmpty()))},directives:[l.p,l.r,l.s],pipes:[d.a,i.b],styles:[".color-gm__red[_ngcontent-%COMP%]{color:#de352e}.color-gm__yellow[_ngcontent-%COMP%]{color:#f5a623}.color-gm__green[_ngcontent-%COMP%]{color:#64c763}.color-gm__blue[_ngcontent-%COMP%]{color:#0c509c}.color-gm__light-blue[_ngcontent-%COMP%]{color:#4861b0}.root[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;font-family:Open Sans,sans-serif;font-size:1em}.widgets-column-small[_ngcontent-%COMP%]   .root[_ngcontent-%COMP%], .widgets-column-small[_nghost-%COMP%]   .root[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .root[_ngcontent-%COMP%]{flex-direction:column}@media screen and (max-width:640px){.root[_ngcontent-%COMP%], .widgets-column-small[_ngcontent-%COMP%]   .root[_ngcontent-%COMP%]{flex-direction:column}}.label[_ngcontent-%COMP%]{flex:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:.75em;line-height:140%;font-weight:600;color:var(--ui-color-typography-secondary)}.router-outlet:not(.direction-rtl):not(.heracles-root)   [_nghost-%COMP%]     .label{margin:0 5px 0 0}.router-outlet.direction-rtl:not(.heracles-root)   [_nghost-%COMP%]     .label{margin:0 0 0 5px}.widgets-column-small[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .widgets-column-small[_nghost-%COMP%]   .label[_ngcontent-%COMP%], .widgets-column-small   [_nghost-%COMP%]   .label[_ngcontent-%COMP%]{margin:0 0 5px}@media screen and (max-width:640px){.label[_ngcontent-%COMP%], .widgets-column-small[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin:0 0 5px}}.value[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:.825em;line-height:140%;color:var(--ui-color-typography-primary)}"]}),t})()}}]);